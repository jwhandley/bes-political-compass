(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();const kc=!1;var vu=Array.isArray,xg=Array.prototype.indexOf,wu=Array.from,Mg=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,$g=Object.getOwnPropertyDescriptors,Tg=Object.prototype,Sg=Array.prototype,Os=Object.getPrototypeOf,Dc=Object.isExtensible;function Ag(t){for(var n=0;n<t.length;n++)t[n]()}const en=2,Us=4,Za=8,_u=16,qn=32,cr=64,fa=128,qt=256,ua=512,It=1024,bn=2048,Te=4096,Fn=8192,Ka=16384,Eg=32768,xu=65536,Cg=1<<19,qs=1<<20,yf=1<<21,Ji=Symbol("$state");function Bs(t){return t===this.v}function Ng(t,n){return t!=t?n==n:t!==n||t!==null&&typeof t=="object"||typeof t=="function"}function Ys(t){return!Ng(t,this.v)}function kg(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dg(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Lg(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ig(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Rg(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fg(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Pg(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Og=!1;const Ug=1,qg=2,Bg=16,Yg=1,Hg=2,kt=Symbol(),zg="http://www.w3.org/1999/xhtml";function Wg(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Lt=null;function Lc(t){Lt=t}function Hs(t,n=!1,e){var r=Lt={p:Lt,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};em(()=>{r.d=!0})}function zs(t){const n=Lt;if(n!==null){const o=n.e;if(o!==null){var e=lt,r=ut;n.e=null;try{for(var i=0;i<o.length;i++){var a=o[i];Ge(a.effect),Qn(a.reaction),Tu(a.fn)}}finally{Ge(e),Qn(r)}}Lt=n.p,n.m=!0}return{}}function Ws(){return!0}function oe(t){if(typeof t!="object"||t===null||Ji in t)return t;const n=Os(t);if(n!==Tg&&n!==Sg)return t;var e=new Map,r=vu(t),i=jt(0),a=ut,o=f=>{var u=ut;Qn(a);var l=f();return Qn(u),l};return r&&e.set("length",jt(t.length)),new Proxy(t,{defineProperty(f,u,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Rg();var c=e.get(u);return c===void 0?(c=o(()=>jt(l.value)),e.set(u,c)):Ot(c,o(()=>oe(l.value))),!0},deleteProperty(f,u){var l=e.get(u);if(l===void 0)u in f&&(e.set(u,o(()=>jt(kt))),Lo(i));else{if(r&&typeof u=="string"){var c=e.get("length"),d=Number(u);Number.isInteger(d)&&d<c.v&&Ot(c,d)}Ot(l,kt),Lo(i)}return!0},get(f,u,l){var h;if(u===Ji)return t;var c=e.get(u),d=u in f;if(c===void 0&&(!d||(h=Ir(f,u))!=null&&h.writable)&&(c=o(()=>jt(oe(d?f[u]:kt))),e.set(u,c)),c!==void 0){var s=at(c);return s===kt?void 0:s}return Reflect.get(f,u,l)},getOwnPropertyDescriptor(f,u){var l=Reflect.getOwnPropertyDescriptor(f,u);if(l&&"value"in l){var c=e.get(u);c&&(l.value=at(c))}else if(l===void 0){var d=e.get(u),s=d==null?void 0:d.v;if(d!==void 0&&s!==kt)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return l},has(f,u){var s;if(u===Ji)return!0;var l=e.get(u),c=l!==void 0&&l.v!==kt||Reflect.has(f,u);if(l!==void 0||lt!==null&&(!c||(s=Ir(f,u))!=null&&s.writable)){l===void 0&&(l=o(()=>jt(c?oe(f[u]):kt)),e.set(u,l));var d=at(l);if(d===kt)return!1}return c},set(f,u,l,c){var y;var d=e.get(u),s=u in f;if(r&&u==="length")for(var h=l;h<d.v;h+=1){var p=e.get(h+"");p!==void 0?Ot(p,kt):h in f&&(p=o(()=>jt(kt)),e.set(h+"",p))}d===void 0?(!s||(y=Ir(f,u))!=null&&y.writable)&&(d=o(()=>jt(void 0)),Ot(d,o(()=>oe(l))),e.set(u,d)):(s=d.v!==kt,Ot(d,o(()=>oe(l))));var g=Reflect.getOwnPropertyDescriptor(f,u);if(g!=null&&g.set&&g.set.call(c,l),!s){if(r&&typeof u=="string"){var m=e.get("length"),b=Number(u);Number.isInteger(b)&&b>=m.v&&Ot(m,b+1)}Lo(i)}return!0},ownKeys(f){at(i);var u=Reflect.ownKeys(f).filter(d=>{var s=e.get(d);return s===void 0||s.v!==kt});for(var[l,c]of e)c.v!==kt&&!(l in f)&&u.push(l);return u},setPrototypeOf(){Fg()}})}function Lo(t,n=1){Ot(t,t.v+n)}function Mu(t){var n=en|bn,e=ut!==null&&(ut.f&en)!==0?ut:null;return lt===null||e!==null&&(e.f&qt)!==0?n|=qt:lt.f|=qs,{ctx:Lt,deps:null,effects:null,equals:Bs,f:n,fn:t,reactions:null,rv:0,v:null,wv:0,parent:e??lt}}function Vg(t){const n=Mu(t);return od(n),n}function Gg(t){const n=Mu(t);return n.equals=Ys,n}function Vs(t){var n=t.effects;if(n!==null){t.effects=null;for(var e=0;e<n.length;e+=1)Kn(n[e])}}function Xg(t){for(var n=t.parent;n!==null;){if((n.f&en)===0)return n;n=n.parent}return null}function Gs(t){var n,e=lt;Ge(Xg(t));try{Vs(t),n=ld(t)}finally{Ge(e)}return n}function Xs(t){var n=Gs(t),e=(Wn||(t.f&qt)!==0)&&t.deps!==null?Te:It;rn(t,e),t.equals(n)||(t.v=n,t.wv=ud())}const Ur=new Map;function ca(t,n){var e={f:0,v:t,reactions:null,equals:Bs,rv:0,wv:0};return e}function jt(t,n){const e=ca(t);return od(e),e}function Zg(t,n=!1){const e=ca(t);return n||(e.equals=Ys),e}function Ot(t,n,e=!1){ut!==null&&!sn&&Ws()&&(ut.f&(en|_u))!==0&&!(Ct!=null&&Ct.includes(t))&&Pg();let r=e?oe(n):n;return Kg(t,r)}function Kg(t,n){if(!t.equals(n)){var e=t.v;ri?Ur.set(t,n):Ur.set(t,e),t.v=n,(t.f&en)!==0&&((t.f&bn)!==0&&Gs(t),rn(t,(t.f&qt)===0?It:Te)),t.wv=ud(),Ks(t,bn),lt!==null&&(lt.f&It)!==0&&(lt.f&(qn|cr))===0&&(Wt===null?cm([t]):Wt.push(t))}return n}function Zs(t,n=1){var e=at(t),r=n===1?e++:e--;return Ot(t,e),r}function Ks(t,n){var e=t.reactions;if(e!==null)for(var r=e.length,i=0;i<r;i++){var a=e[i],o=a.f;(o&bn)===0&&(rn(a,n),(o&(It|qt))!==0&&((o&en)!==0?Ks(a,Te):ja(a)))}}let Qg=!1;var Ic,Qs,Js,js;function Jg(){if(Ic===void 0){Ic=window,Qs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,n=Node.prototype,e=Text.prototype;Js=Ir(n,"firstChild").get,js=Ir(n,"nextSibling").get,Dc(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Dc(e)&&(e.__t=void 0)}}function $u(t=""){return document.createTextNode(t)}function la(t){return Js.call(t)}function Qa(t){return js.call(t)}function ie(t,n){return la(t)}function Io(t,n){{var e=la(t);return e instanceof Comment&&e.data===""?Qa(e):e}}function Pe(t,n=1,e=!1){let r=t;for(;n--;)r=Qa(r);return r}function jg(t){t.textContent=""}function tm(t){lt===null&&ut===null&&Lg(),ut!==null&&(ut.f&qt)!==0&&lt===null&&Dg(),ri&&kg()}function nm(t,n){var e=n.last;e===null?n.last=n.first=t:(e.next=t,t.prev=e,n.last=t)}function lr(t,n,e,r=!0){var i=lt,a={ctx:Lt,deps:null,nodes_start:null,nodes_end:null,f:t|bn,first:null,fn:n,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(e)try{Eu(a),a.f|=Eg}catch(u){throw Kn(a),u}else n!==null&&ja(a);var o=e&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(qs|fa))===0;if(!o&&r&&(i!==null&&nm(a,i),ut!==null&&(ut.f&en)!==0)){var f=ut;(f.effects??(f.effects=[])).push(a)}return a}function em(t){const n=lr(Za,null,!1);return rn(n,It),n.teardown=t,n}function td(t){tm();var n=lt!==null&&(lt.f&qn)!==0&&Lt!==null&&!Lt.m;if(n){var e=Lt;(e.e??(e.e=[])).push({fn:t,effect:lt,reaction:ut})}else{var r=Tu(t);return r}}function rm(t){const n=lr(cr,t,!0);return(e={})=>new Promise(r=>{e.outro?sa(n,()=>{Kn(n),r(void 0)}):(Kn(n),r(void 0))})}function Tu(t){return lr(Us,t,!1)}function im(t){return lr(Za,t,!0)}function Ro(t,n=[],e=Mu){const r=n.map(e);return Su(()=>t(...r.map(at)))}function Su(t,n=0){return lr(Za|_u|n,t,!0)}function qr(t,n=!0){return lr(Za|qn,t,!0,n)}function nd(t){var n=t.teardown;if(n!==null){const e=ri,r=ut;Rc(!0),Qn(null);try{n.call(null)}finally{Rc(e),Qn(r)}}}function ed(t,n=!1){var e=t.first;for(t.first=t.last=null;e!==null;){var r=e.next;(e.f&cr)!==0?e.parent=null:Kn(e,n),e=r}}function am(t){for(var n=t.first;n!==null;){var e=n.next;(n.f&qn)===0&&Kn(n),n=e}}function Kn(t,n=!0){var e=!1;(n||(t.f&Cg)!==0)&&t.nodes_start!==null&&(om(t.nodes_start,t.nodes_end),e=!0),ed(t,n&&!e),ma(t,0),rn(t,Ka);var r=t.transitions;if(r!==null)for(const a of r)a.stop();nd(t);var i=t.parent;i!==null&&i.first!==null&&rd(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function om(t,n){for(;t!==null;){var e=t===n?null:Qa(t);t.remove(),t=e}}function rd(t){var n=t.parent,e=t.prev,r=t.next;e!==null&&(e.next=r),r!==null&&(r.prev=e),n!==null&&(n.first===t&&(n.first=r),n.last===t&&(n.last=e))}function sa(t,n){var e=[];Au(t,e,!0),id(e,()=>{Kn(t),n&&n()})}function id(t,n){var e=t.length;if(e>0){var r=()=>--e||n();for(var i of t)i.out(r)}else n()}function Au(t,n,e){if((t.f&Fn)===0){if(t.f^=Fn,t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&n.push(o);for(var r=t.first;r!==null;){var i=r.next,a=(r.f&xu)!==0||(r.f&qn)!==0;Au(r,n,a?e:!1),r=i}}}function da(t){ad(t,!0)}function ad(t,n){if((t.f&Fn)!==0){t.f^=Fn,(t.f&It)===0&&(t.f^=It),ii(t)&&(rn(t,bn),ja(t));for(var e=t.first;e!==null;){var r=e.next,i=(e.f&xu)!==0||(e.f&qn)!==0;ad(e,i?n:!1),e=r}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&a.in()}}let ha=[];function fm(){var t=ha;ha=[],Ag(t)}function um(t){ha.length===0&&queueMicrotask(fm),ha.push(t)}let ji=!1,vf=!1,pa=null,le=!1,ri=!1;function Rc(t){ri=t}let ta=[];let ut=null,sn=!1;function Qn(t){ut=t}let lt=null;function Ge(t){lt=t}let Ct=null;function od(t){ut!==null&&ut.f&yf&&(Ct===null?Ct=[t]:Ct.push(t))}let At=null,Pt=0,Wt=null;function cm(t){Wt=t}let fd=1,ga=0,Wn=!1;function ud(){return++fd}function ii(t){var d;var n=t.f;if((n&bn)!==0)return!0;if((n&Te)!==0){var e=t.deps,r=(n&qt)!==0;if(e!==null){var i,a,o=(n&ua)!==0,f=r&&lt!==null&&!Wn,u=e.length;if(o||f){var l=t,c=l.parent;for(i=0;i<u;i++)a=e[i],(o||!((d=a==null?void 0:a.reactions)!=null&&d.includes(l)))&&(a.reactions??(a.reactions=[])).push(l);o&&(l.f^=ua),f&&c!==null&&(c.f&qt)===0&&(l.f^=qt)}for(i=0;i<u;i++)if(a=e[i],ii(a)&&Xs(a),a.wv>t.wv)return!0}(!r||lt!==null&&!Wn)&&rn(t,It)}return!1}function lm(t,n){for(var e=n;e!==null;){if((e.f&fa)!==0)try{e.fn(t);return}catch{e.f^=fa}e=e.parent}throw ji=!1,t}function Fc(t){return(t.f&Ka)===0&&(t.parent===null||(t.parent.f&fa)===0)}function Ja(t,n,e,r){if(ji){if(e===null&&(ji=!1),Fc(n))throw t;return}if(e!==null&&(ji=!0),lm(t,n),Fc(n))throw t}function cd(t,n,e=!0){var r=t.reactions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];Ct!=null&&Ct.includes(t)||((a.f&en)!==0?cd(a,n,!1):n===a&&(e?rn(a,bn):(a.f&It)!==0&&rn(a,Te),ja(a)))}}function ld(t){var h;var n=At,e=Pt,r=Wt,i=ut,a=Wn,o=Ct,f=Lt,u=sn,l=t.f;At=null,Pt=0,Wt=null,Wn=(l&qt)!==0&&(sn||!le||ut===null),ut=(l&(qn|cr))===0?t:null,Ct=null,Lc(t.ctx),sn=!1,ga++,t.f|=yf;try{var c=(0,t.fn)(),d=t.deps;if(At!==null){var s;if(ma(t,Pt),d!==null&&Pt>0)for(d.length=Pt+At.length,s=0;s<At.length;s++)d[Pt+s]=At[s];else t.deps=d=At;if(!Wn)for(s=Pt;s<d.length;s++)((h=d[s]).reactions??(h.reactions=[])).push(t)}else d!==null&&Pt<d.length&&(ma(t,Pt),d.length=Pt);if(Ws()&&Wt!==null&&!sn&&d!==null&&(t.f&(en|Te|bn))===0)for(s=0;s<Wt.length;s++)cd(Wt[s],t);return i!==null&&i!==t&&(ga++,Wt!==null&&(r===null?r=Wt:r.push(...Wt))),c}finally{At=n,Pt=e,Wt=r,ut=i,Wn=a,Ct=o,Lc(f),sn=u,t.f^=yf}}function sm(t,n){let e=n.reactions;if(e!==null){var r=xg.call(e,t);if(r!==-1){var i=e.length-1;i===0?e=n.reactions=null:(e[r]=e[i],e.pop())}}e===null&&(n.f&en)!==0&&(At===null||!At.includes(n))&&(rn(n,Te),(n.f&(qt|ua))===0&&(n.f^=ua),Vs(n),ma(n,0))}function ma(t,n){var e=t.deps;if(e!==null)for(var r=n;r<e.length;r++)sm(t,e[r])}function Eu(t){var n=t.f;if((n&Ka)===0){rn(t,It);var e=lt,r=Lt,i=le;lt=t,le=!0;try{(n&_u)!==0?am(t):ed(t),nd(t);var a=ld(t);t.teardown=typeof a=="function"?a:null,t.wv=fd;var o=t.deps,f;kc&&Og&&t.f&bn}catch(u){Ja(u,t,e,r||t.ctx)}finally{le=i,lt=e}}}function dm(){try{Ig()}catch(t){if(pa!==null)Ja(t,pa,null);else throw t}}function hm(){var t=le;try{var n=0;for(le=!0;ta.length>0;){n++>1e3&&dm();var e=ta,r=e.length;ta=[];for(var i=0;i<r;i++){var a=gm(e[i]);pm(a)}Ur.clear()}}finally{vf=!1,le=t,pa=null}}function pm(t){var n=t.length;if(n!==0)for(var e=0;e<n;e++){var r=t[e];if((r.f&(Ka|Fn))===0)try{ii(r)&&(Eu(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?rd(r):r.fn=null))}catch(i){Ja(i,r,null,r.ctx)}}}function ja(t){vf||(vf=!0,queueMicrotask(hm));for(var n=pa=t;n.parent!==null;){n=n.parent;var e=n.f;if((e&(cr|qn))!==0){if((e&It)===0)return;n.f^=It}}ta.push(n)}function gm(t){for(var n=[],e=t;e!==null;){var r=e.f,i=(r&(qn|cr))!==0,a=i&&(r&It)!==0;if(!a&&(r&Fn)===0){if((r&Us)!==0)n.push(e);else if(i)e.f^=It;else try{ii(e)&&Eu(e)}catch(u){Ja(u,e,null,e.ctx)}var o=e.first;if(o!==null){e=o;continue}}var f=e.parent;for(e=e.next;e===null&&f!==null;)e=f.next,f=f.parent}return n}function at(t){var n=t.f,e=(n&en)!==0;if(ut!==null&&!sn){if(!(Ct!=null&&Ct.includes(t))){var r=ut.deps;t.rv<ga&&(t.rv=ga,At===null&&r!==null&&r[Pt]===t?Pt++:At===null?At=[t]:(!Wn||!At.includes(t))&&At.push(t))}}else if(e&&t.deps===null&&t.effects===null){var i=t,a=i.parent;a!==null&&(a.f&qt)===0&&(i.f^=qt)}return e&&(i=t,ii(i)&&Xs(i)),ri&&Ur.has(t)?Ur.get(t):t.v}function sd(t){var n=sn;try{return sn=!0,t()}finally{sn=n}}const mm=-7169;function rn(t,n){t.f=t.f&mm|n}const bm=["touchstart","touchmove"];function ym(t){return bm.includes(t)}const dd=new Set,wf=new Set;function vm(t){for(var n=0;n<t.length;n++)dd.add(t[n]);for(var e of wf)e(t)}function Ci(t){var y;var n=this,e=n.ownerDocument,r=t.type,i=((y=t.composedPath)==null?void 0:y.call(t))||[],a=i[0]||t.target,o=0,f=t.__root;if(f){var u=i.indexOf(f);if(u!==-1&&(n===document||n===window)){t.__root=n;return}var l=i.indexOf(n);if(l===-1)return;u<=l&&(o=u)}if(a=i[o]||t.target,a!==n){Mg(t,"currentTarget",{configurable:!0,get(){return a||e}});var c=ut,d=lt;Qn(null),Ge(null);try{for(var s,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+r];if(g!=null&&(!a.disabled||t.target===a))if(vu(g)){var[m,...b]=g;m.apply(a,[t,...b])}else g.call(a,t)}catch(_){s?h.push(_):s=_}if(t.cancelBubble||p===n||p===null)break;a=p}if(s){for(let _ of h)queueMicrotask(()=>{throw _});throw s}}finally{t.__root=n,delete t.currentTarget,Qn(c),Ge(d)}}}function wm(t){var n=document.createElement("template");return n.innerHTML=t.replaceAll("<!>","<!---->"),n.content}function _f(t,n){var e=lt;e.nodes_start===null&&(e.nodes_start=t,e.nodes_end=n)}function Cu(t,n){var e=(n&Yg)!==0,r=(n&Hg)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=wm(a?t:"<!>"+t),e||(i=la(i)));var o=r||Qs?document.importNode(i,!0):i.cloneNode(!0);if(e){var f=la(o),u=o.lastChild;_f(f,u)}else _f(o,o);return o}}function _m(){var t=document.createDocumentFragment(),n=document.createComment(""),e=$u();return t.append(n,e),_f(n,e),t}function Ni(t,n){t!==null&&t.before(n)}function yr(t,n){var e=n==null?"":typeof n=="object"?n+"":n;e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e+"")}function xm(t,n){return Mm(t,n)}const Oe=new Map;function Mm(t,{target:n,anchor:e,props:r={},events:i,context:a,intro:o=!0}){Jg();var f=new Set,u=d=>{for(var s=0;s<d.length;s++){var h=d[s];if(!f.has(h)){f.add(h);var p=ym(h);n.addEventListener(h,Ci,{passive:p});var g=Oe.get(h);g===void 0?(document.addEventListener(h,Ci,{passive:p}),Oe.set(h,1)):Oe.set(h,g+1)}}};u(wu(dd)),wf.add(u);var l=void 0,c=rm(()=>{var d=e??n.appendChild($u());return qr(()=>{if(a){Hs({});var s=Lt;s.c=a}i&&(r.$$events=i),l=t(d,r)||{},a&&zs()}),()=>{var p;for(var s of f){n.removeEventListener(s,Ci);var h=Oe.get(s);--h===0?(document.removeEventListener(s,Ci),Oe.delete(s)):Oe.set(s,h)}wf.delete(u),d!==e&&((p=d.parentNode)==null||p.removeChild(d))}});return $m.set(l,c),l}let $m=new WeakMap;function Tm(t,n,[e,r]=[0,0]){var i=t,a=null,o=null,f=kt,u=e>0?xu:0,l=!1;const c=(s,h=!0)=>{l=!0,d(h,s)},d=(s,h)=>{f!==(f=s)&&(f?(a?da(a):h&&(a=qr(()=>h(i))),o&&sa(o,()=>{o=null})):(o?da(o):h&&(o=qr(()=>h(i,[e+1,r]))),a&&sa(a,()=>{a=null})))};Su(()=>{l=!1,n(c),l||d(null,null)},u)}function Sm(t,n){return n}function Am(t,n,e,r){for(var i=[],a=n.length,o=0;o<a;o++)Au(n[o].e,i,!0);var f=a>0&&i.length===0&&e!==null;if(f){var u=e.parentNode;jg(u),u.append(e),r.clear(),zn(t,n[0].prev,n[a-1].next)}id(i,()=>{for(var l=0;l<a;l++){var c=n[l];f||(r.delete(c.k),zn(t,c.prev,c.next)),Kn(c.e,!f)}})}function Em(t,n,e,r,i,a=null){var o=t,f={flags:n,items:new Map,first:null};{var u=t;o=u.appendChild($u())}var l=null,c=!1,d=Gg(()=>{var s=e();return vu(s)?s:s==null?[]:wu(s)});Su(()=>{var s=at(d),h=s.length;c&&h===0||(c=h===0,Cm(s,f,o,i,n,r,e),a!==null&&(h===0?l?da(l):l=qr(()=>a(o)):l!==null&&sa(l,()=>{l=null})),at(d))})}function Cm(t,n,e,r,i,a,o){var f=t.length,u=n.items,l=n.first,c=l,d,s=null,h=[],p=[],g,m,b,y;for(y=0;y<f;y+=1){if(g=t[y],m=a(g,y),b=u.get(m),b===void 0){var _=c?c.e.nodes_start:e;s=Nm(_,n,s,s===null?n.first:s.next,g,m,y,r,i,o),u.set(m,s),h=[],p=[],c=s.next;continue}if((b.e.f&Fn)!==0&&da(b.e),b!==c){if(d!==void 0&&d.has(b)){if(h.length<p.length){var v=p[0],M;s=v.prev;var w=h[0],x=h[h.length-1];for(M=0;M<h.length;M+=1)Pc(h[M],v,e);for(M=0;M<p.length;M+=1)d.delete(p[M]);zn(n,w.prev,x.next),zn(n,s,w),zn(n,x,v),c=v,s=x,y-=1,h=[],p=[]}else d.delete(b),Pc(b,c,e),zn(n,b.prev,b.next),zn(n,b,s===null?n.first:s.next),zn(n,s,b),s=b;continue}for(h=[],p=[];c!==null&&c.k!==m;)(c.e.f&Fn)===0&&(d??(d=new Set)).add(c),p.push(c),c=c.next;if(c===null)continue;b=c}h.push(b),s=b,c=b.next}if(c!==null||d!==void 0){for(var T=d===void 0?[]:wu(d);c!==null;)(c.e.f&Fn)===0&&T.push(c),c=c.next;var S=T.length;if(S>0){var C=f===0?e:null;Am(n,T,C,u)}}lt.first=n.first&&n.first.e,lt.last=s&&s.e}function Nm(t,n,e,r,i,a,o,f,u,l){var c=(u&Ug)!==0,d=(u&Bg)===0,s=c?d?Zg(i):ca(i):i,h=(u&qg)===0?o:ca(o),p={i:h,v:s,k:a,a:null,e:null,prev:e,next:r};try{return p.e=qr(()=>f(t,s,h,l),Qg),p.e.prev=e&&e.e,p.e.next=r&&r.e,e===null?n.first=p:(e.next=p,e.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Pc(t,n,e){for(var r=t.next?t.next.e.nodes_start:e,i=n?n.e.nodes_start:e,a=t.e.nodes_start;a!==r;){var o=Qa(a);i.before(a),a=o}}function zn(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}const km=Symbol("is custom element"),Dm=Symbol("is html");function Lm(t,n,e,r){var i=Im(t);i[n]!==(i[n]=e)&&(e==null?t.removeAttribute(n):typeof e!="string"&&Rm(t).includes(n)?t[n]=e:t.setAttribute(n,e))}function Im(t){return t.__attributes??(t.__attributes={[km]:t.nodeName.includes("-"),[Dm]:t.namespaceURI===zg})}var Oc=new Map;function Rm(t){var n=Oc.get(t.nodeName);if(n)return n;Oc.set(t.nodeName,n=[]);for(var e,r=t,i=Element.prototype;i!==r;){e=$g(r);for(var a in e)e[a].set&&n.push(a);r=Os(r)}return n}function Uc(t,n){return t===n||(t==null?void 0:t[Ji])===n}function Fm(t={},n,e,r){return Tu(()=>{var i,a;return im(()=>{i=a,a=[],sd(()=>{t!==e(...a)&&(n(t,...a),i&&Uc(e(...i),t)&&n(null,...i))})}),()=>{um(()=>{a&&Uc(e(...a),t)&&n(null,...a)})}}),t}function Pm(t){Lt===null&&Wg(),td(()=>{const n=sd(t);if(typeof n=="function")return n})}const Om="5";var Ps;typeof window<"u"&&((Ps=window.__svelte??(window.__svelte={})).v??(Ps.v=new Set)).add(Om);function Xn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ai(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function to(t){let n,e,r;t.length!==2?(n=Xn,e=(f,u)=>Xn(t(f),u),r=(f,u)=>t(f)-u):(n=t===Xn||t===ai?t:Um,e=t,r=t);function i(f,u,l=0,c=f.length){if(l<c){if(n(u,u)!==0)return c;do{const d=l+c>>>1;e(f[d],u)<0?l=d+1:c=d}while(l<c)}return l}function a(f,u,l=0,c=f.length){if(l<c){if(n(u,u)!==0)return c;do{const d=l+c>>>1;e(f[d],u)<=0?l=d+1:c=d}while(l<c)}return l}function o(f,u,l=0,c=f.length){const d=i(f,u,l,c-1);return d>l&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:o,right:a}}function Um(){return 0}function hd(t){return t===null?NaN:+t}function*qm(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Bm=to(Xn),Nu=Bm.right;to(hd).center;function Ym(t){return t.length|0}function Hm(t){return!(t>0)}function zm(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Wm(t){return n=>t(...n)}function Vm(...t){const n=typeof t[t.length-1]=="function"&&Wm(t.pop());t=t.map(zm);const e=t.map(Ym),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(Hm))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return n?a.map(n):a;i[o--]=0}}}function pd(t,n){let e=0,r,i=0,a=0;if(n===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of t)(f=n(f,++o,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function Gm(t,n){const e=pd(t,n);return e&&Math.sqrt(e)}function Zn(t,n){let e,r;for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class me{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=n+a,f=Math.abs(n)<Math.abs(a)?n-(o-a):a-(o-n);f&&(e[r++]=f),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&n[e-1]<0||a>0&&n[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Br extends Map{constructor(n,e=bd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(xf(this,n))}has(n){return super.has(xf(this,n))}set(n,e){return super.set(gd(this,n),e)}delete(n){return super.delete(md(this,n))}}class no extends Set{constructor(n,e=bd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(xf(this,n))}add(n){return super.add(gd(this,n))}delete(n){return super.delete(md(this,n))}}function xf({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function gd({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function md({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function bd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xm(t){return t}function Fo(t,n,...e){return yd(t,Xm,n,e)}function Zm(t,n,...e){return yd(t,Array.from,n,e)}function yd(t,n,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new Br,u=r[o++];let l=-1;for(const c of a){const d=u(c,++l,a),s=f.get(d);s?s.push(c):f.set(d,[c])}for(const[c,d]of f)f.set(c,i(d,o));return n(f)}(t,0)}function Km(t,n){return Array.from(n,e=>t[e])}function Qm(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,a)=>a);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of n){const f=ba(o[i],o[a]);if(f)return f}})):(e=t.map(e),r.sort((i,a)=>ba(e[i],e[a]))),Km(t,r)}return t.sort(vd(e))}function vd(t=Xn){if(t===Xn)return ba;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function ba(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const Jm=Math.sqrt(50),jm=Math.sqrt(10),tb=Math.sqrt(2);function ya(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Jm?10:a>=jm?5:a>=tb?2:1;let f,u,l;return i<0?(l=Math.pow(10,-i)/o,f=Math.round(t*l),u=Math.round(n*l),f/l<t&&++f,u/l>n&&--u,l=-l):(l=Math.pow(10,i)*o,f=Math.round(t/l),u=Math.round(n/l),f*l<t&&++f,u*l>n&&--u),u<f&&.5<=e&&e<2?ya(t,n,e*2):[f,u,l]}function va(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,a,o]=r?ya(n,t,e):ya(t,n,e);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(o<0)for(let l=0;l<f;++l)u[l]=(a-l)/-o;else for(let l=0;l<f;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<f;++l)u[l]=(i+l)/-o;else for(let l=0;l<f;++l)u[l]=(i+l)*o;return u}function Mf(t,n,e){return n=+n,t=+t,e=+e,ya(t,n,e)[2]}function $f(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Mf(n,t,e):Mf(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function yn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function nb(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function Yr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function eb(t,n){let e,r=-1,i=-1;if(n===void 0)for(const a of t)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of t)(a=n(a,++i,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function wd(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?ba:vd(i);r>e;){if(r-e>600){const u=r-e+1,l=n-e+1,c=Math.log(u),d=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*d*(u-d)/u)*(l-u/2<0?-1:1),h=Math.max(e,Math.floor(n-l*d/u+s)),p=Math.min(r,Math.floor(n+(u-l)*d/u+s));wd(t,n,h,p,i)}const a=t[n];let o=e,f=r;for(vr(t,e,n),i(t[r],a)>0&&vr(t,e,r);o<f;){for(vr(t,o,f),++o,--f;i(t[o],a)<0;)++o;for(;i(t[f],a)>0;)--f}i(t[e],a)===0?vr(t,e,f):(++f,vr(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function vr(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function wa(t,n,e){if(t=Float64Array.from(qm(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Yr(t);if(n>=1)return yn(t);var r,i=(r-1)*n,a=Math.floor(i),o=yn(wd(t,a).subarray(0,a+1)),f=Yr(t.subarray(a+1));return o+(f-o)*(i-a)}}function rb(t,n,e=hd){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),f=+e(t[a+1],a+1,t);return o+(f-o)*(i-a)}}function ib(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)(a=n(a,++i,t))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function Tf(t,n){return wa(t,.5,n)}function*ab(t){for(const n of t)yield*n}function _d(t){return Array.from(ab(t))}function ob(t,n){const e=new Br;if(n===void 0)for(let a of t)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of t)(o=n(o,++a,t))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function fb(t,n=ub){const e=[];let r,i=!1;for(const a of t)i&&e.push(n(r,a)),r=a,i=!0;return e}function ub(t,n){return[t,n]}function Sf(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}function ku(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function _a(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function cb(t){return t}var lb=3,qc=1e-6;function sb(t){return"translate("+t+",0)"}function db(t){return n=>+t(n)}function hb(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function pb(){return!this.__axis}function gb(t,n){var e=[],r=null,i=null,a=6,o=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=1,c="y",d=sb;function s(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):cb),m=Math.max(a,0)+f,b=n.range(),y=+b[0]+u,_=+b[b.length-1]+u,v=(n.bandwidth?hb:db)(n.copy(),u),M=h.selection?h.selection():h,w=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,n).order(),T=x.exit(),S=x.enter().append("g").attr("class","tick"),C=x.select("line"),$=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(S),C=C.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),$=$.merge(S.append("text").attr("fill","currentColor").attr(c,l*m).attr("dy","0.71em")),h!==M&&(w=w.transition(h),x=x.transition(h),C=C.transition(h),$=$.transition(h),T=T.transition(h).attr("opacity",qc).attr("transform",function(k){return isFinite(k=v(k))?d(k+u):this.getAttribute("transform")}),S.attr("opacity",qc).attr("transform",function(k){var I=this.parentNode.__axis;return d((I&&isFinite(I=I(k))?I:v(k))+u)})),T.remove(),w.attr("d",o?"M"+y+","+l*o+"V"+u+"H"+_+"V"+l*o:"M"+y+","+u+"H"+_),x.attr("opacity",1).attr("transform",function(k){return d(v(k)+u)}),C.attr(c+"2",l*a),$.attr(c,l*m).text(g),M.filter(pb).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=v})}return s.scale=function(h){return arguments.length?(n=h,s):n},s.ticks=function(){return e=Array.from(arguments),s},s.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),s):e.slice()},s.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),s):r&&r.slice()},s.tickFormat=function(h){return arguments.length?(i=h,s):i},s.tickSize=function(h){return arguments.length?(a=o=+h,s):a},s.tickSizeInner=function(h){return arguments.length?(a=+h,s):a},s.tickSizeOuter=function(h){return arguments.length?(o=+h,s):o},s.tickPadding=function(h){return arguments.length?(f=+h,s):f},s.offset=function(h){return arguments.length?(u=+h,s):u},s}function mb(t){return gb(lb,t)}var bb={value:()=>{}};function xd(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new na(e)}function na(t){this._=t}function yb(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}na.prototype=xd.prototype={constructor:na,on:function(t,n){var e=this._,r=yb(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=vb(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=Bc(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Bc(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new na(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function vb(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Bc(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=bb,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Af="http://www.w3.org/1999/xhtml";const Xe={svg:"http://www.w3.org/2000/svg",xhtml:Af,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eo(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Xe.hasOwnProperty(n)?{space:Xe[n],local:t}:t}function wb(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Af&&n.documentElement.namespaceURI===Af?n.createElement(t):n.createElementNS(e,t)}}function _b(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ro(t){var n=eo(t);return(n.local?_b:wb)(n)}function xb(){}function Du(t){return t==null?xb:function(){return this.querySelector(t)}}function Mb(t){typeof t!="function"&&(t=Du(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),f[c]=l);return new Bt(r,this._parents)}function $b(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Tb(){return[]}function Md(t){return t==null?Tb:function(){return this.querySelectorAll(t)}}function Sb(t){return function(){return $b(t.apply(this,arguments))}}function Ab(t){typeof t=="function"?t=Sb(t):t=Md(t);for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],f=o.length,u,l=0;l<f;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new Bt(r,i)}function $d(t){return function(){return this.matches(t)}}function Td(t){return function(n){return n.matches(t)}}var Eb=Array.prototype.find;function Cb(t){return function(){return Eb.call(this.children,t)}}function Nb(){return this.firstElementChild}function kb(t){return this.select(t==null?Nb:Cb(typeof t=="function"?t:Td(t)))}var Db=Array.prototype.filter;function Lb(){return Array.from(this.children)}function Ib(t){return function(){return Db.call(this.children,t)}}function Rb(t){return this.selectAll(t==null?Lb:Ib(typeof t=="function"?t:Td(t)))}function Fb(t){typeof t!="function"&&(t=$d(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&f.push(u);return new Bt(r,this._parents)}function Sd(t){return new Array(t.length)}function Pb(){return new Bt(this._enter||this._groups.map(Sd),this._parents)}function xa(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}xa.prototype={constructor:xa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ob(t){return function(){return t}}function Ub(t,n,e,r,i,a){for(var o=0,f,u=n.length,l=a.length;o<l;++o)(f=n[o])?(f.__data__=a[o],r[o]=f):e[o]=new xa(t,a[o]);for(;o<u;++o)(f=n[o])&&(i[o]=f)}function qb(t,n,e,r,i,a,o){var f,u,l=new Map,c=n.length,d=a.length,s=new Array(c),h;for(f=0;f<c;++f)(u=n[f])&&(s[f]=h=o.call(u,u.__data__,f,n)+"",l.has(h)?i[f]=u:l.set(h,u));for(f=0;f<d;++f)h=o.call(t,a[f],f,a)+"",(u=l.get(h))?(r[f]=u,u.__data__=a[f],l.delete(h)):e[f]=new xa(t,a[f]);for(f=0;f<c;++f)(u=n[f])&&l.get(s[f])===u&&(i[f]=u)}function Bb(t){return t.__data__}function Yb(t,n){if(!arguments.length)return Array.from(this,Bb);var e=n?qb:Ub,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ob(t));for(var a=i.length,o=new Array(a),f=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],d=i[l],s=d.length,h=Hb(t.call(c,c&&c.__data__,l,r)),p=h.length,g=f[l]=new Array(p),m=o[l]=new Array(p),b=u[l]=new Array(s);e(c,d,g,m,b,h,n);for(var y=0,_=0,v,M;y<p;++y)if(v=g[y]){for(y>=_&&(_=y+1);!(M=m[_])&&++_<p;);v._next=M||null}}return o=new Bt(o,r),o._enter=f,o._exit=u,o}function Hb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zb(){return new Bt(this._exit||this._groups.map(Sd),this._parents)}function Wb(t,n,e){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function Vb(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,a=r.length,o=Math.min(i,a),f=new Array(i),u=0;u<o;++u)for(var l=e[u],c=r[u],d=l.length,s=f[u]=new Array(d),h,p=0;p<d;++p)(h=l[p]||c[p])&&(s[p]=h);for(;u<i;++u)f[u]=e[u];return new Bt(f,this._parents)}function Gb(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Xb(t){t||(t=Zb);function n(d,s){return d&&s?t(d.__data__,s.__data__):!d-!s}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],f=o.length,u=i[a]=new Array(f),l,c=0;c<f;++c)(l=o[c])&&(u[c]=l);u.sort(n)}return new Bt(i,this._parents).order()}function Zb(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Kb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qb(){return Array.from(this)}function Jb(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function jb(){let t=0;for(const n of this)++t;return t}function ty(){return!this.node()}function ny(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function ey(t){return function(){this.removeAttribute(t)}}function ry(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iy(t,n){return function(){this.setAttribute(t,n)}}function ay(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function oy(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function fy(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function uy(t,n){var e=eo(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ry:ey:typeof n=="function"?e.local?fy:oy:e.local?ay:iy)(e,n))}function Ad(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cy(t){return function(){this.style.removeProperty(t)}}function ly(t,n,e){return function(){this.style.setProperty(t,n,e)}}function sy(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function dy(t,n,e){return arguments.length>1?this.each((n==null?cy:typeof n=="function"?sy:ly)(t,n,e??"")):Ze(this.node(),t)}function Ze(t,n){return t.style.getPropertyValue(n)||Ad(t).getComputedStyle(t,null).getPropertyValue(n)}function hy(t){return function(){delete this[t]}}function py(t,n){return function(){this[t]=n}}function gy(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function my(t,n){return arguments.length>1?this.each((n==null?hy:typeof n=="function"?gy:py)(t,n)):this.node()[t]}function Ed(t){return t.trim().split(/^|\s+/)}function Lu(t){return t.classList||new Cd(t)}function Cd(t){this._node=t,this._names=Ed(t.getAttribute("class")||"")}Cd.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nd(t,n){for(var e=Lu(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function kd(t,n){for(var e=Lu(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function by(t){return function(){Nd(this,t)}}function yy(t){return function(){kd(this,t)}}function vy(t,n){return function(){(n.apply(this,arguments)?Nd:kd)(this,t)}}function wy(t,n){var e=Ed(t+"");if(arguments.length<2){for(var r=Lu(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?vy:n?by:yy)(e,n))}function _y(){this.textContent=""}function xy(t){return function(){this.textContent=t}}function My(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function $y(t){return arguments.length?this.each(t==null?_y:(typeof t=="function"?My:xy)(t)):this.node().textContent}function Ty(){this.innerHTML=""}function Sy(t){return function(){this.innerHTML=t}}function Ay(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Ey(t){return arguments.length?this.each(t==null?Ty:(typeof t=="function"?Ay:Sy)(t)):this.node().innerHTML}function Cy(){this.nextSibling&&this.parentNode.appendChild(this)}function Ny(){return this.each(Cy)}function ky(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dy(){return this.each(ky)}function Ly(t){var n=typeof t=="function"?t:ro(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Iy(){return null}function Ry(t,n){var e=typeof t=="function"?t:ro(t),r=n==null?Iy:typeof n=="function"?n:Du(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Fy(){var t=this.parentNode;t&&t.removeChild(this)}function Py(){return this.each(Fy)}function Oy(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Uy(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function qy(t){return this.select(t?Uy:Oy)}function By(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Yy(t){return function(n){t.call(this,n,this.__data__)}}function Hy(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function zy(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):n[++r]=a;++r?n.length=r:delete this.__on}}}function Wy(t,n,e){return function(){var r=this.__on,i,a=Yy(n);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=e),i.value=n;return}}this.addEventListener(t.type,a,e),i={type:t.type,name:t.name,value:n,listener:a,options:e},r?r.push(i):this.__on=[i]}}function Vy(t,n,e){var r=Hy(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,l=f.length,c;u<l;++u)for(i=0,c=f[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(f=n?Wy:zy,i=0;i<a;++i)this.each(f(r[i],n,e));return this}function Dd(t,n,e){var r=Ad(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Gy(t,n){return function(){return Dd(this,t,n)}}function Xy(t,n){return function(){return Dd(this,t,n.apply(this,arguments))}}function Zy(t,n){return this.each((typeof n=="function"?Xy:Gy)(t,n))}function*Ky(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Ld=[null];function Bt(t,n){this._groups=t,this._parents=n}function oi(){return new Bt([[document.documentElement]],Ld)}function Qy(){return this}Bt.prototype=oi.prototype={constructor:Bt,select:Mb,selectAll:Ab,selectChild:kb,selectChildren:Rb,filter:Fb,data:Yb,enter:Pb,exit:zb,join:Wb,merge:Vb,selection:Qy,order:Gb,sort:Xb,call:Kb,nodes:Qb,node:Jb,size:jb,empty:ty,each:ny,attr:uy,style:dy,property:my,classed:wy,text:$y,html:Ey,raise:Ny,lower:Dy,append:Ly,insert:Ry,remove:Py,clone:qy,datum:By,on:Vy,dispatch:Zy,[Symbol.iterator]:Ky};function se(t){return typeof t=="string"?new Bt([[document.querySelector(t)]],[document.documentElement]):new Bt([[t]],Ld)}function Jy(t){let n;for(;n=t.sourceEvent;)t=n;return t}function jy(t,n){if(t=Jy(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function sr(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function fi(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function te(){}var be=.7,Ke=1/be,ze="\\s*([+-]?\\d+)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t2=/^#([0-9a-f]{3,8})$/,n2=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),e2=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),r2=new RegExp(`^rgba\\(${ze},${ze},${ze},${Hr}\\)$`),i2=new RegExp(`^rgba\\(${gn},${gn},${gn},${Hr}\\)$`),a2=new RegExp(`^hsl\\(${Hr},${gn},${gn}\\)$`),o2=new RegExp(`^hsla\\(${Hr},${gn},${gn},${Hr}\\)$`),Yc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sr(te,ye,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hc,formatHex:Hc,formatHex8:f2,formatHsl:u2,formatRgb:zc,toString:zc});function Hc(){return this.rgb().formatHex()}function f2(){return this.rgb().formatHex8()}function u2(){return Id(this).formatHsl()}function zc(){return this.rgb().formatRgb()}function ye(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=t2.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Wc(n):e===3?new yt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ki(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ki(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=n2.exec(t))?new yt(n[1],n[2],n[3],1):(n=e2.exec(t))?new yt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=r2.exec(t))?ki(n[1],n[2],n[3],n[4]):(n=i2.exec(t))?ki(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=a2.exec(t))?Xc(n[1],n[2]/100,n[3]/100,1):(n=o2.exec(t))?Xc(n[1],n[2]/100,n[3]/100,n[4]):Yc.hasOwnProperty(t)?Wc(Yc[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Wc(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function ki(t,n,e,r){return r<=0&&(t=n=e=NaN),new yt(t,n,e,r)}function Iu(t){return t instanceof te||(t=ye(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Jn(t,n,e,r){return arguments.length===1?Iu(t):new yt(t,n,e,r??1)}function yt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}sr(yt,Jn,fi(te,{brighter(t){return t=t==null?Ke:Math.pow(Ke,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(de(this.r),de(this.g),de(this.b),Ma(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vc,formatHex:Vc,formatHex8:c2,formatRgb:Gc,toString:Gc}));function Vc(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}`}function c2(){return`#${ue(this.r)}${ue(this.g)}${ue(this.b)}${ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gc(){const t=Ma(this.opacity);return`${t===1?"rgb(":"rgba("}${de(this.r)}, ${de(this.g)}, ${de(this.b)}${t===1?")":`, ${t})`}`}function Ma(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function de(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ue(t){return t=de(t),(t<16?"0":"")+t.toString(16)}function Xc(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new tn(t,n,e,r)}function Id(t){if(t instanceof tn)return new tn(t.h,t.s,t.l,t.opacity);if(t instanceof te||(t=ye(t)),!t)return new tn;if(t instanceof tn)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,f=a-i,u=(a+i)/2;return f?(n===a?o=(e-r)/f+(e<r)*6:e===a?o=(r-n)/f+2:o=(n-e)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new tn(o,f,u,t.opacity)}function Ef(t,n,e,r){return arguments.length===1?Id(t):new tn(t,n,e,r??1)}function tn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}sr(tn,Ef,fi(te,{brighter(t){return t=t==null?Ke:Math.pow(Ke,t),new tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new yt(Po(t>=240?t-240:t+120,i,r),Po(t,i,r),Po(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tn(Zc(this.h),Di(this.s),Di(this.l),Ma(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ma(this.opacity);return`${t===1?"hsl(":"hsla("}${Zc(this.h)}, ${Di(this.s)*100}%, ${Di(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Zc(t){return t=(t||0)%360,t<0?t+360:t}function Di(t){return Math.max(0,Math.min(1,t||0))}function Po(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Rd=Math.PI/180,Fd=180/Math.PI,$a=18,Pd=.96422,Od=1,Ud=.82521,qd=4/29,We=6/29,Bd=3*We*We,l2=We*We*We;function Yd(t){if(t instanceof mn)return new mn(t.l,t.a,t.b,t.opacity);if(t instanceof Dn)return Hd(t);t instanceof yt||(t=Iu(t));var n=Bo(t.r),e=Bo(t.g),r=Bo(t.b),i=Oo((.2225045*n+.7168786*e+.0606169*r)/Od),a,o;return n===e&&e===r?a=o=i:(a=Oo((.4360747*n+.3850649*e+.1430804*r)/Pd),o=Oo((.0139322*n+.0971045*e+.7141733*r)/Ud)),new mn(116*i-16,500*(a-i),200*(i-o),t.opacity)}function Cf(t,n,e,r){return arguments.length===1?Yd(t):new mn(t,n,e,r??1)}function mn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}sr(mn,Cf,fi(te,{brighter(t){return new mn(this.l+$a*(t??1),this.a,this.b,this.opacity)},darker(t){return new mn(this.l-$a*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Pd*Uo(n),t=Od*Uo(t),e=Ud*Uo(e),new yt(qo(3.1338561*n-1.6168667*t-.4906146*e),qo(-.9787684*n+1.9161415*t+.033454*e),qo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Oo(t){return t>l2?Math.pow(t,1/3):t/Bd+qd}function Uo(t){return t>We?t*t*t:Bd*(t-qd)}function qo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Bo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s2(t){if(t instanceof Dn)return new Dn(t.h,t.c,t.l,t.opacity);if(t instanceof mn||(t=Yd(t)),t.a===0&&t.b===0)return new Dn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Fd;return new Dn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Nf(t,n,e,r){return arguments.length===1?s2(t):new Dn(t,n,e,r??1)}function Dn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Hd(t){if(isNaN(t.h))return new mn(t.l,0,0,t.opacity);var n=t.h*Rd;return new mn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}sr(Dn,Nf,fi(te,{brighter(t){return new Dn(this.h,this.c,this.l+$a*(t??1),this.opacity)},darker(t){return new Dn(this.h,this.c,this.l-$a*(t??1),this.opacity)},rgb(){return Hd(this).rgb()}}));var zd=-.14861,Ru=1.78277,Fu=-.29227,io=-.90649,zr=1.97294,Kc=zr*io,Qc=zr*Ru,Jc=Ru*Fu-io*zd;function d2(t){if(t instanceof he)return new he(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=Iu(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Jc*r+Kc*n-Qc*e)/(Jc+Kc-Qc),a=r-i,o=(zr*(e-i)-Fu*a)/io,f=Math.sqrt(o*o+a*a)/(zr*i*(1-i)),u=f?Math.atan2(o,a)*Fd-120:NaN;return new he(u<0?u+360:u,f,i,t.opacity)}function vn(t,n,e,r){return arguments.length===1?d2(t):new he(t,n,e,r??1)}function he(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}sr(he,vn,fi(te,{brighter(t){return t=t==null?Ke:Math.pow(Ke,t),new he(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new he(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Rd,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new yt(255*(n+e*(zd*r+Ru*i)),255*(n+e*(Fu*r+io*i)),255*(n+e*(zr*r)),this.opacity)}}));function h2(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}function p2(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<n-1?t[r+2]:2*a-i;return h2((e-r/n)*n,o,i,a,f)}}const ao=t=>()=>t;function Wd(t,n){return function(e){return t+e*n}}function g2(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Pu(t,n){var e=n-t;return e?Wd(t,e>180||e<-180?e-360*Math.round(e/360):e):ao(isNaN(t)?n:t)}function m2(t){return(t=+t)==1?Mt:function(n,e){return e-n?g2(n,e,t):ao(isNaN(n)?e:n)}}function Mt(t,n){var e=n-t;return e?Wd(t,e):ao(isNaN(t)?n:t)}const ve=function t(n){var e=m2(n);function r(i,a){var o=e((i=Jn(i)).r,(a=Jn(a)).r),f=e(i.g,a.g),u=e(i.b,a.b),l=Mt(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=f(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function b2(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Jn(n[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=a(u),f+""}}}var y2=b2(p2);function v2(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function w2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _2(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=ui(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function x2(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function _t(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function M2(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=ui(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var kf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yo=new RegExp(kf.source,"g");function $2(t){return function(){return t}}function T2(t){return function(n){return t(n)+""}}function Vd(t,n){var e=kf.lastIndex=Yo.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(t=t+"",n=n+"";(r=kf.exec(t))&&(i=Yo.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:_t(r,i)})),e=Yo.lastIndex;return e<n.length&&(a=n.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?T2(u[0].x):$2(n):(n=u.length,function(l){for(var c=0,d;c<n;++c)f[(d=u[c]).i]=d.x(l);return f.join("")})}function ui(t,n){var e=typeof n,r;return n==null||e==="boolean"?ao(n):(e==="number"?_t:e==="string"?(r=ye(n))?(n=r,ve):Vd:n instanceof ye?ve:n instanceof Date?x2:w2(n)?v2:Array.isArray(n)?_2:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?M2:_t)(t,n)}function Ou(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var jc=180/Math.PI,Df={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gd(t,n,e,r,i,a){var o,f,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,u/=f),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*jc,skewX:Math.atan(u)*jc,scaleX:o,scaleY:f}}var Li;function S2(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Df:Gd(n.a,n.b,n.c,n.d,n.e,n.f)}function A2(t){return t==null||(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),!(t=Li.transform.baseVal.consolidate()))?Df:(t=t.matrix,Gd(t.a,t.b,t.c,t.d,t.e,t.f))}function Xd(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,d,s,h,p){if(l!==d||c!==s){var g=h.push("translate(",null,n,null,e);p.push({i:g-4,x:_t(l,d)},{i:g-2,x:_t(c,s)})}else(d||s)&&h.push("translate("+d+n+s+e)}function o(l,c,d,s){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),s.push({i:d.push(i(d)+"rotate(",null,r)-2,x:_t(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function f(l,c,d,s){l!==c?s.push({i:d.push(i(d)+"skewX(",null,r)-2,x:_t(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,s,h,p){if(l!==d||c!==s){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:_t(l,d)},{i:g-2,x:_t(c,s)})}else(d!==1||s!==1)&&h.push(i(h)+"scale("+d+","+s+")")}return function(l,c){var d=[],s=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,d,s),o(l.rotate,c.rotate,d,s),f(l.skewX,c.skewX,d,s),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,s),l=c=null,function(h){for(var p=-1,g=s.length,m;++p<g;)d[(m=s[p]).i]=m.x(h);return d.join("")}}}var E2=Xd(S2,"px, ","px)","deg)"),C2=Xd(A2,", ",")",")");function N2(t){return function(n,e){var r=t((n=Ef(n)).h,(e=Ef(e)).h),i=Mt(n.s,e.s),a=Mt(n.l,e.l),o=Mt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const k2=N2(Pu);function D2(t,n){var e=Mt((t=Cf(t)).l,(n=Cf(n)).l),r=Mt(t.a,n.a),i=Mt(t.b,n.b),a=Mt(t.opacity,n.opacity);return function(o){return t.l=e(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function L2(t){return function(n,e){var r=t((n=Nf(n)).h,(e=Nf(e)).h),i=Mt(n.c,e.c),a=Mt(n.l,e.l),o=Mt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=a(f),n.opacity=o(f),n+""}}}const I2=L2(Pu);function Zd(t){return function n(e){e=+e;function r(i,a){var o=t((i=vn(i)).h,(a=vn(a)).h),f=Mt(i.s,a.s),u=Mt(i.l,a.l),l=Mt(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=f(c),i.l=u(Math.pow(c,e)),i.opacity=l(c),i+""}}return r.gamma=n,r}(1)}Zd(Pu);var Uu=Zd(Mt);function oo(t,n){n===void 0&&(n=t,t=ui);for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function an(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Qe=0,Sr=0,wr=0,Kd=1e3,Ta,Ar,Sa=0,we=0,fo=0,Wr=typeof performance=="object"&&performance.now?performance:Date,Qd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qu(){return we||(Qd(R2),we=Wr.now()+fo)}function R2(){we=0}function Aa(){this._call=this._time=this._next=null}Aa.prototype=Jd.prototype={constructor:Aa,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?qu():+e)+(n==null?0:+n),!this._next&&Ar!==this&&(Ar?Ar._next=this:Ta=this,Ar=this),this._call=t,this._time=e,Lf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lf())}};function Jd(t,n,e){var r=new Aa;return r.restart(t,n,e),r}function F2(){qu(),++Qe;for(var t=Ta,n;t;)(n=we-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Qe}function tl(){we=(Sa=Wr.now())+fo,Qe=Sr=0;try{F2()}finally{Qe=0,O2(),we=0}}function P2(){var t=Wr.now(),n=t-Sa;n>Kd&&(fo-=n,Sa=t)}function O2(){for(var t,n=Ta,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ta=e);Ar=t,Lf(r)}function Lf(t){if(!Qe){Sr&&(Sr=clearTimeout(Sr));var n=t-we;n>24?(t<1/0&&(Sr=setTimeout(tl,t-Wr.now()-fo)),wr&&(wr=clearInterval(wr))):(wr||(Sa=Wr.now(),wr=setInterval(P2,Kd)),Qe=1,Qd(tl))}}function nl(t,n,e){var r=new Aa;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var U2=xd("start","end","cancel","interrupt"),q2=[],jd=0,el=1,If=2,ea=3,rl=4,Rf=5,ra=6;function uo(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;B2(t,e,{name:n,index:r,group:i,on:U2,tween:q2,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jd})}function Bu(t,n){var e=un(t,n);if(e.state>jd)throw new Error("too late; already scheduled");return e}function xn(t,n){var e=un(t,n);if(e.state>ea)throw new Error("too late; already running");return e}function un(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function B2(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Jd(a,0,e.time);function a(l){e.state=el,e.timer.restart(o,e.delay,e.time),e.delay<=l&&o(l-e.delay)}function o(l){var c,d,s,h;if(e.state!==el)return u();for(c in r)if(h=r[c],h.name===e.name){if(h.state===ea)return nl(o);h.state===rl?(h.state=ra,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<n&&(h.state=ra,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(nl(function(){e.state===ea&&(e.state=rl,e.timer.restart(f,e.delay,e.time),f(l))}),e.state=If,e.on.call("start",t,t.__data__,e.index,e.group),e.state===If){for(e.state=ea,i=new Array(s=e.tween.length),c=0,d=-1;c<s;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=Rf,1),d=-1,s=i.length;++d<s;)i[d].call(t,c);e.state===Rf&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=ra,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Y2(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>If&&r.state<Rf,r.state=ra,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function H2(t){return this.each(function(){Y2(this,t)})}function z2(t,n){var e,r;return function(){var i=xn(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function W2(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=xn(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=f;break}u===l&&i.push(f)}a.tween=i}}function V2(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=un(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?z2:W2)(e,t,n))}function Yu(t,n,e){var r=t._id;return t.each(function(){var i=xn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return un(i,r).value[n]}}function t0(t,n){var e;return(typeof n=="number"?_t:n instanceof ye?ve:(e=ye(n))?(n=e,ve):Vd)(t,n)}function G2(t){return function(){this.removeAttribute(t)}}function X2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Z2(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function K2(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function Q2(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function J2(t,n,e){var r,i,a;return function(){var o,f=e(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f)))}}function j2(t,n){var e=eo(t),r=e==="transform"?C2:t0;return this.attrTween(t,typeof n=="function"?(e.local?J2:Q2)(e,r,Yu(this,"attr."+t,n)):n==null?(e.local?X2:G2)(e):(e.local?K2:Z2)(e,r,n))}function tv(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function nv(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ev(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&nv(t,a)),e}return i._value=n,i}function rv(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&tv(t,a)),e}return i._value=n,i}function iv(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=eo(t);return this.tween(e,(r.local?ev:rv)(r,n))}function av(t,n){return function(){Bu(this,t).delay=+n.apply(this,arguments)}}function ov(t,n){return n=+n,function(){Bu(this,t).delay=n}}function fv(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?av:ov)(n,t)):un(this.node(),n).delay}function uv(t,n){return function(){xn(this,t).duration=+n.apply(this,arguments)}}function cv(t,n){return n=+n,function(){xn(this,t).duration=n}}function lv(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?uv:cv)(n,t)):un(this.node(),n).duration}function sv(t,n){if(typeof n!="function")throw new Error;return function(){xn(this,t).ease=n}}function dv(t){var n=this._id;return arguments.length?this.each(sv(n,t)):un(this.node(),n).ease}function hv(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;xn(this,t).ease=e}}function pv(t){if(typeof t!="function")throw new Error;return this.each(hv(this._id,t))}function gv(t){typeof t!="function"&&(t=$d(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,f=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&f.push(u);return new Pn(r,this._parents,this._name,this._id)}function mv(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var u=n[f],l=e[f],c=u.length,d=o[f]=new Array(c),s,h=0;h<c;++h)(s=u[h]||l[h])&&(d[h]=s);for(;f<r;++f)o[f]=n[f];return new Pn(o,this._parents,this._name,this._id)}function bv(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function yv(t,n,e){var r,i,a=bv(n)?Bu:xn;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(n,e),o.on=i}}function vv(t,n){var e=this._id;return arguments.length<2?un(this.node(),e).on.on(t):this.each(yv(e,t,n))}function wv(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function _v(){return this.on("end.remove",wv(this._id))}function xv(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Du(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],u=f.length,l=a[o]=new Array(u),c,d,s=0;s<u;++s)(c=f[s])&&(d=t.call(c,c.__data__,s,f))&&("__data__"in c&&(d.__data__=c.__data__),l[s]=d,uo(l[s],n,e,s,l,un(c,e)));return new Pn(a,this._parents,n,e)}function Mv(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Md(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var u=r[f],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var s=t.call(c,c.__data__,d,u),h,p=un(c,e),g=0,m=s.length;g<m;++g)(h=s[g])&&uo(h,n,e,g,s,p);a.push(s),o.push(c)}return new Pn(a,o,n,e)}var $v=oi.prototype.constructor;function Tv(){return new $v(this._groups,this._parents)}function Sv(t,n){var e,r,i;return function(){var a=Ze(this,t),o=(this.style.removeProperty(t),Ze(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function n0(t){return function(){this.style.removeProperty(t)}}function Av(t,n,e){var r,i=e+"",a;return function(){var o=Ze(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Ev(t,n,e){var r,i,a;return function(){var o=Ze(this,t),f=e(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),Ze(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,f))}}function Cv(t,n){var e,r,i,a="style."+n,o="end."+a,f;return function(){var u=xn(this,t),l=u.on,c=u.value[a]==null?f||(f=n0(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(o,i=c),u.on=r}}function Nv(t,n,e){var r=(t+="")=="transform"?E2:t0;return n==null?this.styleTween(t,Sv(t,r)).on("end.style."+t,n0(t)):typeof n=="function"?this.styleTween(t,Ev(t,r,Yu(this,"style."+t,n))).each(Cv(this._id,t)):this.styleTween(t,Av(t,r,n),e).on("end.style."+t,null)}function kv(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Dv(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&kv(t,o,e)),r}return a._value=n,a}function Lv(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Dv(t,n,e??""))}function Iv(t){return function(){this.textContent=t}}function Rv(t){return function(){var n=t(this);this.textContent=n??""}}function Fv(t){return this.tween("text",typeof t=="function"?Rv(Yu(this,"text",t)):Iv(t==null?"":t+""))}function Pv(t){return function(n){this.textContent=t.call(this,n)}}function Ov(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Pv(i)),n}return r._value=t,r}function Uv(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ov(t))}function qv(){for(var t=this._name,n=this._id,e=e0(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,l=0;l<f;++l)if(u=o[l]){var c=un(u,n);uo(u,t,e,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Pn(r,this._parents,t,e)}function Bv(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var l=xn(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(u)),l.on=n}),i===0&&a()})}var Yv=0;function Pn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function e0(){return++Yv}var Tn=oi.prototype;Pn.prototype={constructor:Pn,select:xv,selectAll:Mv,selectChild:Tn.selectChild,selectChildren:Tn.selectChildren,filter:gv,merge:mv,selection:Tv,transition:qv,call:Tn.call,nodes:Tn.nodes,node:Tn.node,size:Tn.size,empty:Tn.empty,each:Tn.each,on:vv,attr:j2,attrTween:iv,style:Nv,styleTween:Lv,text:Fv,textTween:Uv,remove:_v,tween:V2,delay:fv,duration:lv,ease:dv,easeVarying:pv,end:Bv,[Symbol.iterator]:Tn[Symbol.iterator]};function Hv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zv={time:null,delay:0,duration:250,ease:Hv};function Wv(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Vv(t){var n,e;t instanceof Pn?(n=t._id,t=t._name):(n=e0(),(e=zv).time=qu(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,l=0;l<f;++l)(u=o[l])&&uo(u,t,n,l,o,e||Wv(u,n));return new Pn(r,this._parents,t,n)}oi.prototype.interrupt=H2;oi.prototype.transition=Vv;const Ff=Math.PI,Pf=2*Ff,ae=1e-6,Gv=Pf-ae;function r0(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Xv(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return r0;const e=10**n;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Zv{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?r0:Xv(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,a,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(n,e,r,i,a){if(n=+n,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,u=r-n,l=i-e,c=o-n,d=f-e,s=c*c+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(s>ae)if(!(Math.abs(d*u-l*c)>ae)||!a)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-o,p=i-f,g=u*u+l*l,m=h*h+p*p,b=Math.sqrt(g),y=Math.sqrt(s),_=a*Math.tan((Ff-Math.acos((g+s-m)/(2*b*y)))/2),v=_/y,M=_/b;Math.abs(v-1)>ae&&this._append`L${n+v*c},${e+v*d}`,this._append`A${a},${a},0,0,${+(d*h>c*p)},${this._x1=n+M*u},${this._y1=e+M*l}`}}arc(n,e,r,i,a,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),l=n+f,c=e+u,d=1^o,s=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ae||Math.abs(this._y1-c)>ae)&&this._append`L${l},${c}`,r&&(s<0&&(s=s%Pf+Pf),s>Gv?this._append`A${r},${r},0,1,${d},${n-f},${e-u}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:s>ae&&this._append`A${r},${r},0,${+(s>=Ff)},${d},${this._x1=n+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ce(t=3){return new Zv(+t)}function Kv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ea(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Je(t){return t=Ea(Math.abs(t)),t?t[1]:NaN}function Qv(t,n){return function(e,r){for(var i=e.length,a=[],o=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(e.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(n)}}function Jv(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var jv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vr(t){if(!(n=jv.exec(t)))throw new Error("invalid format: "+t);var n;return new Hu({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Vr.prototype=Hu.prototype;function Hu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tw(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var i0;function nw(t,n){var e=Ea(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(i0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ea(t,Math.max(0,n+a-1))[0]}function il(t,n){var e=Ea(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const al={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kv,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>il(t*100,n),r:il,s:nw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ol(t){return t}var fl=Array.prototype.map,ul=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ew(t){var n=t.grouping===void 0||t.thousands===void 0?ol:Qv(fl.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ol:Jv(fl.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Vr(d);var s=d.fill,h=d.align,p=d.sign,g=d.symbol,m=d.zero,b=d.width,y=d.comma,_=d.precision,v=d.trim,M=d.type;M==="n"?(y=!0,M="g"):al[M]||(_===void 0&&(_=12),v=!0,M="g"),(m||s==="0"&&h==="=")&&(m=!0,s="0",h="=");var w=g==="$"?e:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",x=g==="$"?r:/[%p]/.test(M)?o:"",T=al[M],S=/[defgprs%]/.test(M);_=_===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function C($){var k=w,I=x,R,A,F;if(M==="c")I=T($)+I,$="";else{$=+$;var z=$<0||1/$<0;if($=isNaN($)?u:T(Math.abs($),_),v&&($=tw($)),z&&+$==0&&p!=="+"&&(z=!1),k=(z?p==="("?p:f:p==="-"||p==="("?"":p)+k,I=(M==="s"?ul[8+i0/3]:"")+I+(z&&p==="("?")":""),S){for(R=-1,A=$.length;++R<A;)if(F=$.charCodeAt(R),48>F||F>57){I=(F===46?i+$.slice(R+1):$.slice(R))+I,$=$.slice(0,R);break}}}y&&!m&&($=n($,1/0));var Y=k.length+$.length+I.length,W=Y<b?new Array(b-Y+1).join(s):"";switch(y&&m&&($=n(W+$,W.length?b-I.length:1/0),W=""),h){case"<":$=k+$+I+W;break;case"=":$=k+W+$+I;break;case"^":$=W.slice(0,Y=W.length>>1)+k+$+I+W.slice(Y);break;default:$=W+k+$+I;break}return a($)}return C.toString=function(){return d+""},C}function c(d,s){var h=l((d=Vr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Je(s)/3)))*3,g=Math.pow(10,-p),m=ul[8+p/3];return function(b){return h(g*b)+m}}return{format:l,formatPrefix:c}}var Ii,dr,a0;rw({thousands:",",grouping:[3],currency:["$",""]});function rw(t){return Ii=ew(t),dr=Ii.format,a0=Ii.formatPrefix,Ii}function iw(t){return Math.max(0,-Je(Math.abs(t)))}function aw(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Je(n)/3)))*3-Je(Math.abs(t)))}function ow(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Je(n)-Je(t))+1}var K=1e-6,fw=1e-12,j=Math.PI,dt=j/2,cl=j/4,Yt=j*2,St=180/j,st=j/180,rt=Math.abs,hr=Math.atan,On=Math.atan2,J=Math.cos,o0=Math.exp,Ca=Math.log,Ho=Math.pow,X=Math.sin,Gt=Math.sign||function(t){return t>0?1:t<0?-1:0},Rt=Math.sqrt,zu=Math.tan;function f0(t){return t>1?0:t<-1?j:Math.acos(t)}function Qt(t){return t>1?dt:t<-1?-dt:Math.asin(t)}function Xt(){}function Na(t,n){t&&sl.hasOwnProperty(t.type)&&sl[t.type](t,n)}var ll={Feature:function(t,n){Na(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Na(e[r].geometry,n)}},sl={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Of(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Of(e[r],n,0)},Polygon:function(t,n){dl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)dl(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Na(e[r],n)}};function Of(t,n,e){var r=-1,i=t.length-e,a;for(n.lineStart();++r<i;)a=t[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function dl(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Of(t[e],n,1);n.polygonEnd()}function fe(t,n){t&&ll.hasOwnProperty(t.type)?ll[t.type](t,n):Na(t,n)}function Uf(t){return[On(t[1],t[0]),Qt(t[2])]}function je(t){var n=t[0],e=t[1],r=J(e);return[r*J(n),r*X(n),X(e)]}function Ri(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ka(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function zo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Fi(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function qf(t){var n=Rt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Bf(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Yf(t,n){return rt(t)>j&&(t-=Math.round(t/Yt)*Yt),[t,n]}Yf.invert=Yf;function u0(t,n,e){return(t%=Yt)?n||e?Bf(pl(t),gl(n,e)):pl(t):n||e?gl(n,e):Yf}function hl(t){return function(n,e){return n+=t,rt(n)>j&&(n-=Math.round(n/Yt)*Yt),[n,e]}}function pl(t){var n=hl(t);return n.invert=hl(-t),n}function gl(t,n){var e=J(t),r=X(t),i=J(n),a=X(n);function o(f,u){var l=J(u),c=J(f)*l,d=X(f)*l,s=X(u),h=s*e+c*r;return[On(d*i-h*a,c*e-s*r),Qt(h*i+d*a)]}return o.invert=function(f,u){var l=J(u),c=J(f)*l,d=X(f)*l,s=X(u),h=s*i-d*a;return[On(d*i+s*a,c*e+h*r),Qt(h*e-c*r)]},o}function uw(t){t=u0(t[0]*st,t[1]*st,t.length>2?t[2]*st:0);function n(e){return e=t(e[0]*st,e[1]*st),e[0]*=St,e[1]*=St,e}return n.invert=function(e){return e=t.invert(e[0]*st,e[1]*st),e[0]*=St,e[1]*=St,e},n}function cw(t,n,e,r,i,a){if(e){var o=J(n),f=X(n),u=r*e;i==null?(i=n+r*Yt,a=n-u/2):(i=ml(o,i),a=ml(o,a),(r>0?i<a:i>a)&&(i+=r*Yt));for(var l,c=i;r>0?c>a:c<a;c-=u)l=Uf([o,-f*J(c),-f*X(c)]),t.point(l[0],l[1])}}function ml(t,n){n=je(n),n[0]-=t,qf(n);var e=f0(-n[1]);return((-n[2]<0?-e:e)+Yt-K)%Yt}function c0(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Xt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function ia(t,n){return rt(t[0]-n[0])<K&&rt(t[1]-n[1])<K}function Pi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function l0(t,n,e,r,i){var a=[],o=[],f,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],b=p[g],y;if(ia(m,b)){if(!m[2]&&!b[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}b[0]+=2*K}a.push(y=new Pi(m,p,null,!0)),o.push(y.o=new Pi(m,null,y,!1)),a.push(y=new Pi(b,p,null,!1)),o.push(y.o=new Pi(b,null,y,!0))}}),!!a.length){for(o.sort(n),bl(a),bl(o),f=0,u=o.length;f<u;++f)o[f].e=e=!e;for(var l=a[0],c,d;;){for(var s=l,h=!0;s.v;)if((s=s.n)===l)return;c=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(f=0,u=c.length;f<u;++f)i.point((d=c[f])[0],d[1]);else r(s.x,s.n.x,1,i);s=s.n}else{if(h)for(c=s.p.z,f=c.length-1;f>=0;--f)i.point((d=c[f])[0],d[1]);else r(s.x,s.p.x,-1,i);s=s.p}s=s.o,c=s.z,h=!h}while(!s.v);i.lineEnd()}}}function bl(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Wo(t){return rt(t[0])<=j?t[0]:Gt(t[0])*((rt(t[0])+j)%Yt-j)}function lw(t,n){var e=Wo(n),r=n[1],i=X(r),a=[X(e),-J(e),0],o=0,f=0,u=new me;i===1?r=dt+K:i===-1&&(r=-dt-K);for(var l=0,c=t.length;l<c;++l)if(s=(d=t[l]).length)for(var d,s,h=d[s-1],p=Wo(h),g=h[1]/2+cl,m=X(g),b=J(g),y=0;y<s;++y,p=v,m=w,b=x,h=_){var _=d[y],v=Wo(_),M=_[1]/2+cl,w=X(M),x=J(M),T=v-p,S=T>=0?1:-1,C=S*T,$=C>j,k=m*w;if(u.add(On(k*S*X(C),b*x+k*J(C))),o+=$?T+S*Yt:T,$^p>=e^v>=e){var I=ka(je(h),je(_));qf(I);var R=ka(a,I);qf(R);var A=($^T>=0?-1:1)*Qt(R[2]);(r>A||r===A&&(I[0]||I[1]))&&(f+=$^T>=0?1:-1)}}return(o<-1e-6||o<K&&u<-1e-12)^f&1}function s0(t,n,e,r){return function(i){var a=n(i),o=c0(),f=n(o),u=!1,l,c,d,s={point:h,lineStart:g,lineEnd:m,polygonStart:function(){s.point=b,s.lineStart=y,s.lineEnd=_,c=[],l=[]},polygonEnd:function(){s.point=h,s.lineStart=g,s.lineEnd=m,c=_d(c);var v=lw(l,r);c.length?(u||(i.polygonStart(),u=!0),l0(c,dw,v,e,i)):v&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(v,M){t(v,M)&&i.point(v,M)}function p(v,M){a.point(v,M)}function g(){s.point=p,a.lineStart()}function m(){s.point=h,a.lineEnd()}function b(v,M){d.push([v,M]),f.point(v,M)}function y(){f.lineStart(),d=[]}function _(){b(d[0][0],d[0][1]),f.lineEnd();var v=f.clean(),M=o.result(),w,x=M.length,T,S,C;if(d.pop(),l.push(d),d=null,!!x){if(v&1){if(S=M[0],(T=S.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),w=0;w<T;++w)i.point((C=S[w])[0],C[1]);i.lineEnd()}return}x>1&&v&2&&M.push(M.pop().concat(M.shift())),c.push(M.filter(sw))}}return s}}function sw(t){return t.length>1}function dw(t,n){return((t=t.x)[0]<0?t[1]-dt-K:dt-t[1])-((n=n.x)[0]<0?n[1]-dt-K:dt-n[1])}const yl=s0(function(){return!0},hw,gw,[-j,-dt]);function hw(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var f=a>0?j:-j,u=rt(a-n);rt(u-j)<K?(t.point(n,e=(e+o)/2>0?dt:-dt),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(a,e),i=0):r!==f&&u>=j&&(rt(n-r)<K&&(n-=r*K),rt(a-f)<K&&(a-=f*K),e=pw(n,e,a,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=a,e=o),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function pw(t,n,e,r){var i,a,o=X(t-e);return rt(o)>K?hr((X(n)*(a=J(r))*X(e)-X(r)*(i=J(n))*X(t))/(i*a*o)):(n+r)/2}function gw(t,n,e,r){var i;if(t==null)i=e*dt,r.point(-j,i),r.point(0,i),r.point(j,i),r.point(j,0),r.point(j,-i),r.point(0,-i),r.point(-j,-i),r.point(-j,0),r.point(-j,i);else if(rt(t[0]-n[0])>K){var a=t[0]<n[0]?j:-j;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}function mw(t){var n=J(t),e=2*st,r=n>0,i=rt(n)>K;function a(c,d,s,h){cw(h,t,e,s,c,d)}function o(c,d){return J(c)*J(d)>n}function f(c){var d,s,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,b){var y=[m,b],_,v=o(m,b),M=r?v?0:l(m,b):v?l(m+(m<0?j:-j),b):0;if(!d&&(p=h=v)&&c.lineStart(),v!==h&&(_=u(d,y),(!_||ia(d,_)||ia(y,_))&&(y[2]=1)),v!==h)g=0,v?(c.lineStart(),_=u(y,d),c.point(_[0],_[1])):(_=u(d,y),c.point(_[0],_[1],2),c.lineEnd()),d=_;else if(i&&d&&r^v){var w;!(M&s)&&(w=u(y,d,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}v&&(!d||!ia(d,y))&&c.point(y[0],y[1]),d=y,h=v,s=M},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function u(c,d,s){var h=je(c),p=je(d),g=[1,0,0],m=ka(h,p),b=Ri(m,m),y=m[0],_=b-y*y;if(!_)return!s&&c;var v=n*b/_,M=-n*y/_,w=ka(g,m),x=Fi(g,v),T=Fi(m,M);zo(x,T);var S=w,C=Ri(x,S),$=Ri(S,S),k=C*C-$*(Ri(x,x)-1);if(!(k<0)){var I=Rt(k),R=Fi(S,(-C-I)/$);if(zo(R,x),R=Uf(R),!s)return R;var A=c[0],F=d[0],z=c[1],Y=d[1],W;F<A&&(W=A,A=F,F=W);var D=F-A,P=rt(D-j)<K,q=P||D<K;if(!P&&Y<z&&(W=z,z=Y,Y=W),q?P?z+Y>0^R[1]<(rt(R[0]-A)<K?z:Y):z<=R[1]&&R[1]<=Y:D>j^(A<=R[0]&&R[0]<=F)){var L=Fi(S,(-C+I)/$);return zo(L,x),[R,Uf(L)]}}}function l(c,d){var s=r?t:j-t,h=0;return c<-s?h|=1:c>s&&(h|=2),d<-s?h|=4:d>s&&(h|=8),h}return s0(o,f,a,r?[0,-t]:[-j,t-j])}function bw(t,n,e,r,i,a){var o=t[0],f=t[1],u=n[0],l=n[1],c=0,d=1,s=u-o,h=l-f,p;if(p=e-o,!(!s&&p>0)){if(p/=s,s<0){if(p<c)return;p<d&&(d=p)}else if(s>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!s&&p<0)){if(p/=s,s<0){if(p>d)return;p>c&&(c=p)}else if(s>0){if(p<c)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=a-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(t[0]=o+c*s,t[1]=f+c*h),d<1&&(n[0]=o+d*s,n[1]=f+d*h),!0}}}}}var Oi=1e9,Ui=-1e9;function d0(t,n,e,r){function i(l,c){return t<=l&&l<=e&&n<=c&&c<=r}function a(l,c,d,s){var h=0,p=0;if(l==null||(h=o(l,d))!==(p=o(c,d))||u(l,c)<0^d>0)do s.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else s.point(c[0],c[1])}function o(l,c){return rt(l[0]-t)<K?c>0?0:3:rt(l[0]-e)<K?c>0?2:1:rt(l[1]-n)<K?c>0?1:0:c>0?3:2}function f(l,c){return u(l.x,c.x)}function u(l,c){var d=o(l,1),s=o(c,1);return d!==s?d-s:d===0?c[1]-l[1]:d===1?l[0]-c[0]:d===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,d=c0(),s,h,p,g,m,b,y,_,v,M,w,x={point:T,lineStart:k,lineEnd:I,polygonStart:C,polygonEnd:$};function T(A,F){i(A,F)&&c.point(A,F)}function S(){for(var A=0,F=0,z=h.length;F<z;++F)for(var Y=h[F],W=1,D=Y.length,P=Y[0],q,L,G=P[0],tt=P[1];W<D;++W)q=G,L=tt,P=Y[W],G=P[0],tt=P[1],L<=r?tt>r&&(G-q)*(r-L)>(tt-L)*(t-q)&&++A:tt<=r&&(G-q)*(r-L)<(tt-L)*(t-q)&&--A;return A}function C(){c=d,s=[],h=[],w=!0}function $(){var A=S(),F=w&&A,z=(s=_d(s)).length;(F||z)&&(l.polygonStart(),F&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),z&&l0(s,f,A,a,l),l.polygonEnd()),c=l,s=h=p=null}function k(){x.point=R,h&&h.push(p=[]),M=!0,v=!1,y=_=NaN}function I(){s&&(R(g,m),b&&v&&d.rejoin(),s.push(d.result())),x.point=T,v&&c.lineEnd()}function R(A,F){var z=i(A,F);if(h&&p.push([A,F]),M)g=A,m=F,b=z,M=!1,z&&(c.lineStart(),c.point(A,F));else if(z&&v)c.point(A,F);else{var Y=[y=Math.max(Ui,Math.min(Oi,y)),_=Math.max(Ui,Math.min(Oi,_))],W=[A=Math.max(Ui,Math.min(Oi,A)),F=Math.max(Ui,Math.min(Oi,F))];bw(Y,W,t,n,e,r)?(v||(c.lineStart(),c.point(Y[0],Y[1])),c.point(W[0],W[1]),z||c.lineEnd(),w=!1):z&&(c.lineStart(),c.point(A,F),w=!1)}y=A,_=F,v=z}return x}}const Hf=t=>t;var Vo=new me,zf=new me,h0,p0,Wf,Vf,kn={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){kn.lineStart=yw,kn.lineEnd=ww},polygonEnd:function(){kn.lineStart=kn.lineEnd=kn.point=Xt,Vo.add(rt(zf)),zf=new me},result:function(){var t=Vo/2;return Vo=new me,t}};function yw(){kn.point=vw}function vw(t,n){kn.point=g0,h0=Wf=t,p0=Vf=n}function g0(t,n){zf.add(Vf*t-Wf*n),Wf=t,Vf=n}function ww(){g0(h0,p0)}var tr=1/0,Da=tr,Gr=-tr,La=Gr,Ia={point:_w,lineStart:Xt,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt,result:function(){var t=[[tr,Da],[Gr,La]];return Gr=La=-(Da=tr=1/0),t}};function _w(t,n){t<tr&&(tr=t),t>Gr&&(Gr=t),n<Da&&(Da=n),n>La&&(La=n)}var Gf=0,Xf=0,Er=0,Ra=0,Fa=0,Ye=0,Zf=0,Kf=0,Cr=0,m0,b0,dn,hn,Vt={point:_e,lineStart:vl,lineEnd:wl,polygonStart:function(){Vt.lineStart=$w,Vt.lineEnd=Tw},polygonEnd:function(){Vt.point=_e,Vt.lineStart=vl,Vt.lineEnd=wl},result:function(){var t=Cr?[Zf/Cr,Kf/Cr]:Ye?[Ra/Ye,Fa/Ye]:Er?[Gf/Er,Xf/Er]:[NaN,NaN];return Gf=Xf=Er=Ra=Fa=Ye=Zf=Kf=Cr=0,t}};function _e(t,n){Gf+=t,Xf+=n,++Er}function vl(){Vt.point=xw}function xw(t,n){Vt.point=Mw,_e(dn=t,hn=n)}function Mw(t,n){var e=t-dn,r=n-hn,i=Rt(e*e+r*r);Ra+=i*(dn+t)/2,Fa+=i*(hn+n)/2,Ye+=i,_e(dn=t,hn=n)}function wl(){Vt.point=_e}function $w(){Vt.point=Sw}function Tw(){y0(m0,b0)}function Sw(t,n){Vt.point=y0,_e(m0=dn=t,b0=hn=n)}function y0(t,n){var e=t-dn,r=n-hn,i=Rt(e*e+r*r);Ra+=i*(dn+t)/2,Fa+=i*(hn+n)/2,Ye+=i,i=hn*t-dn*n,Zf+=i*(dn+t),Kf+=i*(hn+n),Cr+=i*3,_e(dn=t,hn=n)}function v0(t){this._context=t}v0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Yt);break}}},result:Xt};var Qf=new me,Go,w0,_0,Nr,kr,Xr={point:Xt,lineStart:function(){Xr.point=Aw},lineEnd:function(){Go&&x0(w0,_0),Xr.point=Xt},polygonStart:function(){Go=!0},polygonEnd:function(){Go=null},result:function(){var t=+Qf;return Qf=new me,t}};function Aw(t,n){Xr.point=x0,w0=Nr=t,_0=kr=n}function x0(t,n){Nr-=t,kr-=n,Qf.add(Rt(Nr*Nr+kr*kr)),Nr=t,kr=n}let _l,Pa,xl,Ml;class $l{constructor(n){this._append=n==null?M0:Ew(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==xl||this._append!==Pa){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,xl=r,Pa=this._append,Ml=this._,this._=i}this._+=Ml;break}}}result(){const n=this._;return this._="",n.length?n:null}}function M0(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ew(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return M0;if(n!==_l){const e=10**n;_l=n,Pa=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return Pa}function Wu(t,n){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),fe(f,i(a))),a.result()}return o.area=function(f){return fe(f,i(kn)),kn.result()},o.measure=function(f){return fe(f,i(Xr)),Xr.result()},o.bounds=function(f){return fe(f,i(Ia)),Ia.result()},o.centroid=function(f){return fe(f,i(Vt)),Vt.result()},o.projection=function(f){return arguments.length?(i=f==null?(t=null,Hf):(t=f).stream,o):t},o.context=function(f){return arguments.length?(a=f==null?(n=null,new $l(e)):new v0(n=f),typeof r!="function"&&a.pointRadius(r),o):n},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);e=u}return n===null&&(a=new $l(e)),o},o.projection(t).digits(e).context(n)}function Oa(t){return{stream:co(t)}}function co(t){return function(n){var e=new Jf;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Jf(){}Jf.prototype={constructor:Jf,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Vu(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),fe(e,t.stream(Ia)),n(Ia.result()),r!=null&&t.clipExtent(r),t}function Gu(t,n,e){return Vu(t,function(r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([f,u])},e)}function $0(t,n,e){return Gu(t,[[0,0],n],e)}function T0(t,n,e){return Vu(t,function(r){var i=+n,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([o,f])},e)}function S0(t,n,e){return Vu(t,function(r){var i=+n,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,f])},e)}var Tl=16,Cw=J(30*st);function Sl(t,n){return+n?kw(t,n):Nw(t)}function Nw(t){return co({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function kw(t,n){function e(r,i,a,o,f,u,l,c,d,s,h,p,g,m){var b=l-r,y=c-i,_=b*b+y*y;if(_>4*n&&g--){var v=o+s,M=f+h,w=u+p,x=Rt(v*v+M*M+w*w),T=Qt(w/=x),S=rt(rt(w)-1)<K||rt(a-d)<K?(a+d)/2:On(M,v),C=t(S,T),$=C[0],k=C[1],I=$-r,R=k-i,A=y*I-b*R;(A*A/_>n||rt((b*I+y*R)/_-.5)>.3||o*s+f*h+u*p<Cw)&&(e(r,i,a,o,f,u,$,k,S,v/=x,M/=x,w,g,m),m.point($,k),e($,k,S,v,M,w,l,c,d,s,h,p,g,m))}}return function(r){var i,a,o,f,u,l,c,d,s,h,p,g,m={point:b,lineStart:y,lineEnd:v,polygonStart:function(){r.polygonStart(),m.lineStart=M},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function b(T,S){T=t(T,S),r.point(T[0],T[1])}function y(){d=NaN,m.point=_,r.lineStart()}function _(T,S){var C=je([T,S]),$=t(T,S);e(d,s,c,h,p,g,d=$[0],s=$[1],c=T,h=C[0],p=C[1],g=C[2],Tl,r),r.point(d,s)}function v(){m.point=b,r.lineEnd()}function M(){y(),m.point=w,m.lineEnd=x}function w(T,S){_(i=T,S),a=d,o=s,f=h,u=p,l=g,m.point=_}function x(){e(d,s,c,h,p,g,a,o,i,f,u,l,Tl,r),m.lineEnd=v,v()}return m}}var Dw=co({point:function(t,n){this.stream.point(t*st,n*st)}});function Lw(t){return co({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Iw(t,n,e,r,i){function a(o,f){return o*=r,f*=i,[n+t*o,e-t*f]}return a.invert=function(o,f){return[(o-n)/t*r,(e-f)/t*i]},a}function Al(t,n,e,r,i,a){if(!a)return Iw(t,n,e,r,i);var o=J(a),f=X(a),u=o*t,l=f*t,c=o/t,d=f/t,s=(f*e-o*n)/t,h=(f*n+o*e)/t;function p(g,m){return g*=r,m*=i,[u*g-l*m+n,e-l*g-u*m]}return p.invert=function(g,m){return[r*(c*g-d*m+s),i*(h-d*g-c*m)]},p}function ne(t){return A0(function(){return t})()}function A0(t){var n,e=150,r=480,i=250,a=0,o=0,f=0,u=0,l=0,c,d=0,s=1,h=1,p=null,g=yl,m=null,b,y,_,v=Hf,M=.5,w,x,T,S,C;function $(A){return T(A[0]*st,A[1]*st)}function k(A){return A=T.invert(A[0],A[1]),A&&[A[0]*St,A[1]*St]}$.stream=function(A){return S&&C===A?S:S=Dw(Lw(c)(g(w(v(C=A)))))},$.preclip=function(A){return arguments.length?(g=A,p=void 0,R()):g},$.postclip=function(A){return arguments.length?(v=A,m=b=y=_=null,R()):v},$.clipAngle=function(A){return arguments.length?(g=+A?mw(p=A*st):(p=null,yl),R()):p*St},$.clipExtent=function(A){return arguments.length?(v=A==null?(m=b=y=_=null,Hf):d0(m=+A[0][0],b=+A[0][1],y=+A[1][0],_=+A[1][1]),R()):m==null?null:[[m,b],[y,_]]},$.scale=function(A){return arguments.length?(e=+A,I()):e},$.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],I()):[r,i]},$.center=function(A){return arguments.length?(a=A[0]%360*st,o=A[1]%360*st,I()):[a*St,o*St]},$.rotate=function(A){return arguments.length?(f=A[0]%360*st,u=A[1]%360*st,l=A.length>2?A[2]%360*st:0,I()):[f*St,u*St,l*St]},$.angle=function(A){return arguments.length?(d=A%360*st,I()):d*St},$.reflectX=function(A){return arguments.length?(s=A?-1:1,I()):s<0},$.reflectY=function(A){return arguments.length?(h=A?-1:1,I()):h<0},$.precision=function(A){return arguments.length?(w=Sl(x,M=A*A),R()):Rt(M)},$.fitExtent=function(A,F){return Gu($,A,F)},$.fitSize=function(A,F){return $0($,A,F)},$.fitWidth=function(A,F){return T0($,A,F)},$.fitHeight=function(A,F){return S0($,A,F)};function I(){var A=Al(e,0,0,s,h,d).apply(null,n(a,o)),F=Al(e,r-A[0],i-A[1],s,h,d);return c=u0(f,u,l),x=Bf(n,F),T=Bf(c,x),w=Sl(x,M),R()}function R(){return S=C=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&k,I()}}function Xu(t){var n=0,e=j/3,r=A0(t),i=r(n,e);return i.parallels=function(a){return arguments.length?r(n=a[0]*st,e=a[1]*st):[n*St,e*St]},i}function Rw(t){var n=J(t);function e(r,i){return[r*n,X(i)/n]}return e.invert=function(r,i){return[r/n,Qt(i*n)]},e}function Fw(t,n){var e=X(t),r=(e+X(n))/2;if(rt(r)<K)return Rw(t);var i=1+e*(2*r-e),a=Rt(i)/r;function o(f,u){var l=Rt(i-2*r*X(u))/r;return[l*X(f*=r),a-l*J(f)]}return o.invert=function(f,u){var l=a-u,c=On(f,rt(l))*Gt(l);return l*r<0&&(c-=j*Gt(f)*Gt(l)),[c/r,Qt((i-(f*f+l*l)*r*r)/(2*r))]},o}function Ua(){return Xu(Fw).scale(155.424).center([0,33.6442])}function E0(){return Ua().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Pw(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function Ow(){var t,n,e=E0(),r,i=Ua().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Ua().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,l={point:function(s,h){u=[s,h]}};function c(s){var h=s[0],p=s[1];return u=null,r.point(h,p),u||(a.point(h,p),u)||(f.point(h,p),u)}c.invert=function(s){var h=e.scale(),p=e.translate(),g=(s[0]-p[0])/h,m=(s[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?o:e).invert(s)},c.stream=function(s){return t&&n===s?t:t=Pw([e.stream(n=s),i.stream(s),o.stream(s)])},c.precision=function(s){return arguments.length?(e.precision(s),i.precision(s),o.precision(s),d()):e.precision()},c.scale=function(s){return arguments.length?(e.scale(s),i.scale(s*.35),o.scale(s),c.translate(e.translate())):e.scale()},c.translate=function(s){if(!arguments.length)return e.translate();var h=e.scale(),p=+s[0],g=+s[1];return r=e.translate(s).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(l),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+K,g+.12*h+K],[p-.214*h-K,g+.234*h-K]]).stream(l),f=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+K,g+.166*h+K],[p-.115*h-K,g+.234*h-K]]).stream(l),d()},c.fitExtent=function(s,h){return Gu(c,s,h)},c.fitSize=function(s,h){return $0(c,s,h)},c.fitWidth=function(s,h){return T0(c,s,h)},c.fitHeight=function(s,h){return S0(c,s,h)};function d(){return t=n=null,c}return c.scale(1070)}function C0(t){return function(n,e){var r=J(n),i=J(e),a=t(r*i);return a===1/0?[2,0]:[a*i*X(n),a*X(e)]}}function ci(t){return function(n,e){var r=Rt(n*n+e*e),i=t(r),a=X(i),o=J(i);return[On(n*a,r*o),Qt(r&&e*a/r)]}}var N0=C0(function(t){return Rt(2/(1+t))});N0.invert=ci(function(t){return 2*Qt(t/2)});function Uw(){return ne(N0).scale(124.75).clipAngle(180-.001)}var k0=C0(function(t){return(t=f0(t))&&t/X(t)});k0.invert=ci(function(t){return t});function qw(){return ne(k0).scale(79.4188).clipAngle(180-.001)}function lo(t,n){return[t,Ca(zu((dt+n)/2))]}lo.invert=function(t,n){return[t,2*hr(o0(n))-dt]};function Bw(){return D0(lo).scale(961/Yt)}function D0(t){var n=ne(t),e=n.center,r=n.scale,i=n.translate,a=n.clipExtent,o=null,f,u,l;n.scale=function(d){return arguments.length?(r(d),c()):r()},n.translate=function(d){return arguments.length?(i(d),c()):i()},n.center=function(d){return arguments.length?(e(d),c()):e()},n.clipExtent=function(d){return arguments.length?(d==null?o=f=u=l=null:(o=+d[0][0],f=+d[0][1],u=+d[1][0],l=+d[1][1]),c()):o==null?null:[[o,f],[u,l]]};function c(){var d=j*r(),s=n(uw(n.rotate()).invert([0,0]));return a(o==null?[[s[0]-d,s[1]-d],[s[0]+d,s[1]+d]]:t===lo?[[Math.max(s[0]-d,o),f],[Math.min(s[0]+d,u),l]]:[[o,Math.max(s[1]-d,f)],[u,Math.min(s[1]+d,l)]])}return c()}function qi(t){return zu((dt+t)/2)}function Yw(t,n){var e=J(t),r=t===n?X(t):Ca(e/J(n))/Ca(qi(n)/qi(t)),i=e*Ho(qi(t),r)/r;if(!r)return lo;function a(o,f){i>0?f<-dt+K&&(f=-dt+K):f>dt-K&&(f=dt-K);var u=i/Ho(qi(f),r);return[u*X(r*o),i-u*J(r*o)]}return a.invert=function(o,f){var u=i-f,l=Gt(r)*Rt(o*o+u*u),c=On(o,rt(u))*Gt(u);return u*r<0&&(c-=j*Gt(o)*Gt(u)),[c/r,2*hr(Ho(i/l,1/r))-dt]},a}function Hw(){return Xu(Yw).scale(109.5).parallels([30,30])}function qa(t,n){return[t,n]}qa.invert=qa;function zw(){return ne(qa).scale(152.63)}function Ww(t,n){var e=J(t),r=t===n?X(t):(e-J(n))/(n-t),i=e/r+t;if(rt(r)<K)return qa;function a(o,f){var u=i-f,l=r*o;return[u*X(l),i-u*J(l)]}return a.invert=function(o,f){var u=i-f,l=On(o,rt(u))*Gt(u);return u*r<0&&(l-=j*Gt(o)*Gt(u)),[l/r,i-Gt(r)*Rt(o*o+u*u)]},a}function Vw(){return Xu(Ww).scale(131.154).center([0,13.9389])}var Rr=1.340264,Fr=-.081106,Pr=893e-6,Or=.003796,Ba=Rt(3)/2,Gw=12;function L0(t,n){var e=Qt(Ba*X(n)),r=e*e,i=r*r*r;return[t*J(e)/(Ba*(Rr+3*Fr*r+i*(7*Pr+9*Or*r))),e*(Rr+Fr*r+i*(Pr+Or*r))]}L0.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,a=0,o,f,u;a<Gw&&(f=e*(Rr+Fr*r+i*(Pr+Or*r))-n,u=Rr+3*Fr*r+i*(7*Pr+9*Or*r),e-=o=f/u,r=e*e,i=r*r*r,!(rt(o)<fw));++a);return[Ba*t*(Rr+3*Fr*r+i*(7*Pr+9*Or*r))/J(e),Qt(X(e)/Ba)]};function Xw(){return ne(L0).scale(177.158)}function I0(t,n){var e=J(n),r=J(t)*e;return[e*X(t)/r,X(n)/r]}I0.invert=ci(hr);function Zw(){return ne(I0).scale(144.049).clipAngle(60)}function R0(t,n){return[J(n)*X(t),X(n)]}R0.invert=ci(Qt);function Kw(){return ne(R0).scale(249.5).clipAngle(90+K)}function F0(t,n){var e=J(n),r=1+J(t)*e;return[e*X(t)/r,X(n)/r]}F0.invert=ci(function(t){return 2*hr(t)});function Qw(){return ne(F0).scale(250).clipAngle(142)}function P0(t,n){return[Ca(zu((dt+n)/2)),-t]}P0.invert=function(t,n){return[-n,2*hr(o0(t))-dt]};function Jw(){var t=D0(P0),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function Mn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function so(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const jf=Symbol("implicit");function Zu(){var t=new Br,n=[],e=[],r=jf;function i(a){let o=t.get(a);if(o===void 0){if(r!==jf)return r;t.set(a,o=n.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=new Br;for(const o of a)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Zu(n,e).unknown(r)},Mn.apply(i,arguments),i}function ho(){var t=Zu().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,a,o,f=!1,u=0,l=0,c=.5;delete t.unknown;function d(){var s=n().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,s-u+l*2),f&&(a=Math.floor(a)),p+=(g-p-a*(s-u))*c,o=a*(1-u),f&&(p=Math.round(p),o=Math.round(o));var m=Sf(s).map(function(b){return p+a*b});return e(h?m.reverse():m)}return t.domain=function(s){return arguments.length?(n(s),d()):n()},t.range=function(s){return arguments.length?([r,i]=s,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(s){return[r,i]=s,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(s){return arguments.length?(f=!!s,d()):f},t.padding=function(s){return arguments.length?(u=Math.min(1,l=+s),d()):u},t.paddingInner=function(s){return arguments.length?(u=Math.min(1,s),d()):u},t.paddingOuter=function(s){return arguments.length?(l=+s,d()):l},t.align=function(s){return arguments.length?(c=Math.max(0,Math.min(1,s)),d()):c},t.copy=function(){return ho(n(),[r,i]).round(f).paddingInner(u).paddingOuter(l).align(c)},Mn.apply(d(),arguments)}function O0(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O0(n())},t}function jw(){return O0(ho.apply(null,arguments).paddingInner(1))}function t6(t){return function(){return t}}function tu(t){return+t}var El=[0,1];function Zt(t){return t}function nu(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:t6(isNaN(n)?NaN:.5)}function n6(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function e6(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=nu(i,r),a=e(o,a)):(r=nu(r,i),a=e(a,o)),function(f){return a(r(f))}}function r6(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=nu(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(f){var u=Nu(t,f,1,r)-1;return a[u](i[u](f))}}function li(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function po(){var t=El,n=El,e=ui,r,i,a,o=Zt,f,u,l;function c(){var s=Math.min(t.length,n.length);return o!==Zt&&(o=n6(t[0],t[s-1])),f=s>2?r6:e6,u=l=null,d}function d(s){return s==null||isNaN(s=+s)?a:(u||(u=f(t.map(r),n,e)))(r(o(s)))}return d.invert=function(s){return o(i((l||(l=f(n,t.map(r),_t)))(s)))},d.domain=function(s){return arguments.length?(t=Array.from(s,tu),c()):t.slice()},d.range=function(s){return arguments.length?(n=Array.from(s),c()):n.slice()},d.rangeRound=function(s){return n=Array.from(s),e=Ou,c()},d.clamp=function(s){return arguments.length?(o=s?!0:Zt,c()):o!==Zt},d.interpolate=function(s){return arguments.length?(e=s,c()):e},d.unknown=function(s){return arguments.length?(a=s,d):a},function(s,h){return r=s,i=h,c()}}function U0(){return po()(Zt,Zt)}function i6(t,n,e,r){var i=$f(t,n,e),a;switch(r=Vr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=aw(i,o))&&(r.precision=a),a0(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ow(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iw(i))&&(r.precision=a-(r.type==="%")*2);break}}return dr(r)}function si(t){var n=t.domain;return t.ticks=function(e){var r=n();return va(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return i6(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],f=r[a],u,l,c=10;for(f<o&&(l=o,o=f,f=l,l=i,i=a,a=l);c-- >0;){if(l=Mf(o,f,e),l===u)return r[i]=o,r[a]=f,n(r);if(l>0)o=Math.floor(o/l)*l,f=Math.ceil(f/l)*l;else if(l<0)o=Math.ceil(o*l)/l,f=Math.floor(f*l)/l;else break;u=l}return t},t}function Ku(){var t=U0();return t.copy=function(){return li(t,Ku())},Mn.apply(t,arguments),si(t)}function q0(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,tu),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return q0(t).unknown(n)},t=arguments.length?Array.from(t,tu):[0,1],si(e)}function B0(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],a=t[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),t[e]=n.floor(i),t[r]=n.ceil(a),t}function Cl(t){return Math.log(t)}function Nl(t){return Math.exp(t)}function a6(t){return-Math.log(-t)}function o6(t){return-Math.exp(-t)}function f6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function u6(t){return t===10?f6:t===Math.E?Math.exp:n=>Math.pow(t,n)}function c6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function kl(t){return(n,e)=>-t(-n,e)}function Y0(t){const n=t(Cl,Nl),e=n.domain;let r=10,i,a;function o(){return i=c6(r),a=u6(r),e()[0]<0?(i=kl(i),a=kl(a),t(a6,o6)):t(Cl,Nl),n}return n.base=function(f){return arguments.length?(r=+f,o()):r},n.domain=function(f){return arguments.length?(e(f),o()):e()},n.ticks=f=>{const u=e();let l=u[0],c=u[u.length-1];const d=c<l;d&&([l,c]=[c,l]);let s=i(l),h=i(c),p,g;const m=f==null?10:+f;let b=[];if(!(r%1)&&h-s<m){if(s=Math.floor(s),h=Math.ceil(h),l>0){for(;s<=h;++s)for(p=1;p<r;++p)if(g=s<0?p/a(-s):p*a(s),!(g<l)){if(g>c)break;b.push(g)}}else for(;s<=h;++s)for(p=r-1;p>=1;--p)if(g=s>0?p/a(-s):p*a(s),!(g<l)){if(g>c)break;b.push(g)}b.length*2<m&&(b=va(l,c,m))}else b=va(s,h,Math.min(h-s,m)).map(a);return d?b.reverse():b},n.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Vr(u)).precision==null&&(u.trim=!0),u=dr(u)),f===1/0)return u;const l=Math.max(1,r*f/n.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=l?u(c):""}},n.nice=()=>e(B0(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),n}function H0(){const t=Y0(po()).domain([1,10]);return t.copy=()=>li(t,H0()).base(t.base()),Mn.apply(t,arguments),t}function Dl(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Ll(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function z0(t){var n=1,e=t(Dl(n),Ll(n));return e.constant=function(r){return arguments.length?t(Dl(n=+r),Ll(n)):n},si(e)}function W0(){var t=z0(po());return t.copy=function(){return li(t,W0()).constant(t.constant())},Mn.apply(t,arguments)}function Il(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function l6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function s6(t){return t<0?-t*t:t*t}function V0(t){var n=t(Zt,Zt),e=1;function r(){return e===1?t(Zt,Zt):e===.5?t(l6,s6):t(Il(e),Il(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},si(n)}function G0(){var t=V0(po());return t.copy=function(){return li(t,G0()).exponent(t.exponent())},Mn.apply(t,arguments),t}function X0(){var t=[],n=[],e=[],r;function i(){var o=0,f=Math.max(1,n.length);for(e=new Array(f-1);++o<f;)e[o-1]=rb(t,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:n[Nu(e,o)]}return a.invertExtent=function(o){var f=n.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let f of o)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Xn),i()},a.range=function(o){return arguments.length?(n=Array.from(o),i()):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return X0().domain(t).range(n).unknown(r)},Mn.apply(a,arguments)}function Z0(){var t=[.5],n=[0,1],e,r=1;function i(a){return a!=null&&a<=a?n[Nu(t,a,0,r)]:e}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(a){return arguments.length?(n=Array.from(a),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(a){var o=n.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Z0().domain(t).range(n).unknown(e)},Mn.apply(i,arguments)}const Xo=new Date,Zo=new Date;function gt(t,n,e,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),n(a,1),t(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(n(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return u;let l;do u.push(l=new Date(+a)),n(a,f),t(a);while(l<a&&a<o);return u},i.filter=a=>gt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;n(o,-1),!a(o););else for(;--f>=0;)for(;n(o,1),!a(o););}),e&&(i.count=(a,o)=>(Xo.setTime(+a),Zo.setTime(+o),t(Xo),t(Zo),Math.floor(e(Xo,Zo))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ya=gt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Ya.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Ya);Ya.range;const Ln=1e3,Kt=Ln*60,In=Kt*60,Un=In*24,Qu=Un*7,Rl=Un*30,Ko=Un*365,nn=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Ln)},(t,n)=>(n-t)/Ln,t=>t.getUTCSeconds());nn.range;const di=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ln)},(t,n)=>{t.setTime(+t+n*Kt)},(t,n)=>(n-t)/Kt,t=>t.getMinutes());di.range;const hi=gt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Kt)},(t,n)=>(n-t)/Kt,t=>t.getUTCMinutes());hi.range;const pi=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ln-t.getMinutes()*Kt)},(t,n)=>{t.setTime(+t+n*In)},(t,n)=>(n-t)/In,t=>t.getHours());pi.range;const gi=gt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*In)},(t,n)=>(n-t)/In,t=>t.getUTCHours());gi.range;const Se=gt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Kt)/Un,t=>t.getDate()-1);Se.range;const go=gt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Un,t=>t.getUTCDate()-1);go.range;const mo=gt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Un,t=>Math.floor(t/Un));mo.range;function Ae(t){return gt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Kt)/Qu)}const nr=Ae(0),Zr=Ae(1),K0=Ae(2),Q0=Ae(3),xe=Ae(4),J0=Ae(5),j0=Ae(6);nr.range;Zr.range;K0.range;Q0.range;xe.range;J0.range;j0.range;function Ee(t){return gt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Qu)}const er=Ee(0),Kr=Ee(1),th=Ee(2),nh=Ee(3),Me=Ee(4),eh=Ee(5),rh=Ee(6);er.range;Kr.range;th.range;nh.range;Me.range;eh.range;rh.range;const mi=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mi.range;const bi=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bi.range;const on=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());on.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});on.range;const fn=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});fn.range;function ih(t,n,e,r,i,a){const o=[[nn,1,Ln],[nn,5,5*Ln],[nn,15,15*Ln],[nn,30,30*Ln],[a,1,Kt],[a,5,5*Kt],[a,15,15*Kt],[a,30,30*Kt],[i,1,In],[i,3,3*In],[i,6,6*In],[i,12,12*In],[r,1,Un],[r,2,2*Un],[e,1,Qu],[n,1,Rl],[n,3,3*Rl],[t,1,Ko]];function f(l,c,d){const s=c<l;s&&([l,c]=[c,l]);const h=d&&typeof d.range=="function"?d:u(l,c,d),p=h?h.range(l,+c+1):[];return s?p.reverse():p}function u(l,c,d){const s=Math.abs(c-l)/d,h=to(([,,m])=>m).right(o,s);if(h===o.length)return t.every($f(l/Ko,c/Ko,d));if(h===0)return Ya.every(Math.max($f(l,c,d),1));const[p,g]=o[s/o[h-1][2]<o[h][2]/s?h-1:h];return p.every(g)}return[f,u]}const[d6,h6]=ih(fn,bi,er,mo,gi,hi),[p6,g6]=ih(on,mi,nr,Se,pi,di);function Qo(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jo(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _r(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function m6(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,f=t.months,u=t.shortMonths,l=xr(i),c=Mr(i),d=xr(a),s=Mr(a),h=xr(o),p=Mr(o),g=xr(f),m=Mr(f),b=xr(u),y=Mr(u),_={a:z,A:Y,b:W,B:D,c:null,d:Bl,e:Bl,f:U6,g:Z6,G:Q6,H:F6,I:P6,j:O6,L:ah,m:q6,M:B6,p:P,q,Q:zl,s:Wl,S:Y6,u:H6,U:z6,V:W6,w:V6,W:G6,x:null,X:null,y:X6,Y:K6,Z:J6,"%":Hl},v={a:L,A:G,b:tt,B:Q,c:null,d:Yl,e:Yl,f:e8,g:d8,G:p8,H:j6,I:t8,j:n8,L:fh,m:r8,M:i8,p:U,q:H,Q:zl,s:Wl,S:a8,u:o8,U:f8,V:u8,w:c8,W:l8,x:null,X:null,y:s8,Y:h8,Z:g8,"%":Hl},M={a:C,A:$,b:k,B:I,c:R,d:Ul,e:Ul,f:D6,g:Ol,G:Pl,H:ql,I:ql,j:E6,L:k6,m:A6,M:C6,p:S,q:S6,Q:I6,s:R6,S:N6,u:_6,U:x6,V:M6,w:w6,W:$6,x:A,X:F,y:Ol,Y:Pl,Z:T6,"%":L6};_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),v.x=w(e,v),v.X=w(r,v),v.c=w(n,v);function w(N,O){return function(B){var E=[],ot=-1,V=0,ct=N.length,pt,Ft,Fe;for(B instanceof Date||(B=new Date(+B));++ot<ct;)N.charCodeAt(ot)===37&&(E.push(N.slice(V,ot)),(Ft=Fl[pt=N.charAt(++ot)])!=null?pt=N.charAt(++ot):Ft=pt==="e"?" ":"0",(Fe=O[pt])&&(pt=Fe(B,Ft)),E.push(pt),V=ot+1);return E.push(N.slice(V,ot)),E.join("")}}function x(N,O){return function(B){var E=_r(1900,void 0,1),ot=T(E,N,B+="",0),V,ct;if(ot!=B.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(O&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(V=Jo(_r(E.y,0,1)),ct=V.getUTCDay(),V=ct>4||ct===0?Kr.ceil(V):Kr(V),V=go.offset(V,(E.V-1)*7),E.y=V.getUTCFullYear(),E.m=V.getUTCMonth(),E.d=V.getUTCDate()+(E.w+6)%7):(V=Qo(_r(E.y,0,1)),ct=V.getDay(),V=ct>4||ct===0?Zr.ceil(V):Zr(V),V=Se.offset(V,(E.V-1)*7),E.y=V.getFullYear(),E.m=V.getMonth(),E.d=V.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),ct="Z"in E?Jo(_r(E.y,0,1)).getUTCDay():Qo(_r(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(ct+5)%7:E.w+E.U*7-(ct+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,Jo(E)):Qo(E)}}function T(N,O,B,E){for(var ot=0,V=O.length,ct=B.length,pt,Ft;ot<V;){if(E>=ct)return-1;if(pt=O.charCodeAt(ot++),pt===37){if(pt=O.charAt(ot++),Ft=M[pt in Fl?O.charAt(ot++):pt],!Ft||(E=Ft(N,B,E))<0)return-1}else if(pt!=B.charCodeAt(E++))return-1}return E}function S(N,O,B){var E=l.exec(O.slice(B));return E?(N.p=c.get(E[0].toLowerCase()),B+E[0].length):-1}function C(N,O,B){var E=h.exec(O.slice(B));return E?(N.w=p.get(E[0].toLowerCase()),B+E[0].length):-1}function $(N,O,B){var E=d.exec(O.slice(B));return E?(N.w=s.get(E[0].toLowerCase()),B+E[0].length):-1}function k(N,O,B){var E=b.exec(O.slice(B));return E?(N.m=y.get(E[0].toLowerCase()),B+E[0].length):-1}function I(N,O,B){var E=g.exec(O.slice(B));return E?(N.m=m.get(E[0].toLowerCase()),B+E[0].length):-1}function R(N,O,B){return T(N,n,O,B)}function A(N,O,B){return T(N,e,O,B)}function F(N,O,B){return T(N,r,O,B)}function z(N){return o[N.getDay()]}function Y(N){return a[N.getDay()]}function W(N){return u[N.getMonth()]}function D(N){return f[N.getMonth()]}function P(N){return i[+(N.getHours()>=12)]}function q(N){return 1+~~(N.getMonth()/3)}function L(N){return o[N.getUTCDay()]}function G(N){return a[N.getUTCDay()]}function tt(N){return u[N.getUTCMonth()]}function Q(N){return f[N.getUTCMonth()]}function U(N){return i[+(N.getUTCHours()>=12)]}function H(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var O=w(N+="",_);return O.toString=function(){return N},O},parse:function(N){var O=x(N+="",!1);return O.toString=function(){return N},O},utcFormat:function(N){var O=w(N+="",v);return O.toString=function(){return N},O},utcParse:function(N){var O=x(N+="",!0);return O.toString=function(){return N},O}}}var Fl={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,b6=/^%/,y6=/[\\^$*+?|[\]().{}]/g;function et(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function v6(t){return t.replace(y6,"\\$&")}function xr(t){return new RegExp("^(?:"+t.map(v6).join("|")+")","i")}function Mr(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function w6(t,n,e){var r=vt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function _6(t,n,e){var r=vt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function x6(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function M6(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function $6(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Pl(t,n,e){var r=vt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ol(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function T6(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function S6(t,n,e){var r=vt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function A6(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ul(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function E6(t,n,e){var r=vt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ql(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function C6(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function N6(t,n,e){var r=vt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function k6(t,n,e){var r=vt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function D6(t,n,e){var r=vt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function L6(t,n,e){var r=b6.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function I6(t,n,e){var r=vt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function R6(t,n,e){var r=vt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Bl(t,n){return et(t.getDate(),n,2)}function F6(t,n){return et(t.getHours(),n,2)}function P6(t,n){return et(t.getHours()%12||12,n,2)}function O6(t,n){return et(1+Se.count(on(t),t),n,3)}function ah(t,n){return et(t.getMilliseconds(),n,3)}function U6(t,n){return ah(t,n)+"000"}function q6(t,n){return et(t.getMonth()+1,n,2)}function B6(t,n){return et(t.getMinutes(),n,2)}function Y6(t,n){return et(t.getSeconds(),n,2)}function H6(t){var n=t.getDay();return n===0?7:n}function z6(t,n){return et(nr.count(on(t)-1,t),n,2)}function oh(t){var n=t.getDay();return n>=4||n===0?xe(t):xe.ceil(t)}function W6(t,n){return t=oh(t),et(xe.count(on(t),t)+(on(t).getDay()===4),n,2)}function V6(t){return t.getDay()}function G6(t,n){return et(Zr.count(on(t)-1,t),n,2)}function X6(t,n){return et(t.getFullYear()%100,n,2)}function Z6(t,n){return t=oh(t),et(t.getFullYear()%100,n,2)}function K6(t,n){return et(t.getFullYear()%1e4,n,4)}function Q6(t,n){var e=t.getDay();return t=e>=4||e===0?xe(t):xe.ceil(t),et(t.getFullYear()%1e4,n,4)}function J6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+et(n/60|0,"0",2)+et(n%60,"0",2)}function Yl(t,n){return et(t.getUTCDate(),n,2)}function j6(t,n){return et(t.getUTCHours(),n,2)}function t8(t,n){return et(t.getUTCHours()%12||12,n,2)}function n8(t,n){return et(1+go.count(fn(t),t),n,3)}function fh(t,n){return et(t.getUTCMilliseconds(),n,3)}function e8(t,n){return fh(t,n)+"000"}function r8(t,n){return et(t.getUTCMonth()+1,n,2)}function i8(t,n){return et(t.getUTCMinutes(),n,2)}function a8(t,n){return et(t.getUTCSeconds(),n,2)}function o8(t){var n=t.getUTCDay();return n===0?7:n}function f8(t,n){return et(er.count(fn(t)-1,t),n,2)}function uh(t){var n=t.getUTCDay();return n>=4||n===0?Me(t):Me.ceil(t)}function u8(t,n){return t=uh(t),et(Me.count(fn(t),t)+(fn(t).getUTCDay()===4),n,2)}function c8(t){return t.getUTCDay()}function l8(t,n){return et(Kr.count(fn(t)-1,t),n,2)}function s8(t,n){return et(t.getUTCFullYear()%100,n,2)}function d8(t,n){return t=uh(t),et(t.getUTCFullYear()%100,n,2)}function h8(t,n){return et(t.getUTCFullYear()%1e4,n,4)}function p8(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Me(t):Me.ceil(t),et(t.getUTCFullYear()%1e4,n,4)}function g8(){return"+0000"}function Hl(){return"%"}function zl(t){return+t}function Wl(t){return Math.floor(+t/1e3)}var Ue,Ju,yi;m8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m8(t){return Ue=m6(t),Ju=Ue.format,Ue.parse,yi=Ue.utcFormat,Ue.utcParse,Ue}function b8(t){return new Date(t)}function y8(t){return t instanceof Date?+t:+new Date(+t)}function ju(t,n,e,r,i,a,o,f,u,l){var c=U0(),d=c.invert,s=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),b=l("%a %d"),y=l("%b %d"),_=l("%B"),v=l("%Y");function M(w){return(u(w)<w?h:f(w)<w?p:o(w)<w?g:a(w)<w?m:r(w)<w?i(w)<w?b:y:e(w)<w?_:v)(w)}return c.invert=function(w){return new Date(d(w))},c.domain=function(w){return arguments.length?s(Array.from(w,y8)):s().map(b8)},c.ticks=function(w){var x=s();return t(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?M:l(x)},c.nice=function(w){var x=s();return(!w||typeof w.range!="function")&&(w=n(x[0],x[x.length-1],w??10)),w?s(B0(x,w)):c},c.copy=function(){return li(c,ju(t,n,e,r,i,a,o,f,u,l))},c}function v8(){return Mn.apply(ju(p6,g6,on,mi,nr,Se,pi,di,nn,Ju).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w8(){return Mn.apply(ju(d6,h6,fn,bi,er,go,gi,hi,nn,yi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bo(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yo(){var t=0,n=.5,e=1,r=1,i,a,o,f,u,l=Zt,c,d=!1,s;function h(g){return isNaN(g=+g)?s:(g=.5+((g=+c(g))-a)*(r*g<r*a?f:u),l(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,n,e]=g,i=c(t=+t),a=c(n=+n),o=c(e=+e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,n,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(m){var b,y,_;return arguments.length?([b,y,_]=m,l=oo(g,[b,y,_]),h):[l(0),l(.5),l(1)]}}return h.range=p(ui),h.rangeRound=p(Ou),h.unknown=function(g){return arguments.length?(s=g,h):s},function(g){return c=g,i=g(t),a=g(n),o=g(e),f=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function ch(){var t=si(yo()(Zt));return t.copy=function(){return bo(t,ch())},so.apply(t,arguments)}function lh(){var t=Y0(yo()).domain([.1,1,10]);return t.copy=function(){return bo(t,lh()).base(t.base())},so.apply(t,arguments)}function sh(){var t=z0(yo());return t.copy=function(){return bo(t,sh()).constant(t.constant())},so.apply(t,arguments)}function dh(){var t=V0(yo());return t.copy=function(){return bo(t,dh()).exponent(t.exponent())},so.apply(t,arguments)}function Z(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const _8=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),x8=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),M8=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$8=Z("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),T8=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),S8=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),A8=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),E8=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),C8=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),N8=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),k8=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ft=t=>y2(t[t.length-1]);var hh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const ph=ft(hh);var gh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const mh=ft(gh);var bh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const yh=ft(bh);var vh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const wh=ft(vh);var eu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const Ha=ft(eu);var _h=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const xh=ft(_h);var ru=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const za=ft(ru);var Mh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const $h=ft(Mh);var Th=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const Sh=ft(Th);var Ah=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const Eh=ft(Ah);var Ch=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const Nh=ft(Ch);var kh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const Dh=ft(kh);var Lh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const Ih=ft(Lh);var Rh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const Fh=ft(Rh);var Ph=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const Oh=ft(Ph);var Uh=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const qh=ft(Uh);var Bh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const Yh=ft(Bh);var Hh=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const zh=ft(Hh);var Wh=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Vh=ft(Wh);var Gh=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const Xh=ft(Gh);var Zh=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const Kh=ft(Zh);var Qh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const Jh=ft(Qh);var jh=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const t1=ft(jh);var n1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const e1=ft(n1);var r1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const i1=ft(r1);var a1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const o1=ft(a1);var f1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const u1=ft(f1);function c1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const l1=Uu(vn(300,.5,0),vn(-240,.5,1));var s1=Uu(vn(-100,.75,.35),vn(80,1.5,.8)),d1=Uu(vn(260,.75,.35),vn(80,1.5,.8)),Bi=vn();function h1(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Bi.h=360*t-100,Bi.s=1.5-1.5*n,Bi.l=.8-.9*n,Bi+""}var Yi=Jn(),D8=Math.PI/3,L8=Math.PI*2/3;function p1(t){var n;return t=(.5-t)*Math.PI,Yi.r=255*(n=Math.sin(t))*n,Yi.g=255*(n=Math.sin(t+D8))*n,Yi.b=255*(n=Math.sin(t+L8))*n,Yi+""}function g1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function vo(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const m1=vo(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var b1=vo(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),y1=vo(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),v1=vo(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const w1=Math.cos,tc=Math.min,Wa=Math.sin,mt=Math.sqrt,Va=Math.PI,wo=2*Va,I8=mt(3),_1={draw(t,n){const e=mt(n+tc(n/28,.75))*.59436,r=e/2,i=r*I8;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Qr={draw(t,n){const e=mt(n/Va);t.moveTo(e,0),t.arc(0,0,e,0,wo)}},x1={draw(t,n){const e=mt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},M1=mt(1/3),R8=M1*2,$1={draw(t,n){const e=mt(n/R8),r=e*M1;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},T1={draw(t,n){const e=mt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},S1={draw(t,n){const e=mt(n-tc(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},A1={draw(t,n){const e=mt(n),r=-e/2;t.rect(r,r,e,e)}},E1={draw(t,n){const e=mt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},F8=.8908130915292852,C1=Wa(Va/10)/Wa(7*Va/10),P8=Wa(wo/10)*C1,O8=-w1(wo/10)*C1,N1={draw(t,n){const e=mt(n*F8),r=P8*e,i=O8*e;t.moveTo(0,-e),t.lineTo(r,i);for(let a=1;a<5;++a){const o=wo*a/5,f=w1(o),u=Wa(o);t.lineTo(u*e,-f*e),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},jo=mt(3),k1={draw(t,n){const e=-mt(n/(jo*3));t.moveTo(0,e*2),t.lineTo(-jo*e,-e),t.lineTo(jo*e,-e),t.closePath()}},U8=mt(3),D1={draw(t,n){const e=mt(n)*.6824,r=e/2,i=e*U8/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ht=-.5,zt=mt(3)/2,iu=1/mt(12),q8=(iu/2+1)*3,L1={draw(t,n){const e=mt(n/q8),r=e/2,i=e*iu,a=r,o=e*iu+e,f=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(f,u),t.lineTo(Ht*r-zt*i,zt*r+Ht*i),t.lineTo(Ht*a-zt*o,zt*a+Ht*o),t.lineTo(Ht*f-zt*u,zt*f+Ht*u),t.lineTo(Ht*r+zt*i,Ht*i-zt*r),t.lineTo(Ht*a+zt*o,Ht*o-zt*a),t.lineTo(Ht*f+zt*u,Ht*u-zt*f),t.closePath()}},I1={draw(t,n){const e=mt(n-tc(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},B8=[Qr,x1,$1,A1,N1,k1,L1],Y8=[Qr,S1,I1,D1,_1,E1,T1];function Dr(t,n,e){this.k=t,this.x=n,this.y=e}Dr.prototype={constructor:Dr,scale:function(t){return t===1?this:new Dr(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Dr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Dr.prototype;function $e(t){return t!=null&&!Number.isNaN(t)}function rr(t,n){return+$e(n)-+$e(t)||Xn(t,n)}function au(t,n){return+$e(n)-+$e(t)||ai(t,n)}function R1(t){return t!=null&&`${t}`!=""}function F1(t){return isFinite(t)?t:NaN}function _o(t){return t>0&&isFinite(t)?t:NaN}function nc(t){return t<0&&isFinite(t)?t:NaN}function H8(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${z8(t.getUTCFullYear())}-${Nn(t.getUTCMonth()+1,2)}-${Nn(t.getUTCDate(),2)}${e||r||i||a?`T${Nn(e,2)}:${Nn(r,2)}${i||a?`:${Nn(i,2)}${a?`.${Nn(a,3)}`:""}`:""}Z`:""}`}function z8(t){return t<0?`-${Nn(-t,6)}`:t>9999?`+${Nn(t,6)}`:Nn(t,4)}function Nn(t,n){return`${t}`.padStart(n,"0")}const W8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function P1(t,n){return W8.test(t+="")?new Date(t):n}function ir(t){if(t==null)return;const n=t[0],e=t[t.length-1];return ai(n,e)}const He=1e3,Vn=He*60,Gn=Vn*60,wn=Gn*24,ln=wn*7,pe=wn*30,Hn=wn*365,tf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",He],["5 seconds",5*He],["15 seconds",15*He],["30 seconds",30*He],["minute",Vn],["5 minutes",5*Vn],["15 minutes",15*Vn],["30 minutes",30*Vn],["hour",Gn],["3 hours",3*Gn],["6 hours",6*Gn],["12 hours",12*Gn],["day",wn],["2 days",2*wn],["week",ln],["2 weeks",2*ln],["month",pe],["3 months",3*pe],["6 months",6*pe],["year",Hn],["2 years",2*Hn],["5 years",5*Hn],["10 years",10*Hn],["20 years",20*Hn],["50 years",50*Hn],["100 years",100*Hn]],ec=new Map([["second",He],["minute",Vn],["hour",Gn],["day",wn],["monday",ln],["tuesday",ln],["wednesday",ln],["thursday",ln],["friday",ln],["saturday",ln],["sunday",ln],["week",ln],["month",pe],["year",Hn]]),O1=new Map([["second",nn],["minute",di],["hour",pi],["day",Se],["monday",Zr],["tuesday",K0],["wednesday",Q0],["thursday",xe],["friday",J0],["saturday",j0],["sunday",nr],["week",nr],["month",mi],["year",on]]),rc=new Map([["second",nn],["minute",hi],["hour",gi],["day",mo],["monday",Kr],["tuesday",th],["wednesday",nh],["thursday",Me],["friday",eh],["saturday",rh],["sunday",er],["week",er],["month",bi],["year",fn]]),vi=Symbol("intervalDuration"),xo=Symbol("intervalType");for(const[t,n]of O1)n[vi]=ec.get(t),n[xo]="time";for(const[t,n]of rc)n[vi]=ec.get(t),n[xo]="utc";const Lr=[["year",fn,"utc"],["month",bi,"utc"],["day",mo,"utc",6*pe],["hour",gi,"utc",3*wn],["minute",hi,"utc",6*Gn],["second",nn,"utc",30*Vn]],aa=[["year",on,"time"],["month",mi,"time"],["day",Se,"time",6*pe],["hour",pi,"time",3*wn],["minute",di,"time",6*Gn],["second",nn,"time",30*Vn]],V8=[Lr[0],aa[0],Lr[1],aa[1],Lr[2],aa[2],...Lr.slice(3)];function U1(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=rc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function q1(t){return Y1(U1(t),"time")}function B1(t){return Y1(U1(t),"utc")}function Y1([t,n],e){let r=(e==="time"?O1:rc).get(t);return n>1&&(r=r.every(n),r[vi]=ec.get(t)*n,r[xo]=e),r}function Vl(t,n){if(!(n>1))return;const e=t[vi];if(!tf.some(([,i])=>i===e)||e%wn===0&&wn<e&&e<pe)return;const[r]=tf[to(([,i])=>Math.log(i)).center(tf,Math.log(e*n))];return(t[xo]==="time"?q1:B1)(r)}function Gl(t,n,e){const r=n==="time"?Ju:yi;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=G8(e);switch(t){case"millisecond":return qe(r(".%L"),r(":%M:%S"),i);case"second":return qe(r(":%S"),r("%-I:%M"),i);case"minute":return qe(r("%-I:%M"),r("%p"),i);case"hour":return qe(r("%-I %p"),r("%b %-d"),i);case"day":return qe(r("%-d"),r("%b"),i);case"month":return qe(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function G8(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function X8(t){return t==="time"?aa:t==="utc"?Lr:V8}function Z8(t,n,e){const r=yn(fb(n,(i,a)=>Math.abs(a-i)));if(r<1e3)return Gl("millisecond","utc",e);for(const[i,a,o,f]of X8(t)){if(r>f||i==="hour"&&!r)break;if(n.every(u=>a.floor(u)>=u))return Gl(i,o,e)}}function qe(t,n,e){return(r,i,a)=>{const o=t(r,i),f=n(r,i),u=i-ir(a);return i!==u&&a[u]!==void 0&&f===n(a[u],u)?o:e(o,f)}}const ic=Object.getPrototypeOf(Uint8Array),K8=Object.prototype.toString;function wi(t){return t instanceof Array||t instanceof ic}function H1(t){return t instanceof ic&&!Q8(t)}function z1(t){return(t==null?void 0:t.prototype)instanceof ic&&!J8(t)}function Q8(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function J8(t){return t===BigInt64Array||t===BigUint64Array}const j8=Symbol("reindex");function jn(t,n,e){const r=typeof n;return r==="string"?J1(t)?ac(t.getChild(n),e):Xl(t,n5(n),e):r==="function"?Xl(t,n,e):r==="number"||n instanceof Date||r==="boolean"?Tt(t,Rn(n),e):typeof(n==null?void 0:n.transform)=="function"?ou(n.transform(t),e):t5(ou(n,e),t==null?void 0:t[j8])}function t5(t,n){return t!=null&&n?uc(t,n):t}function Xl(t,n,e){return Tt(t,z1(e)?(r,i)=>oc(n(r,i)):n,e)}function ou(t,n){return n===void 0?Ce(t):j1(t)?ac(t,n):t instanceof n?t:n.from(t,z1(n)&&!H1(t)?oc:void 0)}function ac(t,n){return t==null?t:(n===void 0||n===Array)&&_5(t.type)?V1(Zl(t)):ou(Zl(t),n)}function Zl(t){return t.nullCount?t.toJSON():t.toArray()}const oa=[null],n5=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},e5={transform:_i},Bn={transform:t=>t},r5=()=>!0,xt=t=>t==null?t:`${t}`,$t=t=>t==null?t:+t,W1=t=>t?t[0]:void 0,i5=t=>t?t[1]:void 0,Rn=t=>()=>t;function a5(t){const n=+`${t}`.slice(1)/100;return(e,r)=>wa(e,n,r)}function Kl(t){return H1(t)?t:Tt(t,oc,Float64Array)}function oc(t){return t==null?NaN:Number(t)}function V1(t){return Tt(t,o5)}function o5(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?P1(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function Jr(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:So(t)?[void 0,t]:[t,void 0]}function Et(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function G1(t,n,e){if(t!=null)return cn(t,n,e)}function cn(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function ar(t){return J1(t)?t:Ce(t)}function Ce(t){if(t==null||wi(t))return t;if(j1(t))return ac(t);if(X1(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function X1(t){switch(t==null?void 0:t.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function Tt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function fu(t,n=Array){return t instanceof n?t.slice():n.from(t)}function Ne(t){return(t==null?void 0:t.toString)===K8}function uu(t){return Ne(t)&&(t.type!==void 0||t.domain!==void 0)}function Mo(t){return Ne(t)&&typeof t.transform!="function"}function or(t){return Mo(t)&&t.value===void 0&&t.channel===void 0}function fc(t,n){return t===void 0&&n===void 0?[W1,i5]:[t,n]}function cu(t){return wi(t)?t.length:t==null?void 0:t.numRows}function _i(t){const n=cu(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function uc(t,n){return wi(t)?Tt(n,e=>t[e],t.constructor):Tt(n,e=>t.at(e))}function f5(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function Hi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $o(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function u5(t,n){const e=cc(t,n);return e&&(r=>$e(r)?e.floor(r):r)}function cc(t,n){if(t!=null){if(typeof t=="number")return c5(t);if(typeof t=="string")return(n==="time"?q1:B1)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function c5(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>Sf(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>Sf(Math.ceil(e/n),r/n).map(i=>i*n)}}function xi(t,n){if(t=cc(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function l5(t,n){if(t=xi(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function s5(t){return typeof(t==null?void 0:t.range)=="function"}function To(t){return t===void 0||Mo(t)?t:{value:t}}function d5(t){return t==null?null:{transform:n=>jn(n,t,Float64Array),label:$o(t)}}function ke(t){return t&&typeof t[Symbol.iterator]=="function"}function Z1(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Ql(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function _n(t){for(const n of t)if(n!=null)return n instanceof Date}function h5(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&P1(n)}function p5(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function g5(t){for(const n of t)if(n!=null)return typeof n=="number"}function nf(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const m5=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function So(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||m5.has(t))}function b5(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Dt(t){return t==null||jr(t)}function jr(t){return/^\s*none\s*$/i.test(t)}function y5(t){return/^\s*round\s*$/i.test(t)}function lu(t,n){return G1(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ao(t="middle"){return lu(t,"frameAnchor")}function v5(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const a=r[i];e===t?e={...e,[i]:a}:e[i]=a}return e}function w5(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function K1(t){return ke(t)?w5(t):t}function Q1(t){return t===!0?t="frame":t===!1?t=null:!X1(t)&&t!=null&&(t=cn(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function J1(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function j1(t){return t&&typeof t.toArray=="function"&&t.type}function _5(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const pn=Symbol("position"),Yn=Symbol("color"),Mi=Symbol("radius"),$i=Symbol("length"),Ti=Symbol("opacity"),Eo=Symbol("symbol"),tp=Symbol("projection"),ht=new Map([["x",pn],["y",pn],["fx",pn],["fy",pn],["r",Mi],["color",Yn],["opacity",Ti],["symbol",Eo],["length",$i],["projection",tp]]);function x5(t){return t===pn||t===tp}function M5(t){return t===pn||t===Mi||t===$i||t===Ti}const $5=Math.sqrt(3),T5=2/$5,S5={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*T5,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},lc=new Map([["asterisk",_1],["circle",Qr],["cross",x1],["diamond",$1],["diamond2",T1],["hexagon",S5],["plus",S1],["square",A1],["square2",E1],["star",N1],["times",I1],["triangle",k1],["triangle2",D1],["wye",L1]]);function sc(t){return t&&typeof t.draw=="function"}function A5(t){return sc(t)?!0:typeof t!="string"?!1:lc.has(t.toLowerCase())}function dc(t){if(t==null||sc(t))return t;const n=lc.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function E5(t){if(t==null||sc(t))return[void 0,t];if(typeof t=="string"){const n=lc.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function np({filter:t,sort:n,reverse:e,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=ep(t)),n!=null&&!or(n)&&(r=ef(r,hc(n))),e&&(r=ef(r,rp))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(n===null||or(n))&&{sort:n},transform:ef(r,o)}}function fr({filter:t,sort:n,reverse:e,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=ep(t)),n!=null&&!or(n)&&(r=rf(r,hc(n))),e&&(r=rf(r,rp))),{...i,...(n===null||or(n))&&{sort:n},initializer:rf(r,a)}}function ef(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,ar(e),r,i)}}function rf(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...a){let o,f,u,l,c,d;return{data:f=e,facets:u=r,channels:o}=t.call(this,e,r,i,...a),{data:c=f,facets:d=u,channels:l}=n.call(this,f,u,{...i,...o},...a),{data:c,facets:d,channels:{...o,...l}}}}function C5(t,n){return(t.initializer!=null?fr:np)(t,n)}function ep(t){return(n,e)=>{const r=jn(n,t);return{data:n,facets:e.map(i=>i.filter(a=>r[a]))}}}function rp(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function N5(t,{sort:n,...e}={}){return{...(Mo(t)&&t.channel!==void 0?fr:C5)(e,hc(t)),sort:or(n)?n:null}}function hc(t){return(typeof t=="function"&&t.length!==1?k5:D5)(t)}function k5(t){return(n,e)=>{const r=wi(n)?(i,a)=>t(n[i],n[a]):(i,a)=>t(n.get(i),n.get(a));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function D5(t){let n,e;({channel:n,value:t,order:e}={...To(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?au:rr),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=rr;break;case"descending":e=au;break;default:throw new Error(`invalid order: ${e}`)}return(i,a,o)=>{let f;if(n===void 0)f=jn(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(f=o[n],!f)return{};f=f.value}const u=(l,c)=>e(f[l],f[c]);return{data:i,facets:a.map(l=>l.slice().sort(u))}}}function L5(t,n,e=I5){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Ne(t))return R5(t);if(typeof t=="function")return F5(t);if(/^p\d{2}$/i.test(t))return Cn(a5(t));switch(`${t}`.toLowerCase()){case"first":return O5;case"last":return U5;case"identity":return P5;case"count":return jl;case"distinct":return q5;case"sum":return n==null?jl:B5;case"proportion":return ts(n,"data");case"proportion-facet":return ts(n,"facet");case"deviation":return Cn(Gm);case"min":return Cn(Yr);case"min-index":return Cn(eb);case"max":return Cn(yn);case"max-index":return Cn(nb);case"mean":return Jl(ib);case"median":return Jl(Tf);case"variance":return Cn(pd);case"mode":return Cn(ob)}return e(t)}function I5(t){throw new Error(`invalid reduce: ${t}`)}function R5(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function F5(t){return{reduceIndex(n,e,r){return t(uc(e,n),r)}}}function Cn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Jl(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return _n(e)?new Date(r):r}}}const P5={reduceIndex(t,n){return uc(n,t)}},O5={reduceIndex(t,n){return n[t[0]]}},U5={reduceIndex(t,n){return n[t[t.length-1]]}},jl={label:"Frequency",reduceIndex(t){return t.length}},q5={label:"Distinct",reduceIndex(t,n){const e=new no;for(const r of t)e.add(n[r]);return e.size}},B5=Cn(ku);function ts(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>ku(e,a=>r[a])/i}}function ti(t,{scale:n,type:e,value:r,filter:i,hint:a,label:o=$o(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),ip(f,{scale:n,type:e,value:jn(t,r),label:o,filter:i,hint:a})}function Y5(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,ti(n,r,e)]))}function H5(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:n[i];return[r,o==null?a:Tt(a,o)]}));return e.channels=t,e}function ip(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&nf(r,So)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&nf(r,b5)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&nf(r,A5)?(n.scale=null,n.value=Tt(r,dc)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=ht.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!ht.has(e))throw new Error(`unknown scale: ${e}`);return n}function z5(t,n,e,r,i){const{order:a,reverse:o,reduce:f=!0,limit:u}=i;for(const l in i){if(!ht.has(l))continue;let{value:c,order:d=a,reverse:s=o,reduce:h=f,limit:p=u}=To(i[l]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?op:ap:G5(d),h==null||h===!1)continue;const m=l==="fx"||l==="fy"?V5(n,r[l]):W5(e,l);if(!m)throw new Error(`missing channel for scale: ${l}`);const b=m.value,[y=0,_=1/0]=ke(p)?p:p<0?[p]:[0,p];if(c==null)m.domain=()=>{let v=Array.from(new no(b));return s&&(v=v.reverse()),(y!==0||_!==1/0)&&(v=v.slice(y,_)),v};else{const v=c==="data"?t:c==="height"?ns(e,"y1","y2"):c==="width"?ns(e,"x1","x2"):su(e,c,c==="y"?"y2":c==="x"?"x2":void 0),M=L5(h===!0?"max":h,v);m.domain=()=>{let w=Zm(_i(b),x=>M.reduceIndex(x,v),x=>b[x]);return d&&w.sort(d),s&&w.reverse(),(y!==0||_!==1/0)&&(w=w.slice(y,_)),w.map(W1)}}}}function W5(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function V5(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let a=0;a<e.length;++a){const o=r[e[a][0]];for(const f of t[a])i[f]=o}return n}function ns(t,n,e){const r=su(t,n),i=su(t,e);return Tt(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function su(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function G5(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return ap;case"descending":return op}throw new Error(`invalid order: ${t}`)}function ap([t,n],[e,r]){return rr(n,r)||rr(t,e)}function op([t,n],[e,r]){return au(n,r)||rr(t,e)}function es(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const fp=new Map([["accent",x8],["category10",_8],["dark2",M8],["observable10",$8],["paired",T8],["pastel1",S8],["pastel2",A8],["set1",E8],["set2",C8],["set3",N8],["tableau10",k8]]);function X5(t){return t!=null&&fp.has(`${t}`.toLowerCase())}const rs=new Map([...fp,["brbg",Sn(hh,ph)],["prgn",Sn(gh,mh)],["piyg",Sn(bh,yh)],["puor",Sn(vh,wh)],["rdbu",Sn(eu,Ha)],["rdgy",Sn(_h,xh)],["rdylbu",Sn(ru,za)],["rdylgn",Sn(Mh,$h)],["spectral",Sn(Th,Sh)],["burd",is(eu,Ha)],["buylrd",is(ru,za)],["blues",bt(Qh,Jh)],["greens",bt(jh,t1)],["greys",bt(n1,e1)],["oranges",bt(f1,u1)],["purples",bt(r1,i1)],["reds",bt(a1,o1)],["turbo",An(g1)],["viridis",An(m1)],["magma",An(b1)],["inferno",An(y1)],["plasma",An(v1)],["cividis",An(c1)],["cubehelix",An(l1)],["warm",An(s1)],["cool",An(d1)],["bugn",bt(Ah,Eh)],["bupu",bt(Ch,Nh)],["gnbu",bt(kh,Dh)],["orrd",bt(Lh,Ih)],["pubu",bt(Ph,Oh)],["pubugn",bt(Rh,Fh)],["purd",bt(Uh,qh)],["rdpu",bt(Bh,Yh)],["ylgn",bt(Wh,Vh)],["ylgnbu",bt(Hh,zh)],["ylorbr",bt(Gh,Xh)],["ylorrd",bt(Zh,Kh)],["rainbow",as(h1)],["sinebow",as(p1)]]);function bt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?an(n,e):t[e])}function Sn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?an(n,e):t[e])}function is(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?an(r=>n(1-r),e):t[e].slice().reverse())}function An(t){return({length:n})=>an(t,Math.max(2,Math.floor(n)))}function as(t){return({length:n})=>an(t,Math.floor(n)+1).slice(0,-1)}function up(t){const n=`${t}`.toLowerCase();if(!rs.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return rs.get(n)}function Co(t,n){const e=up(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function Z5(t,n="greys"){const e=new Set,[r,i]=Co(n,2);for(const a of t)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const os=new Map([["brbg",ph],["prgn",mh],["piyg",yh],["puor",wh],["rdbu",Ha],["rdgy",xh],["rdylbu",za],["rdylgn",$h],["spectral",Sh],["burd",t=>Ha(1-t)],["buylrd",t=>za(1-t)],["blues",Jh],["greens",t1],["greys",e1],["purples",i1],["reds",o1],["oranges",u1],["turbo",g1],["viridis",m1],["magma",b1],["inferno",y1],["plasma",v1],["cividis",c1],["cubehelix",l1],["warm",s1],["cool",d1],["bugn",Eh],["bupu",Nh],["gnbu",Dh],["orrd",Ih],["pubugn",Fh],["pubu",Oh],["purd",qh],["rdpu",Yh],["ylgnbu",zh],["ylgn",Vh],["ylorbr",Xh],["ylorrd",Kh],["rainbow",h1],["sinebow",p1]]);function pc(t){const n=`${t}`.toLowerCase();if(!os.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return os.get(n)}const K5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Q5(t){return t!=null&&K5.has(`${t}`.toLowerCase())}const cp=t=>n=>t(1-n),af=[0,1],fs=new Map([["number",_t],["rgb",ve],["hsl",k2],["hcl",I2],["lab",D2]]);function lp(t){const n=`${t}`.toLowerCase();if(!fs.has(n))throw new Error(`unknown interpolator: ${n}`);return fs.get(n)}function Si(t,n,e,{type:r,nice:i,clamp:a,zero:o,domain:f=dp(t,e),unknown:u,round:l,scheme:c,interval:d,range:s=ht.get(t)===Mi?u3(e,f):ht.get(t)===$i?c3(e,f):ht.get(t)===Ti?af:void 0,interpolate:h=ht.get(t)===Yn?c==null&&s!==void 0?ve:pc(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):l?Ou:_t,reverse:p}){if(f=us(f),d=xi(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=lp(h)),p=!!p,s!==void 0){const g=f.length,m=(s=us(s)).length;if(g!==m){if(h.length===1)throw new Error("invalid piecewise interpolator");h=oo(h,s),s=void 0}}if(h.length===1?(p&&(h=cp(h),p=!1),s===void 0&&(s=Float64Array.from(f,(g,m)=>m/(f.length-1)),s.length===2&&(s=af)),n.interpolate((s===af?Rn:mc)(h))):n.interpolate(h),o){const[g,m]=Zn(f);(g>0||m<0)&&(f=fu(f),(ir(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=_a(f)),n.domain(f).unknown(u),i&&(n.nice(J5(i,r)),f=n.domain()),s!==void 0&&n.range(s),a&&n.clamp(a),{type:r,domain:f,range:s,scale:n,interpolate:h,interval:d}}function us(t){return t=Ce(t),t.length>=2?t:[t[0],t[0]]}function J5(t,n){return t===!0?void 0:typeof t=="number"?t:l5(t,n)}function j5(t,n,e){return Si(t,Ku(),n,e)}function t3(t,n,e){return sp(t,n,{...e,exponent:.5})}function sp(t,n,{exponent:e=1,...r}){return Si(t,G0().exponent(e),n,{...r,type:"pow"})}function n3(t,n,{base:e=10,domain:r=l3(n),...i}){return Si(t,H0().base(e),n,{...i,domain:r})}function e3(t,n,{constant:e=1,...r}){return Si(t,W0().constant(e),n,r)}function r3(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=s3(n),unknown:f,interpolate:u,reverse:l}){return e===void 0&&(e=u!==void 0?an(u,i):ht.get(t)===Yn?Co(a,i):void 0),o.length>0&&(o=X0(o,e===void 0?{length:i}:e).quantiles()),gc(t,n,{domain:o,range:e,reverse:l,unknown:f})}function i3(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=dp(t,n),unknown:o,interpolate:f,reverse:u}){const[l,c]=Zn(a);let d;return e===void 0?(d=va(l,c,r),d[0]<=l&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,e=f!==void 0?an(f,r):ht.get(t)===Yn?Co(i,r):void 0):(d=an(_t(l,c),r+1).slice(1,-1),l instanceof Date&&(d=d.map(s=>new Date(s)))),ir(Ce(a))<0&&d.reverse(),gc(t,n,{domain:d,range:e,reverse:u,unknown:o})}function gc(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?an(a,e.length+1):ht.get(t)===Yn?Co(i,e.length+1):void 0,reverse:f}){e=Ce(e);const u=ir(e);if(!isNaN(u)&&!a3(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(o=_a(o)),{type:"threshold",scale:Z0(u<0?_a(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function a3(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const a=ai(i,i=t[e]);if(a!==0&&a!==n)return!1}return!0}function o3(t){return{type:"identity",scale:M5(ht.get(t))?q0():n=>n}}function ni(t,n=F1){return t.length?[Yr(t,({value:e})=>e===void 0?e:Yr(e,n)),yn(t,({value:e})=>e===void 0?e:yn(e,n))]:[0,1]}function dp(t,n){const e=ht.get(t);return(e===Mi||e===Ti||e===$i?f3:ni)(n)}function f3(t){return[0,t.length?yn(t,({value:n})=>n===void 0?n:yn(n,F1)):1]}function u3(t,n){const e=t.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=wa(t,.5,({value:o})=>o===void 0?NaN:wa(o,.25,_o)),i=n.map(o=>3*Math.sqrt(o/r)),a=30/yn(i);return a<1?i.map(o=>o*a):i}function c3(t,n){const e=Tf(t,({value:a})=>a===void 0?NaN:Tf(a,Math.abs)),r=n.map(a=>12*a/e),i=60/yn(r);return i<1?r.map(a=>a*i):r}function l3(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return ni(t,_o);if(e<0)return ni(t,nc)}return[1,10]}function s3(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function mc(t){return(n,e)=>r=>t(n+r*(e-n))}let du=0,hu;function d3(){const t=du;return du=0,hu=void 0,t}function ge(t){t!==hu&&(hu=t,console.warn(t),++du)}function No(t,n,e,r,{type:i,nice:a,clamp:o,domain:f=ni(r),unknown:u,pivot:l=0,scheme:c,range:d,symmetric:s=!0,interpolate:h=ht.get(t)===Yn?c==null&&d!==void 0?ve:pc(c!==void 0?c:"rdbu"):_t,reverse:p}){l=+l,f=Ce(f);let[g,m]=f;if(f.length>2&&ge(`Warning: the diverging ${t} scale domain contains extra elements.`),ai(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,l),m=Math.max(m,l),typeof h!="function"&&(h=lp(h)),d!==void 0&&(h=h.length===1?mc(h)(...d):oo(h,d)),p&&(h=cp(h)),s){const b=e.apply(l),y=b-e.apply(g),_=e.apply(m)-b;y<_?g=e.invert(b-_):y>_&&(m=e.invert(b+y))}return n.domain([g,l,m]).unknown(u).interpolator(h),o&&n.clamp(o),a&&n.nice(a),{type:i,domain:[g,m],pivot:l,interpolate:h,scale:n}}function h3(t,n,e){return No(t,ch(),b3,n,e)}function p3(t,n,e){return hp(t,n,{...e,exponent:.5})}function hp(t,n,{exponent:e=1,...r}){return No(t,dh().exponent(e=+e),w3(e),n,{...r,type:"diverging-pow"})}function g3(t,n,{base:e=10,pivot:r=1,domain:i=ni(n,r<0?nc:_o),...a}){return No(t,lh().base(e=+e),y3,n,{domain:i,pivot:r,...a})}function m3(t,n,{constant:e=1,...r}){return No(t,sh().constant(e=+e),_3(e),n,r)}const b3={apply(t){return t},invert(t){return t}},y3={apply:Math.log,invert:Math.exp},v3={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function w3(t){return t===.5?v3:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function _3(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function pp(t,n,e,r){return Si(t,n,e,r)}function x3(t,n,e){return pp(t,v8(),n,e)}function M3(t,n,e){return pp(t,w8(),n,e)}const Ai=Symbol("ordinal");function gp(t,n,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:u}){return i=xi(i,r),a===void 0&&(a=bp(e,i,t)),(r==="categorical"||r===Ai)&&(r="ordinal"),f&&(a=_a(a)),a=n.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),n.range(o)),{type:r,domain:a,range:o,scale:n,hint:u,interval:i}}function $3(t,n,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...u}){r=xi(r,e),i===void 0&&(i=bp(n,r,t));let l;if(ht.get(t)===Eo)l=A3(n),a=a===void 0?E3(l):Tt(a,dc);else if(ht.get(t)===Yn&&(a===void 0&&(e==="ordinal"||e===Ai)&&(a=Z5(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const c=pc(o),d=a[0],s=a[1]-a[0];a=({length:h})=>an(p=>c(d+s*p),h)}else a=up(o);if(f===jf)throw new Error(`implicit unknown on ${t} scale is not supported`);return gp(t,Zu().unknown(f),n,{...u,type:e,domain:i,range:a,hint:l})}function T3(t,n,{align:e=.5,padding:r=.5,...i}){return mp(jw().align(e).padding(r),n,i,t)}function S3(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return mp(ho().align(e).paddingInner(i).paddingOuter(a),n,o,t)}function mp(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=gp(r,t,n,e),t.round=i,t}function bp(t,n,e){const r=new no;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(n!==void 0){const[i,a]=Zn(r).map(n.floor,n);return n.range(i,n.offset(a))}if(r.size>1e4&&ht.get(e)===pn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Qm(r,rr)}function cs(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function A3(t){return{fill:cs(t,"fill"),stroke:cs(t,"stroke")}}function E3(t){return Dt(t.fill)?Y8:B8}function pu(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:u,clamp:l,zero:c,align:d,padding:s,projection:h,facet:{label:p=n}={},...g}={}){const m={};for(const[b,y]of t){const _=g[b],v=L3(b,y,{round:ht.get(b)===pn?f:void 0,nice:u,clamp:l,zero:c,align:d,padding:s,projection:h,..._});if(v){let{label:M=b==="fx"||b==="fy"?p:n,percent:w,transform:x,inset:T,insetTop:S=T!==void 0?T:b==="y"?r:0,insetRight:C=T!==void 0?T:b==="x"?i:0,insetBottom:$=T!==void 0?T:b==="y"?a:0,insetLeft:k=T!==void 0?T:b==="x"?o:0}=_||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");v.percent=!!w,v.label=M===void 0?N3(y,v):M,v.transform=x,b==="x"||b==="fx"?(v.insetLeft=+k,v.insetRight=+C):(b==="y"||b==="fy")&&(v.insetTop=+S,v.insetBottom=+$),m[b]=v}}return m}function ls(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:f,label:u}=i;n[r]=O3(i),e[r]=a,a.type=o,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return e}function C3(t,n){const{x:e,y:r,fx:i,fy:a}=t,o=i||a?bc(n):n;i&&ss(i,o),a&&ds(a,o);const f=i||a?yp(t,n):n;e&&ss(e,f),r&&ds(r,f)}function N3(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!De(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function k3(t){return Math.sign(ir(t.domain()))*Math.sign(ir(t.range()))}function bc(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:u,marginBottom:l,marginLeft:c}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,u),marginBottom:Math.max(r,l),marginLeft:Math.max(i,c),width:a,height:o}}function yp({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=bc(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:f,height:n?n.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function ss(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=n,f=a+e,u=i-o-r;t.range=[f,Math.max(f,u)],De(t)||(t.range=wp(t)),t.scale.range(t.range)}vp(t)}function ds(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=n,f=a+e,u=i-o-r;t.range=[Math.max(f,u),f],De(t)?t.range.reverse():t.range=wp(t),t.scale.range(t.range)}vp(t)}function vp(t){t.round===void 0&&R3(t)&&D3(t)<=30&&t.scale.round(!0)}function D3({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=n-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function wp(t){const n=t.scale.domain().length+_p(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,a)=>e+a/(n-1)*(r-e))}function L3(t,n=[],e={}){const r=I3(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&De({type:r})){const i=n.map(({value:a})=>a).filter(a=>a!==void 0);i.some(_n)?ge(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Be(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Be(r)}".`):i.some(h5)?ge(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Be(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Be(r)}".`):i.some(p5)&&ge(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Be(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Be(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=zi(n,e,Kl);break;case"identity":switch(ht.get(t)){case pn:e=zi(n,e,Kl);break;case Eo:e=zi(n,e,F3);break}break;case"utc":case"time":e=zi(n,e,V1);break}switch(r){case"diverging":return h3(t,n,e);case"diverging-sqrt":return p3(t,n,e);case"diverging-pow":return hp(t,n,e);case"diverging-log":return g3(t,n,e);case"diverging-symlog":return m3(t,n,e);case"categorical":case"ordinal":case Ai:return $3(t,n,e);case"cyclical":case"sequential":case"linear":return j5(t,n,e);case"sqrt":return t3(t,n,e);case"threshold":return gc(t,n,e);case"quantile":return r3(t,n,e);case"quantize":return i3(t,n,e);case"pow":return sp(t,n,e);case"log":return n3(t,n,e);case"symlog":return e3(t,n,e);case"utc":return M3(t,n,e);case"time":return x3(t,n,e);case"point":return T3(t,n,e);case"band":return S3(t,n,e);case"identity":return o3(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Be(t){return typeof t=="symbol"?t.description:t}function hs(t){return typeof t=="string"?`${t}`.toLowerCase():t}const ps={toString:()=>"projection"};function I3(t,n,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){var c;if(e=hs(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=ps);for(const d of n){const s=hs(d.type);if(s!==void 0){if(e===void 0)e=s;else if(e!==s)throw new Error(`scale incompatible with channel: ${e} !== ${s}`)}}if(e===ps)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:d})=>d!==void 0))return;const u=ht.get(t);if(u===Mi)return"sqrt";if(u===Ti||u===$i)return"linear";if(u===Eo)return"ordinal";const l=(c=r??i)==null?void 0:c.length;if(l<2||l>2)return of(u);if(r!==void 0){if(Ql(r))return of(u);if(_n(r))return"utc"}else{const d=n.map(({value:s})=>s).filter(s=>s!==void 0);if(d.some(Ql))return of(u);if(d.some(_n))return"utc"}if(u===Yn){if(o!=null||Q5(a))return"diverging";if(X5(a))return"categorical"}return"linear"}function of(t){switch(t){case pn:return"point";case Yn:return Ai;default:return"ordinal"}}function De({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Ai}function _p({type:t}){return t==="threshold"}function R3({type:t}){return t==="point"||t==="band"}function Ga(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function zi(t,{domain:n,...e},r){var i;for(const a of t)a.value!==void 0&&(n===void 0&&(n=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:n===void 0?n:r(n),...e}}function F3(t){return Tt(t,dc)}function P3(t){return n=>{if(!ht.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function O3({scale:t,type:n,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:u}){if(n==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const l=t.unknown?t.unknown():void 0;return{type:n,domain:fu(e),...r!==void 0&&{range:fu(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function U3(t,n){const{fx:e,fy:r}=pu(t,n),i=e==null?void 0:e.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Vm(i,a).map(([o,f],u)=>({x:o,y:f,i:u})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function q3(t,{x:n,y:e}){return n&&(n=gu(n)),e&&(e=gu(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function yc(t,{fx:n,fy:e}){const r=_i(t),i=n==null?void 0:n.value,a=e==null?void 0:e.value;return n&&e?Fo(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):n?Fo(r,o=>(o.fx=i[o[0]],o),o=>i[o]):Fo(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function B3(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:o})=>t(o)-r:()=>0,a=n?({y:o})=>n(o)-e:()=>0;return function(o){this.tagName==="svg"?(this.setAttribute("x",i(o)),this.setAttribute("y",a(o))):this.setAttribute("transform",`translate(${i(o)},${a(o)})`)}}function Y3(t){const n=[],e=new Uint32Array(ku(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(e.set(a,i),i+=a.length);n.push(e.slice(0,i))}return n}const H3=new Map([["top",ff],["right",lf],["bottom",uf],["left",cf],["top-left",Wi(ff,cf)],["top-right",Wi(ff,lf)],["bottom-left",Wi(uf,cf)],["bottom-right",Wi(uf,lf)],["top-empty",V3],["right-empty",Z3],["bottom-empty",G3],["left-empty",X3],["empty",K3]]);function z3(t){if(t==null)return null;const n=H3.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const gs=new WeakMap;function gu(t){let n=gs.get(t);return n||gs.set(t,n=new Br(Tt(t,(e,r)=>[e,r]))),n}function ee(t,n){return gu(t).get(n)}function W3(t,n,e){return n=Hi(n),e=Hi(e),t.find(r=>Object.is(Hi(r.x),n)&&Object.is(Hi(r.y),e))}function ko(t,n,e){var r;return(r=W3(t,n,e))==null?void 0:r.empty}function ff(t,{y:n},{y:e}){return n?ee(n,e)===0:!0}function uf(t,{y:n},{y:e}){return n?ee(n,e)===n.length-1:!0}function cf(t,{x:n},{x:e}){return n?ee(n,e)===0:!0}function lf(t,{x:n},{x:e}){return n?ee(n,e)===n.length-1:!0}function V3(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=ee(n,r);if(a>0)return ko(t,e,n[a-1])}function G3(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=ee(n,r);if(a<n.length-1)return ko(t,e,n[a+1])}function X3(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=ee(n,e);if(a>0)return ko(t,n[a-1],r)}function Z3(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const a=ee(n,e);if(a<n.length-1)return ko(t,n[a+1],r)}function K3(t,n,{empty:e}){return e}function Wi(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function sf(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const xp=Math.PI,En=2*xp,df=.618;function Q3({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,l="frame";if(Ne(t)){let M;if({type:t,domain:u,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:l=l,...f}=t,t==null)return}typeof t!="function"&&({type:t}=mu(t));const{width:c,height:d,marginLeft:s,marginRight:h,marginTop:p,marginBottom:g}=o,m=c-s-h-a-r,b=d-p-g-e-i;if(t=t==null?void 0:t({width:m,height:b,clip:l,...f}),t==null)return;l=J3(l,s,p,c-h,d-g);let y=s+a,_=p+e,v;if(u!=null){const[[M,w],[x,T]]=Wu(t).bounds(u),S=Math.min(m/(x-M),b/(T-w));S>0?(y-=(S*(M+x)-m)/2,_-=(S*(w+T)-b)/2,v=Oa({point(C,$){this.stream.point(C*S+y,$*S+_)}})):ge("Warning: the projection could not be fit to the specified domain; using the default scale.")}return v??(v=y===0&&_===0?Mp():Oa({point(M,w){this.stream.point(M+y,w+_)}})),{stream:M=>t.stream(v.stream(l(M)))}}function mu(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Jt(Ow,.7463,.4673);case"albers":return Vi(E0,.7463,.4673);case"azimuthal-equal-area":return Jt(Uw,4,4);case"azimuthal-equidistant":return Jt(qw,En,En);case"conic-conformal":return Vi(Hw,En,En);case"conic-equal-area":return Vi(Ua,6.1702,2.9781);case"conic-equidistant":return Vi(Vw,7.312,3.6282);case"equal-earth":return Jt(Xw,5.4133,2.6347);case"equirectangular":return Jt(zw,En,xp);case"gnomonic":return Jt(Zw,3.4641,3.4641);case"identity":return{type:Mp};case"reflect-y":return{type:j3};case"mercator":return Jt(Bw,En,En);case"orthographic":return Jt(Kw,2,2);case"stereographic":return Jt(Qw,2,2);case"transverse-mercator":return Jt(Jw,En,En);default:throw new Error(`unknown projection type: ${t}`)}}function J3(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return d0(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Jt(t,n,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var l,c,d;const u=t();return o!=null&&((l=u.precision)==null||l.call(u,o)),a!=null&&((c=u.rotate)==null||c.call(u,a)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/n}}function Vi(t,n,e){const{type:r,aspectRatio:i}=Jt(t,n,e);return{type:a=>{const{parallels:o,domain:f,width:u,height:l}=a,c=r(a);return o!=null&&(c.parallels(o),f===void 0&&u!=null&&c.fitSize([u,l],{type:"Sphere"})),c},aspectRatio:i}}const Mp=Rn({stream:t=>t}),j3=Rn(Oa({point(t,n){this.stream.point(t,-n)}}));function t7(t,n,e,r){const i=e[t],a=e[n],o=i.length,f=e[t]=new Float64Array(o).fill(NaN),u=e[n]=new Float64Array(o).fill(NaN);let l;const c=r.stream({point(d,s){f[l]=d,u[l]=s}});for(l=0;l<o;++l)c.point(i[l],a[l])}function n7({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Ne(t)&&(t=t.type),t!=null)}function e7(t){if(typeof(t==null?void 0:t.stream)=="function")return df;if(Ne(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?mu(t).type:t,[[i,a],[o,f]]=Wu(r({...e,width:100,height:100})).bounds(n),u=(f-a)/(o-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:df}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=mu(t);if(n)return n}return df}}function r7(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},a={point(o,f){n.push(o),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)fe(o,a);return[r,i]}function i7({x:t,y:n}){if(t||n)return t??(t=e=>e),n??(n=e=>e),Oa({point(e,r){this.stream.point(t(e),n(r))}})}function vc(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:Q1(e)}}function Nt(t,{document:n}){return se(ro(t).call(n.documentElement))}const a7=Symbol("unset");function wc(t){return(t.length===1?o7:f7)(t)}function o7(t){let n,e=a7;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function f7(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,a)=>!Object.is(i,r[a])))&&(e=r,n=t(...r)),n)}const u7=wc(t=>new Intl.NumberFormat(t));wc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));wc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function c7(t="en-US"){const n=u7(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function l7(t){return H8(t,"Invalid Date")}function s7(t="en-US"){const n=c7(t);return e=>(e instanceof Date?l7:typeof e=="number"?n:xt)(e)}const ei=s7(),Ut=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let d7=0;function $p(){return`plot-clip-${++d7}`}function h7(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:d,strokeLinejoin:s,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:b,mixBlendMode:y,imageFilter:_,paintOrder:v,pointerEvents:M,shapeRendering:w,channels:x},{ariaLabel:T,fill:S="currentColor",fillOpacity:C,stroke:$="none",strokeOpacity:k,strokeWidth:I,strokeLinecap:R,strokeLinejoin:A,strokeMiterlimit:F,paintOrder:z}){S===null&&(f=null,u=null),$===null&&(l=null,d=null),Dt(S)?!Dt($)&&(!Dt(f)||x!=null&&x.fill)&&($="none"):Dt($)&&(!Dt(l)||x!=null&&x.stroke)&&(S="none");const[Y,W]=Jr(f,S),[D,P]=Et(u,C),[q,L]=Jr(l,$),[G,tt]=Et(d,k),[Q,U]=Et(b);jr(L)||(c===void 0&&(c=I),h===void 0&&(h=R),s===void 0&&(s=A),p===void 0&&!y5(s)&&(p=F),!jr(W)&&v===void 0&&(v=z));const[H,N]=Et(c);return S!==null&&(t.fill=wt(W,"currentColor"),t.fillOpacity=$r(P,1)),$!==null&&(t.stroke=wt(L,"none"),t.strokeWidth=$r(N,1),t.strokeOpacity=$r(tt,1),t.strokeLinejoin=wt(s,"miter"),t.strokeLinecap=wt(h,"butt"),t.strokeMiterlimit=$r(p,4),t.strokeDasharray=wt(g,"none"),t.strokeDashoffset=wt(m,"0")),t.target=xt(o),t.ariaLabel=xt(T),t.ariaDescription=xt(i),t.ariaHidden=xt(a),t.opacity=$r(U,1),t.mixBlendMode=wt(y,"normal"),t.imageFilter=wt(_,"none"),t.paintOrder=wt(v,"normal"),t.pointerEvents=wt(M,"auto"),t.shapeRendering=wt(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Y,scale:"auto",optional:!0},fillOpacity:{value:D,scale:"auto",optional:!0},stroke:{value:q,scale:"auto",optional:!0},strokeOpacity:{value:G,scale:"auto",optional:!0},strokeWidth:{value:H,optional:!0},opacity:{value:Q,scale:"auto",optional:!0}}}function p7(t,n){n&&t.filter(e=>R1(n[e])).append("title").call(g7,n)}function g7(t,n){n&&t.text(e=>ei(n[e]))}function pr(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:f,strokeOpacity:u,strokeWidth:l,opacity:c,href:d}){r&&nt(t,"aria-label",s=>r[s]),a&&nt(t,"fill",s=>a[s]),o&&nt(t,"fill-opacity",s=>o[s]),f&&nt(t,"stroke",s=>f[s]),u&&nt(t,"stroke-opacity",s=>u[s]),l&&nt(t,"stroke-width",s=>l[s]),c&&nt(t,"opacity",s=>c[s]),d&&_7(t,s=>d[s],n),e||p7(t,i)}function m7(t,n,e,r){let i;const{clip:a=r.clip}=n;a==="frame"?(t=Nt("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=y7(r,e)):a&&(i=w7(a,r)),nt(t,"aria-label",n.ariaLabel),nt(t,"aria-description",n.ariaDescription),nt(t,"aria-hidden",n.ariaHidden),nt(t,"clip-path",i)}function b7(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const a=$p();se(e.ownerSVGElement).append("clipPath").attr("id",a).call(t,e,r),n.set(e,i=`url(#${a})`)}return i}}const y7=b7((t,n,e)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:f,marginBottom:u}=e;t.append("rect").attr("x",a).attr("y",f).attr("width",r-o-a).attr("height",i-f-u)}),ms=new WeakMap,v7={type:"Sphere"};function w7(t,n){let e,r;if((e=ms.get(n))||ms.set(n,e=new WeakMap),t.type==="Sphere"&&(t=v7),!(r=e.get(t))){const i=$p();se(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function Le(t,n,e,r){m7(t,n,e,r),nt(t,"class",n.className),nt(t,"fill",n.fill),nt(t,"fill-opacity",n.fillOpacity),nt(t,"stroke",n.stroke),nt(t,"stroke-width",n.strokeWidth),nt(t,"stroke-opacity",n.strokeOpacity),nt(t,"stroke-linejoin",n.strokeLinejoin),nt(t,"stroke-linecap",n.strokeLinecap),nt(t,"stroke-miterlimit",n.strokeMiterlimit),nt(t,"stroke-dasharray",n.strokeDasharray),nt(t,"stroke-dashoffset",n.strokeDashoffset),nt(t,"shape-rendering",n.shapeRendering),nt(t,"filter",n.imageFilter),nt(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;nt(t,"pointer-events",i)}function Ie(t,n){x7(t,"mix-blend-mode",n.mixBlendMode),nt(t,"opacity",n.opacity)}function _7(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const a=this.ownerDocument.createElementNS(Xe.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Xe.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function nt(t,n,e){e!=null&&t.attr(n,e)}function x7(t,n,e){e!=null&&t.style(n,e)}function Re(t,n,{x:e,y:r},i=Ut,a=Ut){i+=n.dx,a+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function wt(t,n){if((t=xt(t))!==n)return t}function $r(t,n){if((t=$t(t))!==n)return t}const M7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function _c(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!M7.test(t))throw new Error(`invalid class name: ${t}`);return t}function xc(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Ei({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?n-i:(o+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-a:(r+e-a)/2]}class $n{constructor(n,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:u,sort:l,dx:c=0,dy:d=0,margin:s=0,marginTop:h=s,marginRight:p=s,marginBottom:g=s,marginLeft:m=s,className:b,clip:y=i==null?void 0:i.clip,channels:_,tip:v,render:M}=r;if(this.data=n,this.sort=or(l)?l:null,this.initializer=fr(r).initializer,this.transform=this.initializer?r.transform:np(r).transform,a===null||a===!1?this.facet=null:(this.facet=cn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=n===oa&&typeof f=="string"?[f]:f,this.fy=n===oa&&typeof u=="string"?[u]:u),this.facetAnchor=z3(o),e=K1(e),_!==void 0&&(e={...$7(_),...e}),i!==void 0&&(e={...h7(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([w,x])=>{if(Mo(x.value)){const{value:T,label:S=x.label,scale:C=x.scale}=x.value;x={...x,label:S,scale:C,value:T}}if(n===oa&&typeof x.value=="string"){const{value:T}=x;x={...x,value:[T]}}return[w,x]}).filter(([w,{value:x,optional:T}])=>{if(x!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=Q1(y),this.tip=T7(v),this.className=xt(b),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:x}=e[w];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=Sp(M,this.render))}initialize(n,e,r){let i=ar(this.data);n===void 0&&i!=null&&(n=[_i(i)]);const a=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=ar(i)),n!==void 0&&(n.original=a);const o=Y5(this.channels,i);return this.sort!=null&&z5(i,n,o,e,this.sort),{data:i,facets:n,channels:o}}filter(n,e,r){for(const i in e){const{filter:a=$e}=e[i];if(a!==null){const o=r[i];n=n.filter(f=>a(o[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in n&&n[a].scale==="y"&&t7(i,a,e,r.projection)}}scale(n,e,r){const i=H5(n,e);return r.projection&&this.project(n,i,r),i}}function Tp(...t){return t.plot=$n.prototype.plot,t}function Sp(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,a,o,f){return t.call(this,e,r,i,a,o,(u,l,c,d,s)=>n.call(this,u,l,c,d,s,f))}}function $7(t){return Object.fromEntries(Object.entries(K1(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:To(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function T7(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?cn(t,"tip",["x","y","xy"]):t}function Ap(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:Ne(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function S7(t,n,e={}){let r=.5-Ut,i=.5+Ut,a=.5+Ut,o=.5-Ut;for(const{marginTop:g,marginRight:m,marginBottom:b,marginLeft:y}of n)g>r&&(r=g),m>i&&(i=m),b>a&&(a=b),y>o&&(o=y);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:l=f!==void 0?f:i,marginBottom:c=f!==void 0?f:a,marginLeft:d=f!==void 0?f:o}=e;u=+u,l=+l,c=+c,d=+d;let{width:s=640,height:h=A7(t,e,{width:s,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,u-r+c-a)}=e;s=+s,h=+h;const p={width:s,height:h,marginTop:u,marginRight:l,marginBottom:c,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:u,marginRight:b=g!==void 0?g:l,marginBottom:y=g!==void 0?g:c,marginLeft:_=g!==void 0?g:d}=e.facet??{};m=+m,b=+b,y=+y,_=+_,p.facet={marginTop:m,marginRight:b,marginBottom:y,marginLeft:_}}return p}function A7({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:c}){const d=e&&e.scale.domain().length||1,s=e7(i);if(s){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*s,m=Math.max(.1,Math.min(10,g));return Math.round((o-c-u)*m+f+l)}const h=n?De(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=bs("y",n)/(bs("x",t)*a),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,b=g*(o-c-u)-t.insetLeft-t.insetRight;return(p*b+n.insetTop+n.insetBottom)/m+f+l}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function bs(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[a,o]=Zn(r);return Math.abs(i(o)-i(a))}const ys=new WeakMap;function Mc(t,n,{x:e,y:r,px:i,py:a,maxRadius:o=40,channels:f,render:u,...l}={}){return o=+o,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:e,y:r,channels:f,...l,render:Sp(function(c,d,s,h,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:b}=p.getMarkState(this);let y=ys.get(m);y||ys.set(m,y={sticky:!1,roots:[],renders:[]});let _=y.renders.push(L)-1;const{x:v,y:M,fx:w,fy:x}=d;let T=w?w(c.fx)-h.marginLeft:0,S=x?x(c.fy)-h.marginTop:0;v!=null&&v.bandwidth&&(T+=v.bandwidth()/2),M!=null&&M.bandwidth&&(S+=M.bandwidth()/2);const C=c.fi!=null;let $;if(C){let U=y.facetStates;U||(y.facetStates=U=new Map),$=U.get(this),$||U.set(this,$=new Map)}const[k,I]=Ei(this,h),{px:R,py:A}=s,F=R?U=>R[U]:Ep(s,k),z=A?U=>A[U]:Cp(s,I);let Y,W,D,P;function q(U,H){if(C)if(P&&(P=cancelAnimationFrame(P)),U==null)$.delete(c.fi);else{$.set(c.fi,H),P=requestAnimationFrame(()=>{P=null;for(const[N,O]of $)if(O<H||O===H&&N<c.fi){U=null;break}L(U)});return}L(U)}function L(U){if(Y===U&&D===y.sticky)return;Y=U,D=p.pointerSticky=y.sticky;const H=Y==null?[]:[Y];C&&(H.fx=c.fx,H.fy=c.fy,H.fi=c.fi);const N=g(H,d,s,h,p);if(W){if(C){const O=W.parentNode,B=W.getAttribute("transform"),E=N.getAttribute("transform");B?N.setAttribute("transform",B):N.removeAttribute("transform"),E?O.setAttribute("transform",E):O.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}W.replaceWith(N)}if(y.roots[_]=W=N,!(Y==null&&($==null?void 0:$.size)>1)){const O=Y==null?null:wi(b)?b[Y]:b.get(Y);p.dispatchValue(O)}return N}function G(U){if(y.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[H,N]=jy(U);H-=T,N-=S;const O=H<h.marginLeft||H>h.width-h.marginRight?1:t,B=N<h.marginTop||N>h.height-h.marginBottom?1:n;let E=null,ot=o*o;for(const V of c){const ct=O*(F(V)-H),pt=B*(z(V)-N),Ft=ct*ct+pt*pt;Ft<=ot&&(E=V,ot=Ft)}if(E!=null&&(t!==1||n!==1)){const V=F(E)-H,ct=z(E)-N;ot=V*V+ct*ct}q(E,ot)}function tt(U){U.pointerType==="mouse"&&Y!=null&&(y.sticky&&y.roots.some(H=>H==null?void 0:H.contains(U.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(H=>H(null))):(y.sticky=!0,L(Y)),U.stopImmediatePropagation()))}function Q(U){U.pointerType==="mouse"&&(y.sticky||q(null))}return m.addEventListener("pointerenter",G),m.addEventListener("pointermove",G),m.addEventListener("pointerdown",tt),m.addEventListener("pointerleave",Q),L(null)},u)}}function E7(t){return Mc(1,1,t)}function C7(t){return Mc(1,.01,t)}function vs(t){return Mc(.01,1,t)}function Ep({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Cp({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Np(t){return De(t)&&t.interval===void 0?void 0:"tabular-nums"}function N7(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:l=0,style:c,ticks:d=(i-l-f)/64,tickFormat:s,fontVariant:h=Np(t),round:p=!0,opacity:g,className:m}=n;const b=vc(n);m=_c(m),g=Et(g)[1],s===null&&(s=()=>null);const y=Nt("svg",b).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(k=>k.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(xc,c);let _=k=>k.selectAll(".tick line").attr("y1",o+u-a),v;const M=p?(k,I)=>k.rangeRound(I):(k,I)=>k.range(I),{type:w,domain:x,range:T,interpolate:S,scale:C,pivot:$}=t;if(S){const k=T===void 0?S:oo(S.length===1?mc(S):S,T);v=M(C.copy(),an(_t(l,i-f),Math.min(x.length+($!==void 0),T===void 0?1/0:T.length)));const I=256,R=b.document.createElement("canvas");R.width=I,R.height=1;const A=R.getContext("2d");for(let F=0,z=I-1;F<I;++F)A.fillStyle=k(F/z),A.fillRect(F,0,1,1);y.append("image").attr("opacity",g).attr("x",l).attr("y",o).attr("width",i-l-f).attr("height",a-o-u).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(w==="threshold"){const k=x,I=s===void 0?R=>R:typeof s=="string"?dr(s):s;v=M(Ku().domain([-1,T.length-1]),[l,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(R,A)=>v(A-1)).attr("y",o).attr("width",(R,A)=>v(A)-v(A-1)).attr("height",a-o-u).attr("fill",R=>R),d=Tt(k,(R,A)=>A),s=R=>I(k[R],R)}else v=M(ho().domain(x),[l,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(x).enter().append("rect").attr("x",v).attr("y",o).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",a-o-u).attr("fill",C),_=()=>{};return y.append("g").attr("transform",`translate(0,${a-u})`).call(mb(v).ticks(Array.isArray(d)?null:d,typeof s=="string"?s:void 0).tickFormat(typeof s=="function"?s:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",wt(h,"normal")).call(_).call(k=>k.select(".domain").remove()),e!==void 0&&y.append("text").attr("x",l).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const kp=Math.PI/180;function Dp(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=hf(e),t.markerMid=hf(r),t.markerEnd=hf(i)}function hf(t){if(t==null||t===!1)return null;if(t===!0)return _s;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return ws("auto");case"arrow-reverse":return ws("auto-start-reverse");case"dot":return k7;case"circle":case"circle-fill":return _s;case"circle-stroke":return D7;case"tick":return pf("auto");case"tick-x":return pf(90);case"tick-y":return pf(0)}throw new Error(`invalid marker: ${t}`)}function ws(t){return(n,e)=>Nt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function k7(t,n){return Nt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function _s(t,n){return Nt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function D7(t,n){return Nt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function pf(t){return(n,e)=>Nt("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let L7=0;function Lp(t,n,{stroke:e},r){return I7(t,n,e&&(i=>e[i]),null,r)}function I7(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},a=()=>i,o,f){if(!n&&!e&&!r)return;const u=new Map,l=o;function c(d,s,h){return function(p){if(h&&!h(p))return;const g=a(p);let m=u.get(s);m||u.set(s,m=new Map);let b=m.get(g);if(!b){const y=this.parentNode.insertBefore(s(g,f),this),_=`plot-marker-${++L7}`;y.setAttribute("id",_),m.set(g,b=`url(#${_})`)}this.setAttribute(d,b)}}n&&t.each(c("marker-start",n,l)),e&&t.each(c("marker-mid",e)),r&&t.each(c("marker-end",r,l))}function Ip({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Fp(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Rp({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Fp(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Fp(t,n,e){return t===void 0&&n===void 0&&e===void 0?Ut?[1,0]:[.5,.5]:[n,e]}function Pp(t,{interval:n}){return t={...To(t)},t.interval=cc(t.interval===void 0?n:t.interval),t}function Op(t,n,e,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=e,{value:f,interval:u}=Pp(i,e);if(f==null||u==null)return e;const l=$o(i);if(u==null){let h;const p={transform:g=>h||(h=jn(g,f)),label:l};return{...e,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:o===void 0&&!(a===o&&r)?p:o}}let c,d;function s(h){return d!==void 0&&h===c?d:d=Tt(jn(c=h,f),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:a===void 0?{transform:s,label:l}:a,[`${t}2`]:o===void 0?{transform:h=>s(h).map(p=>u.offset(p)),label:l}:o})}function Up(t,n,e){const{[t]:r}=e,{value:i,interval:a}=Pp(r,e);return i==null||a==null?e:n({...e,[t]:{label:$o(r),transform:o=>{const f=Tt(jn(o,i),l=>a.floor(l)),u=f.map(l=>a.offset(l));return f.map(_n(f)?(l,c)=>l==null||isNaN(l=+l)||(c=u[c],c==null)||isNaN(c=+c)?void 0:new Date((l+c)/2):(l,c)=>l==null||(c=u[c],c==null)?NaN:(+l+ +c)/2)}}})}function R7(t={}){return Op("x",Ip,t)}function F7(t={}){return Op("y",Rp,t)}function P7(t={}){return Up("x",Ip,t)}function O7(t={}){return Up("y",Rp,t)}const qp={ariaLabel:"rule",fill:null,stroke:"currentColor"};class U7 extends $n{constructor(n,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:u=o}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Ap(e,"x"),qp),this.insetTop=$t(f),this.insetBottom=$t(u),Dp(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y1:l,y2:c}=r,{width:d,height:s,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:b,insetBottom:y}=this;return Nt("svg:g",a).call(Le,this,i,a).call(Re,this,{x:u&&o},Ut,0).call(_=>_.selectAll().data(n).enter().append("line").call(Ie,this).attr("x1",u?v=>u[v]:(g+d-p)/2).attr("x2",u?v=>u[v]:(g+d-p)/2).attr("y1",l&&!Ga(f)?v=>l[v]+b:h+b).attr("y2",c&&!Ga(f)?f.bandwidth?v=>c[v]+f.bandwidth()-y:v=>c[v]-y:s-m-y).call(pr,this,r).call(Lp,this,r,a)).node()}}class q7 extends $n{constructor(n,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:u=o}=e;super(n,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ap(e,"y"),qp),this.insetRight=$t(f),this.insetLeft=$t(u),Dp(this,e)}render(n,e,r,i,a){const{x:o,y:f}=e,{y:u,x1:l,x2:c}=r,{width:d,height:s,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:b,insetRight:y}=this;return Nt("svg:g",a).call(Le,this,i,a).call(Re,this,{y:u&&f},0,Ut).call(_=>_.selectAll().data(n).enter().append("line").call(Ie,this).attr("x1",l&&!Ga(o)?v=>l[v]+b:g+b).attr("x2",c&&!Ga(o)?o.bandwidth?v=>c[v]+o.bandwidth()-y:v=>c[v]-y:d-p-y).attr("y1",u?v=>u[v]:(h+s-m)/2).attr("y2",u?v=>u[v]:(h+s-m)/2).call(pr,this,r).call(Lp,this,r,a)).node()}}function Bp(t,n){let{x:e=Bn,y:r,y1:i,y2:a,...o}=F7(n);return[i,a]=Hp(r,i,a),new U7(t,{...o,x:e,y1:i,y2:a})}function Yp(t,n){let{y:e=Bn,x:r,x1:i,x2:a,...o}=R7(n);return[i,a]=Hp(r,i,a),new q7(t,{...o,y:e,x1:i,x2:a})}function Hp(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function $c(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let a=0;a<e;++a)i+=n[a](r)+t[a+1];return i}}const B7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},zp="";let Tc=class extends $n{constructor(n,e={}){const{x:r,y:i,text:a=ke(n)&&Z1(n)?Bn:e5,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:l=1,lineWidth:c=1/0,textOverflow:d,monospace:s,fontFamily:h=s?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:b,rotate:y}=e,[_,v]=Et(y,0),[M,w]=G7(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:d5(_),optional:!0},text:{value:a,filter:R1,optional:!0}},e,B7),this.rotate=v,this.textAnchor=wt(f,"middle"),this.lineAnchor=cn(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+c,this.textOverflow=Wp(d),this.monospace=!!s,this.fontFamily=xt(h),this.fontSize=w,this.fontStyle=xt(g),this.fontVariant=xt(m),this.fontWeight=xt(b),this.frameAnchor=Ao(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Gp(this),this.clipLine=Xp(this)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:l,rotate:c,text:d,title:s,fontSize:h}=r,{rotate:p}=this,[g,m]=Ei(this,i);return Nt("svg:g",a).call(Le,this,i,a).call(Vp,this,d,i).call(Re,this,{x:u&&o,y:l&&f}).call(b=>b.selectAll().data(n).enter().append("text").call(Ie,this).call(Y7,this,d,s).attr("transform",$c`translate(${u?y=>u[y]:g},${l?y=>l[y]:m})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(nt,"font-size",h&&(y=>h[y])).call(pr,this,r)).node()}};function Wp(t){return t==null?null:cn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Y7(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:u}=n;t.each(function(l){const c=f(ei(e[l])??"").map(u),d=c.length,s=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(Xe.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(s+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=c[p],this.appendChild(g),h=0}}else s&&this.setAttribute("y",`${s*a}em`),this.textContent=c[0];if(o&&!r&&c[0]!==e[l]){const h=this.ownerDocument.createElementNS(Xe.svg,"title");h.textContent=e[l],this.appendChild(h)}})}function Sc(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=fc(n,e)),new Tc(t,{...r,x:n,y:e})}function H7(t,{x:n=Bn,...e}={}){return new Tc(t,O7({...e,x:n}))}function z7(t,{y:n=Bn,...e}={}){return new Tc(t,P7({...e,y:n}))}function Vp(t,n,e){nt(t,"text-anchor",n.textAnchor),nt(t,"font-family",n.fontFamily),nt(t,"font-size",n.fontSize),nt(t,"font-style",n.fontStyle),nt(t,"font-variant",n.fontVariant===void 0?W7(e):n.fontVariant),nt(t,"font-weight",n.fontWeight)}function W7(t){return t&&(g5(t)||_n(t))?"tabular-nums":void 0}const V7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function G7(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),V7.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function X7(t,n,e){const r=[];let i,a=0;for(const[o,f,u]of Z7(t)){if(i===void 0&&(i=o),a>i&&e(t,i,f)>n&&(r.push(t.slice(i,a)+(t[a-1]===zp?"-":"")),i=o),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*Z7(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case zp:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const xs={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Ac(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=gr(t,i))r+=xs[t[i]]??(Kp(t,i)?120:xs.e);return r}function Ec(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=gr(t,i))r+=Kp(t,i)?126:63;return r}function Gp({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?Ec:Ac,i=n*100;return a=>X7(a,i,r)}function Xp({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return a=>a;const r=t?Ec:Ac,i=n*100;switch(e){case"clip-start":return a=>$s(a,i,r,"");case"clip-end":return a=>Ms(a,i,r,"");case"ellipsis-start":return a=>$s(a,i,r,Ve);case"ellipsis-middle":return a=>K7(a,i,r,Ve);case"ellipsis-end":return a=>Ms(a,i,r,Ve)}}const Ve="";function ur(t,n,e,r){const i=[];let a=0;for(let o=0,f=0,u=t.length;o<u;o=f){f=gr(t,o);const l=e(t,o,f);if(a+l>n){for(a+=r;a>n&&o>0;)f=o,o=i.pop(),a-=e(t,o,f);return[o,n-a]}a+=l,i.push(o)}return[-1,0]}function Ms(t,n,e,r){t=t.trim();const i=e(r),[a]=ur(t,n,e,i);return a<0?t:t.slice(0,a).trimEnd()+r}function K7(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r)/2,[o,f]=ur(t,n/2,e,a),[u]=ur(t,i-n/2-f+a,e,-a);return u<0?r:t.slice(0,o).trimEnd()+r+t.slice(gr(t,u)).trimStart()}function $s(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const a=e(r),[o]=ur(t,i-n+a,e,-a);return o<0?r:r+t.slice(gr(t,o)).trimStart()}const bu=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ts=new RegExp("\\p{Extended_Pictographic}","uy");function gr(t,n){return n+=Q7(t,n)?2:1,j7(t,n)&&(n=bu.lastIndex),J7(t,n)?gr(t,n+1):n}function Zp(t,n){return t.charCodeAt(n)<128}function Q7(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function J7(t,n){return t.charCodeAt(n)===8205}function j7(t,n){return Zp(t,n)?!1:(bu.lastIndex=n,bu.test(t))}function Kp(t,n){return Zp(t,n)?!1:(Ts.lastIndex=n,Ts.test(t))}const t4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Qp=3.5,n4=Qp*5,Jp={draw(t,n,e){const r=n*e/n4;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},e4={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},r4=new Map([["arrow",Jp],["spike",e4]]);function i4(t){return t&&typeof t.draw=="function"}function a4(t){if(i4(t))return t;const n=r4.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class jp extends $n{constructor(n,e={}){const{x:r,y:i,r:a=Qp,length:o,rotate:f,shape:u=Jp,anchor:l="middle",frameAnchor:c}=e,[d,s]=Et(o,12),[h,p]=Et(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,t4),this.r=+a,this.length=s,this.rotate=p,this.shape=a4(u),this.anchor=cn(l,"anchor",["start","middle","end"]),this.frameAnchor=Ao(c)}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:l,length:c,rotate:d}=r,{length:s,rotate:h,anchor:p,shape:g,r:m}=this,[b,y]=Ei(this,i);return Nt("svg:g",a).call(Le,this,i,a).call(Re,this,{x:u&&o,y:l&&f}).call(_=>_.selectAll().data(n).enter().append("path").call(Ie,this).attr("transform",$c`translate(${u?v=>u[v]:b},${l?v=>l[v]:y})${d?v=>` rotate(${d[v]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?v=>` translate(0,${c[v]})`:` translate(0,${s})`:c?v=>` translate(0,${c[v]/2})`:` translate(0,${s/2})`}`).attr("d",c?v=>{const M=ce();return g.draw(M,c[v],m),M}:(()=>{const v=ce();return g.draw(v,s,m),v})()).call(pr,this,r)).node()}}function o4(t,n={}){const{x:e=Bn,...r}=n;return new jp(t,{...r,x:e})}function f4(t,n={}){const{y:e=Bn,...r}=n;return new jp(t,{...r,y:e})}function re(t,n){return arguments.length<2&&!ke(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Do({anchor:t}={},n){return t===void 0?n[0]:cn(t,"anchor",n)}function tg(t){return Do(t,["left","right"])}function ng(t){return Do(t,["right","left"])}function eg(t){return Do(t,["bottom","top"])}function rg(t){return Do(t,["top","bottom"])}function ig(){const[t,n]=re(...arguments);return og("y",tg(n),t,n)}function u4(){const[t,n]=re(...arguments);return og("fy",ng(n),t,n)}function ag(){const[t,n]=re(...arguments);return fg("x",eg(n),t,n)}function c4(){const[t,n]=re(...arguments);return fg("fx",rg(n),t,n)}function og(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:l=i,textAnchor:c,textStroke:d,textStrokeOpacity:s,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:b,margin:y,marginTop:_=y===void 0?20:y,marginRight:v=y===void 0?n==="right"?40:0:y,marginBottom:M=y===void 0?20:y,marginLeft:w=y===void 0?n==="left"?40:0:y,label:x,labelAnchor:T,labelArrow:S,labelOffset:C,ariaLabel:$=`${t}-axis`,...k}){return p=$t(p),g=$t(g),m=$t(m),T!==void 0&&(T=cn(T,"labelAnchor",["center","top","bottom"])),S=gg(S),Tp(p&&!Dt(a)?l4(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:b,ariaLabel:$,...k}):null,Dt(u)?null:d4(t,n,e,{fill:u,fillOpacity:l,stroke:d,strokeOpacity:s,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,x:b,marginTop:_,marginRight:v,marginBottom:M,marginLeft:w,ariaLabel:$,...k}),!Dt(u)&&x!==null?Sc([],sg({fill:u,fillOpacity:l,...k},function(I,R,A,F,z){const Y=F[t],{marginTop:W,marginRight:D,marginBottom:P,marginLeft:q}=t==="y"&&z.inset||z,L=T??(Y.bandwidth?"center":"top"),G=C??(n==="right"?D:q)-3;return L==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=L,this.frameAnchor=`${L}-${n}`,this.rotate=0),this.dy=L==="top"?3-W:L==="bottom"?P-3:0,this.dx=n==="right"?G:-G,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[pg(t,Y,{anchor:n,label:x,labelAnchor:L,labelArrow:S})]}}}})):null)}function fg(t,n,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:u=r,fillOpacity:l=i,textAnchor:c,textStroke:d,textStrokeOpacity:s,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:b,margin:y,marginTop:_=y===void 0?n==="top"?30:0:y,marginRight:v=y===void 0?20:y,marginBottom:M=y===void 0?n==="bottom"?30:0:y,marginLeft:w=y===void 0?20:y,label:x,labelAnchor:T,labelArrow:S,labelOffset:C,ariaLabel:$=`${t}-axis`,...k}){return p=$t(p),g=$t(g),m=$t(m),T!==void 0&&(T=cn(T,"labelAnchor",["center","left","right"])),S=gg(S),Tp(p&&!Dt(a)?s4(t,n,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:b,ariaLabel:$,...k}):null,Dt(u)?null:h4(t,n,e,{fill:u,fillOpacity:l,stroke:d,strokeOpacity:s,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,y:b,marginTop:_,marginRight:v,marginBottom:M,marginLeft:w,ariaLabel:$,...k}),!Dt(u)&&x!==null?Sc([],sg({fill:u,fillOpacity:l,...k},function(I,R,A,F,z){const Y=F[t],{marginTop:W,marginRight:D,marginBottom:P,marginLeft:q}=t==="x"&&z.inset||z,L=T??(Y.bandwidth?"center":"right"),G=C??(n==="top"?W:P)-3;return L==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${L}`,this.textAnchor=L==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-G:G,this.dx=L==="right"?D-3:L==="left"?3-q:0,this.ariaLabel=`${$} label`,{facets:[[0]],channels:{text:{value:[pg(t,Y,{anchor:n,label:x,labelAnchor:L,labelArrow:S})]}}}})):null)}function l4(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:l=0,insetLeft:c=l,insetRight:d=l,dx:s=0,y:h=t==="y"?void 0:null,ariaLabel:p,...g}){return mr(f4,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:h,...g,dx:n==="left"?+s-Ut+ +c:+s+Ut-d,anchor:"start",length:u,shape:n==="left"?_4:x4})}function s4(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:u,inset:l=0,insetTop:c=l,insetBottom:d=l,dy:s=0,x:h=t==="x"?void 0:null,ariaLabel:p,...g}){return mr(o4,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:h,...g,dy:n==="bottom"?+s-Ut-d:+s+Ut+ +c,anchor:"start",length:u,shape:n==="bottom"?v4:w4})}function d4(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*kp):0),text:u,textAnchor:l=Math.abs(o)>60?"middle":n==="left"?"end":"start",lineAnchor:c=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:s=0,insetLeft:h=s,insetRight:p=s,dx:g=0,ariaLabel:m,y:b=t==="y"?void 0:null,...y}){return mr(z7,t,e,{ariaLabel:`${m} tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:l,lineAnchor:c,fontVariant:d,rotate:o,y:b,...y,dx:n==="left"?+g-a-f+ +h:+g+ +a+ +f-p},function(_,v,M,w,x){d===void 0&&(this.fontVariant=hg(_)),u===void 0&&(x.text=dg(_,v,M,w,n))})}function h4(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*kp):0),text:u,textAnchor:l=Math.abs(o)>=10?o<0^n==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(o)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:s=0,insetTop:h=s,insetBottom:p=s,dy:g=0,x:m=t==="x"?void 0:null,ariaLabel:b,...y}){return mr(H7,t,e,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:l,lineAnchor:c,fontVariant:d,rotate:o,x:m,...y,dy:n==="bottom"?+g+ +a+ +f-p:+g-a-f+ +h},function(_,v,M,w,x){d===void 0&&(this.fontVariant=hg(_)),u===void 0&&(x.text=dg(_,v,M,w,n))})}function p4(){const[t,n]=re(...arguments);return ug("y",tg(n),t,n)}function g4(){const[t,n]=re(...arguments);return ug("fy",ng(n),t,n)}function m4(){const[t,n]=re(...arguments);return cg("x",eg(n),t,n)}function b4(){const[t,n]=re(...arguments);return cg("fx",rg(n),t,n)}function ug(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:a=n==="left"?i:null,x2:o=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:u=!0,...l}){return mr(Yp,t,e,{ariaLabel:f,ariaHidden:u},{y:r,x1:a,x2:o,...lg(l)})}function cg(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:a=n==="top"?i:null,y2:o=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:u=!0,...l}){return mr(Bp,t,e,{ariaLabel:f,ariaHidden:u},{x:r,y1:a,y2:o,...lg(l)})}function lg({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function sg({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:l,clip:c=!1},d){return[,t]=Jr(t),[,n]=Et(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:f,pointerEvents:u,shapeRendering:l,clip:c,initializer:d}}function mr(t,n,e,r,i,a){let o;function f(c,d,s,h,p,g){const m=c==null&&(n==="fx"||n==="fy"),{[n]:b}=h;if(!b)throw new Error(`missing scale: ${n}`);const y=b.domain();let{interval:_,ticks:v,tickFormat:M,tickSpacing:w=n==="x"?80:35}=i;if(typeof v=="string"&&mg(b)&&(_=v,v=void 0),v===void 0&&(v=xi(_,b.type)??y4(b,w)),c==null){if(ke(v))c=Ce(v);else if(s5(v))c=gf(v,...Zn(y));else if(b.interval){let T=b.interval;if(b.ticks){const[S,C]=Zn(y),$=(C-S)/T[vi];T=Vl(T,$/v)??T,c=gf(T,S,C)}else{c=y;const S=c.length;T=Vl(T,S/v)??T,T!==b.interval&&(c=gf(T,...Zn(c)))}if(T===b.interval){const S=Math.round(c.length/v);S>1&&(c=c.filter((C,$)=>$%S===0))}}else b.ticks?c=b.ticks(v):c=y;if(!b.ticks&&c.length&&c!==y){const T=new no(y);c=c.filter(S=>T.has(S)),c.length||ge(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[_i(c)]:o[n]={scale:n,value:Bn}}a==null||a.call(this,b,c,v,M,o);const x=Object.fromEntries(Object.entries(o).map(([T,S])=>[T,{...S,value:jn(c,S.value)}]));return m&&(d=g.filterFacets(c,x)),{data:c,facets:d,channels:x}}const u=fr(i).initializer,l=t(e,fr({...i,initializer:f},u));return e==null?(o=l.channels,l.channels={}):o={},r!==void 0&&Object.assign(l,r),l.clip===void 0&&(l.clip=!1),l}function y4(t,n){const[e,r]=Zn(t.range());return(r-e)/n}function dg(t,n,e,r,i){return{value:Cc(t,n,e,r,i)}}function Cc(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&_n(n)?Z8(t.type,n,i)??ei:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(_n(t.domain())?yi:dr)(r):r===void 0?ei:Rn(r)}function gf(t,n,e){return t.range(n,t.offset(t.floor(e)))}const v4={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},w4={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},_4={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},x4={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function hg(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function pg(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&mg(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const o=k3(n);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function gg(t="auto"){return Dt(t)?!1:typeof t=="boolean"?t:cn(t,"labelArrow",["auto","up","right","down","left"])}function mg(t){return _n(t.domain())}function Ss(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function M4(t,{opacity:n,...e}={}){if(!De(t)&&!_p(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return bg(t,e,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",Et(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function $4(t,{fill:n=(l=>(l=t.hint)==null?void 0:l.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(c=>(c=t.hint)==null?void 0:c.stroke)()!==void 0?t.hint.stroke:Dt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},u){const[d,s]=Jr(n),[h,p]=Jr(r),g=Ss(u,d),m=Ss(u,h),b=o*o*Math.PI;return e=Et(e)[1],i=Et(i)[1],a=Et(a)[1],bg(t,f,(y,_,v,M)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",v).attr("height",M).attr("fill",d==="color"?w=>g.scale(w):s).attr("fill-opacity",e).attr("stroke",h==="color"?w=>m.scale(w):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",w=>{const x=ce();return t.scale(w).draw(x,b),x}))}function bg(t,n={},e){let{columns:r,tickFormat:i,fontVariant:a=Np(t),swatchSize:o=15,swatchWidth:f=o,swatchHeight:u=o,marginLeft:l=0,className:c,style:d,width:s}=n;const h=vc(n);c=_c(c),i=Cc(t.scale,t.domain,void 0,i);const p=Nt("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(e,t,f,u).call(m=>m.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(e,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",s===void 0?null:`${+s}px`).style("font-variant",wt(a,"normal")).call(xc,d).node()}const yu=new Map([["symbol",$4],["color",vg],["opacity",S4]]);function T4(t,n,e={}){return(r,i)=>{if(!yu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return yu.get(r)(t[r],yg(n,e[r],i),a=>t[a])}}function yg({className:t,...n},{label:e,ticks:r,tickFormat:i}={},a){return v5(a,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function vg(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return M4(t,e);case"ramp":return N7(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function S4({type:t,interpolate:n,...e},{legend:r=!0,color:i=Jn(0,0,0),...a}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return vg({type:t,...e,interpolate:A4(i)},{legend:r,...a})}function A4(t){const{r:n,g:e,b:r}=Jn(t)||Jn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function E4(t,n,e){const r=[];for(const[i,a]of yu){const o=e[i];if(o!=null&&o.legend&&i in t){const f=a(t[i],yg(n,t[i],o),u=>t[u]);f!=null&&r.push(f)}}return r}function C4(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:a=n}={}){t.insetTop=$t(e),t.insetRight=$t(r),t.insetBottom=$t(i),t.insetLeft=$t(a)}function N4(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:a=n,rx2:o=n,ry2:f=n,rx1y1:u=i!==void 0?+i:a!==void 0?+a:0,rx1y2:l=i!==void 0?+i:f!==void 0?+f:0,rx2y1:c=o!==void 0?+o:a!==void 0?+a:0,rx2y2:d=o!==void 0?+o:f!==void 0?+f:0}={}){u||l||c||d?(t.rx1y1=u,t.rx1y2=l,t.rx2y1=c,t.rx2y2=d):(t.rx=wt(e,"auto"),t.ry=wt(r,"auto"))}function k4(t,n,e,r,i,a){const{rx1y1:o,rx1y2:f,rx2y1:u,rx2y2:l}=a;typeof n!="function"&&(n=Rn(n)),typeof e!="function"&&(e=Rn(e)),typeof r!="function"&&(r=Rn(r)),typeof i!="function"&&(i=Rn(i));const c=Math.max(Math.abs(o+u),Math.abs(f+l)),d=Math.max(Math.abs(o+f),Math.abs(u+l));t.attr("d",s=>{const h=n(s),p=e(s),g=r(s),m=i(s),b=h>g,y=p>m,_=b?g:h,v=b?h:g,M=y?m:p,w=y?p:m,x=Math.min(1,(v-_)/c,(w-M)/d),T=x*(b?y?l:u:y?f:o),S=x*(b?y?f:o:y?l:u),C=x*(b?y?o:f:y?u:l),$=x*(b?y?u:l:y?o:f);return`M${_},${M+Xi(T,$)}A${T},${T} 0 0 ${T<0?0:1} ${_+Gi(T,$)},${M}H${v-Gi(S,C)}A${S},${S} 0 0 ${S<0?0:1} ${v},${M+Xi(S,C)}V${w-Xi(C,S)}A${C},${C} 0 0 ${C<0?0:1} ${v-Gi(C,S)},${w}H${_+Gi($,T)}A${$},${$} 0 0 ${$<0?0:1} ${_},${w-Xi($,T)}Z`})}function Gi(t,n){return n<0?t:Math.abs(t)}function Xi(t,n){return n<0?Math.abs(t):t}const D4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},L4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class I4 extends $n{constructor(n={}){const{anchor:e=null}=n;super(oa,void 0,n,e==null?D4:L4),this.anchor=G1(e,"anchor",["top","right","bottom","left"]),C4(this,n),e||N4(this,n)}render(n,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:u,marginLeft:l,width:c,height:d}=i,{anchor:s,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:b,ry:y,rx1y1:_,rx1y2:v,rx2y1:M,rx2y2:w}=this,x=l+m,T=c-f-p,S=o+h,C=d-u-g;return Nt(s?"svg:line":_||v||M||w?"svg:path":"svg:rect",a).datum(0).call(Le,this,i,a).call(Ie,this).call(pr,this,r).call(Re,this,{}).call(s==="left"?$=>$.attr("x1",x).attr("x2",x).attr("y1",S).attr("y2",C):s==="right"?$=>$.attr("x1",T).attr("x2",T).attr("y1",S).attr("y2",C):s==="top"?$=>$.attr("x1",x).attr("x2",T).attr("y1",S).attr("y2",S):s==="bottom"?$=>$.attr("x1",x).attr("x2",T).attr("y1",C).attr("y2",C):_||v||M||w?$=>$.call(k4,x,S,T,C,this):$=>$.attr("x",x).attr("y",S).attr("width",T-x).attr("height",C-S).attr("rx",b).attr("ry",y)).node()}}function R4(t){return new I4(t)}const mf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},F4=new Set(["geometry","href","src","ariaLabel","scales"]);class P4 extends $n{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ke(n)&&Z1(n)&&(e={...e,title:Bn});const{x:r,y:i,x1:a,x2:o,y1:f,y2:u,anchor:l,preferredAnchor:c="bottom",monospace:d,fontFamily:s=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:b=1,lineWidth:y=20,frameAnchor:_,format:v,textAnchor:M="start",textOverflow:w,textPadding:x=8,title:T,pointerSize:S=12,pathFilter:C="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:T,optional:!0}},e,mf),this.anchor=lu(l,"anchor"),this.preferredAnchor=lu(c,"preferredAnchor"),this.frameAnchor=Ao(_),this.textAnchor=wt(M,"middle"),this.textPadding=+x,this.pointerSize=+S,this.pathFilter=xt(C),this.lineHeight=+b,this.lineWidth=+y,this.textOverflow=Wp(w),this.monospace=!!d,this.fontFamily=xt(s),this.fontSize=$t(h),this.fontStyle=xt(p),this.fontVariant=xt(g),this.fontWeight=xt(m);for(const $ in mf)$ in this.channels&&(this[$]=mf[$]);this.splitLines=Gp(this),this.clipLine=Xp(this),this.format=typeof v=="string"||typeof v=="function"?{title:v}:{...v}}render(n,e,r,i,a){const o=this,{x:f,y:u,fx:l,fy:c}=e,{ownerSVGElement:d,document:s}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:b,pointerSize:y,pathFilter:_}=this,{marginTop:v,marginLeft:M}=i,{x1:w,y1:x,x2:T,y2:S,x:C=w??T,y:$=x??S}=r,k=l?l(n.fx)-M:0,I=c?c(n.fy)-v:0,[R,A]=Ei(this,i),F=Ep(r,R),z=Cp(r,A),Y=p?Ec:Ac,W=Y(Ve);let D,P;"title"in r?(D=As.call(this,{title:r.channels.title},e),P=Y4):(D=As.call(this,r.channels,e),P=H4);const q=Nt("svg:g",a).call(Le,this,i,a).call(Vp,this).call(Re,this,{x:C&&f,y:$&&u}).call(tt=>tt.selectAll().data(n).enter().append("g").attr("transform",Q=>`translate(${Math.round(F(Q))},${Math.round(z(Q))})`).call(Ie,this).call(Q=>Q.append("path").attr("filter",_)).call(Q=>Q.append("text").each(function(U){const H=se(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=P.call(o,U,n,D,e,r);if(typeof N=="string")for(const O of o.splitLines(N))L(H,{value:o.clipLine(O)});else{const O=new Set;for(const B of N){const{label:E=""}=B;E&&O.has(E)||(O.add(E),L(H,B))}}})));function L(tt,{label:Q,value:U,color:H,opacity:N}){Q??(Q=""),U??(U="");const O=H!=null||N!=null;let B,E=m*100;const[ot]=ur(Q,E,Y,W);if(ot>=0)Q=Q.slice(0,ot).trimEnd()+Ve,B=U.trim(),U="";else{(Q||!U&&!O)&&(U=" "+U);const[ct]=ur(U,E-Y(Q),Y,W);ct>=0&&(B=U.trim(),U=U.slice(0,ct).trimEnd()+Ve)}const V=tt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");Q&&V.append("tspan").attr("font-weight","bold").text(Q),U&&V.append(()=>s.createTextNode(U)),O&&V.append("tspan").text(" ").attr("fill",H).attr("fill-opacity",N).style("user-select","none"),B&&V.append("title").text(B)}function G(){const{width:tt,height:Q}=i.facet??i;q.selectChildren().each(function(U){let{x:H,width:N,height:O}=this.getBBox();N=Math.round(N),O=Math.round(O);let B=h;if(B===void 0){const V=F(U)+k,ct=z(U)+I,pt=V+N+y+b*2<tt,Ft=V-N-y-b*2>0,Fe=ct+O+y+b*2<Q,br=ct-O-y-b*2>0;B=pt&&Ft?Fe&&br?o.preferredAnchor:br?"bottom":"top":Fe&&br?pt?"left":"right":(pt||Ft)&&(Fe||br)?`${br?"bottom":"top"}-${pt?"left":"right"}`:o.preferredAnchor}const E=this.firstChild,ot=this.lastChild;if(E.setAttribute("d",B4(B,y,b,N,O)),H)for(const V of ot.childNodes)V.setAttribute("x",-H);ot.setAttribute("y",`${+U4(B,ot.childNodes.length,g).toFixed(6)}em`),ot.setAttribute("transform",`translate(${q4(B,y,b,N,O)})`)}),q.attr("visibility",null)}return n.length&&(q.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(G):typeof requestAnimationFrame<"u"&&requestAnimationFrame(G)),q.node()}}function O4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=fc(n,e)),new P4(t,{...r,x:n,y:e})}function U4(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function q4(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function B4(t,n,e,r,i){const a=r+e*2,o=i+e*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${n},${n}h${a-n}v${o}h${-a}z`;case"top":return`M0,0l${n/2},${n/2}h${(a-n)/2}v${o}h${-a}v${-o}h${(a-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-a}v${o}h${a}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-o/2}h${-a}v${o}h${a}v${n/2-o/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${a-n}v${-o}h${-a}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(a-n)/2}v${-o}h${-a}v${o}h${(a-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-a}v${-o}h${a}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-o/2}h${a}v${o}h${-a}v${n/2-o/2}z`}}function As(t,n){var i,a;const e={};let r=this.format;r=Es(r,t,"x"),r=Es(r,t,"y"),this.format=r;for(const o in r){const f=r[o];if(!(f===null||f===!1))if(o==="fx"||o==="fy")e[o]=!0;else{const u=es(t,o);u&&(e[o]=u)}}for(const o in t){if(o in e||o in r||F4.has(o)||(o==="x"||o==="y")&&t.geometry)continue;const f=es(t,o);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[o]=f}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const o in e){const f=this.format[o];if(typeof f=="string"){const u=((i=e[o])==null?void 0:i.value)??((a=n[o])==null?void 0:a.domain())??[];this.format[o]=(_n(u)?yi:dr)(f)}else if(f===void 0||f===!0){const u=n[o];this.format[o]=u!=null&&u.bandwidth?Cc(u,u.domain()):ei}}return e}function Es(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const a=Object.entries(t),o=t[e];return a.splice(a.findIndex(([f])=>f===e)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function Y4(t,n,{title:e}){return this.format.title(e.value[t],t)}function*H4(t,n,e,r,i){for(const a in e){if(a==="fx"||a==="fy"){yield{label:Xa(r,e,a),value:this.format[a](n[a],t)};continue}if(a==="x1"&&"x2"in e||a==="y1"&&"y2"in e)continue;const o=e[a];if(a==="x2"&&"x1"in e)yield{label:Ns(r,e,"x"),value:Cs(this.format.x2,e.x1,o,t)};else if(a==="y2"&&"y1"in e)yield{label:Ns(r,e,"y"),value:Cs(this.format.y2,e.y1,o,t)};else{const f=o.value[t],u=o.scale;if(!$e(f)&&u==null)continue;yield{label:Xa(r,e,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function Cs(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function Ns(t,n,e){const r=Xa(t,n,`${e}1`,e),i=Xa(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function Xa(t,n,e,r=e){const i=n[e],a=t[(i==null?void 0:i.scale)??e];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function wg(t={}){var W;const{facet:n,style:e,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:f}=t,u=_c(t.className),l=t.marks===void 0?[]:Ds(t.marks);l.push(...K4(l));const c=X4(n,t),d=new Map;for(const D of l){const P=Ls(D,c,t);P&&d.set(D,P)}const s=new Map;c&&Tr(s,[c],t),Tr(s,d,t);const h=Ds(Q4(l,s,t));for(const D of h){const P=Ls(D,c,t);P&&d.set(D,P)}l.unshift(...h);let p=U3(s,t);if(p!==void 0){const D=c?sf(p,c):void 0;for(const q of l){if(q.facet===null||q.facet==="super")continue;const L=d.get(q);L!==void 0&&(L.facetsIndex=q.fx!=null||q.fy!=null?sf(p,L):D)}const P=new Set;for(const{facetsIndex:q}of d.values())q==null||q.forEach((L,G)=>{(L==null?void 0:L.length)>0&&P.add(G)});p.forEach(0<P.size&&P.size<p.length?(q,L)=>q.empty=!P.has(L):q=>q.empty=!1);for(const q of l)if(q.facet==="exclude"){const L=d.get(q);L!==void 0&&(L.facetsIndex=Y3(L.facetsIndex))}}for(const D of ht.keys())uu(t[D])&&D!=="fx"&&D!=="fy"&&s.set(D,[]);const g=new Map;for(const D of l){if(g.has(D))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:q}=d.get(D)??{},{data:L,facets:G,channels:tt}=D.initialize(P,q,t);Nc(tt,t),g.set(D,{data:L,facets:G,channels:tt})}const m=pu(Tr(s,g,t),t),b=S7(m,l,t);C3(m,b);const y=ls(m),{fx:_,fy:v}=y,M=_||v?yp(m,b):b,w=_||v?i9(y,b):b,x=vc(t),T=x.document,S=ro("svg").call(T.documentElement);let C=S;x.ownerSVGElement=S,x.className=u,x.projection=Q3(t,M),x.path=function(){return Wu(this.projection??i7(y))},x.filterFacets=(D,P)=>sf(p,{channels:P,groups:yc(D,P)}),x.getMarkState=D=>{const P=g.get(D),q=d.get(D);return{...P,channels:{...P.channels,...q==null?void 0:q.channels}}},x.dispatchValue=D=>{C.value!==D&&(C.value=D,C.dispatchEvent(new x.document.defaultView.Event("input",{bubbles:!0})))};const $=new Set;for(const[D,P]of g)if(D.initializer!=null){const q=D.facet==="super"?w:M,L=D.initializer(P.data,P.facets,P.channels,y,q,x);if(L.data!==void 0&&(P.data=L.data),L.facets!==void 0&&(P.facets=L.facets),L.channels!==void 0){const{fx:G,fy:tt,...Q}=L.channels;G4(Q),Object.assign(P.channels,Q);for(const U of Object.values(Q)){const{scale:H}=U;H!=null&&!x5(ht.get(H))&&(_g(U,t),$.add(H))}(G!=null||tt!=null)&&d.set(D,!0)}}if($.size){const D=new Map;Tr(D,g,t,G=>$.has(G)),Tr(s,g,t,G=>$.has(G));const P=r9(pu(D,t),m),{scales:q,...L}=ls(P);Object.assign(m,P),Object.assign(y,L),Object.assign(y.scales,q)}let k,I;p!==void 0&&(k={x:_==null?void 0:_.domain(),y:v==null?void 0:v.domain()},p=q3(p,k),I=B3(_,v,b));for(const[D,P]of g)P.values=D.scale(P.channels,y,x);const{width:R,height:A}=b;se(S).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",A).attr("viewBox",`0 0 ${R} ${A}`).attr("aria-label",o).attr("aria-description",f).call(D=>D.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(xc,e);for(const D of l){const{channels:P,values:q,facets:L}=g.get(D);if(p===void 0||D.facet==="super"){let G=null;if(L&&(G=L[0],G=D.filter(G,P,q),G.length===0))continue;const tt=D.render(G,y,q,w,x);if(tt==null)continue;S.appendChild(tt)}else{let G;for(const tt of p){if(!(((W=D.facetAnchor)==null?void 0:W.call(D,p,k,tt))??!tt.empty))continue;let Q=null;if(L){const H=d.has(D);if(Q=L[H?tt.i:0],Q=D.filter(Q,P,q),Q.length===0)continue;!H&&Q===L[0]&&(Q=f5(Q)),Q.fx=tt.x,Q.fy=tt.y,Q.fi=tt.i}const U=D.render(Q,y,q,M,x);if(U!=null){(G??(G=se(S).append("g"))).append(()=>U).datum(tt);for(const H of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(H)&&(G.attr(H,U.getAttribute(H)),U.removeAttribute(H))}}G==null||G.selectChildren().each(I)}}const F=E4(m,x,t),{figure:z=r!=null||i!=null||a!=null||F.length>0}=t;z&&(C=T.createElement("figure"),C.className=`${u}-figure`,C.style.maxWidth="initial",r!=null&&C.append(ks(T,r,"h2")),i!=null&&C.append(ks(T,i,"h3")),C.append(...F,S),a!=null&&C.append(z4(T,a)),"value"in S&&(C.value=S.value,delete S.value)),C.scale=P3(y.scales),C.legend=T4(m,x,t);const Y=d3();return Y>0&&se(S).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${Y.toLocaleString("en-US")} warning${Y===1?"":"s"}. Please check the console.`),C}function ks(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function z4(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Ds(t){return t.flat(1/0).filter(n=>n!=null).map(W4)}function W4(t){return typeof t.render=="function"?t:new V4(t)}class V4 extends $n{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Nc(t,n){for(const e in t)_g(t[e],n);return t}function _g(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:a,interval:o,transform:f=a?u=>u==null?NaN:u*100:u5(o,i)}=n[e]??{};f!=null&&(t.value=Tt(t.value,f),t.transform=!1)}function G4(t){for(const n in t)ip(n,t[n])}function Tr(t,n,e,r=r5){var i,a;for(const{channels:o}of n.values())for(const f in o){const u=o[f],{scale:l}=u;if(l!=null&&r(l))if(l==="projection"){if(!n7(e)){const c=((i=e.x)==null?void 0:i.domain)===void 0,d=((a=e.y)==null?void 0:a.domain)===void 0;if(c||d){const[s,h]=r7(u);c&&bf(t,"x",s),d&&bf(t,"y",h)}}}else bf(t,l,u)}return t}function bf(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function X4(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=ar(t.data);if(i==null)throw new Error("missing facet data");const a={};e!=null&&(a.fx=ti(i,{value:e,scale:"fx"})),r!=null&&(a.fy=ti(i,{value:r,scale:"fy"})),Nc(a,n);const o=yc(i,a);return{channels:a,groups:o,data:t.data}}function Ls(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=ar(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const l={};return r!=null&&(l.fx=ti(u,{value:r,scale:"fx"})),i!=null&&(l.fy=ti(u,{value:i,scale:"fy"})),Nc(l,e),{channels:l,groups:yc(u,l)}}if(n===void 0)return;const{channels:a,groups:o,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:o};f.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&cu(ar(t.data))===cu(f)&&ge(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Z4(t,n={}){return fr({...n,x:null,y:null},(e,r,i,a,o,f)=>f.getMarkState(t))}function K4(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?C7:/^y$/i.test(i)?vs:E7,r=i(Z4(e,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===vs?"left":"bottom");const o=O4(e.data,r);o.facet=e.facet,o.facetAnchor=e.facetAnchor,n.push(o)}}return n}function Q4(t,n,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:u,grid:l,facet:c={},facet:{axis:d=u,grid:s}=c,x:{axis:h=u,grid:p=h===null?null:l}=i,y:{axis:g=u,grid:m=g===null?null:l}=a,fx:{axis:b=d,grid:y=b===null?null:s}=o,fy:{axis:_=d,grid:v=_===null?null:s}=f}=e;(r||!uu(i)&&!Is("x",t))&&(h=p=null),(r||!uu(a)&&!Is("y",t))&&(g=m=null),n.has("fx")||(b=y=null),n.has("fy")||(_=v=null),h===void 0&&(h=!Qi(t,"x")),g===void 0&&(g=!Qi(t,"y")),b===void 0&&(b=!Qi(t,"fx")),_===void 0&&(_=!Qi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),b===!0&&(b=h==="top"||h===null?"bottom":"top"),_===!0&&(_=g==="right"||g===null?"left":"right");const M=[];return Ki(M,v,g4,f),Zi(M,_,u4,"right","left",c,f),Ki(M,y,b4,o),Zi(M,b,c4,"top","bottom",c,o),Ki(M,m,p4,a),Zi(M,g,ig,"left","right",e,a),Ki(M,p,m4,i),Zi(M,h,ag,"bottom","top",e,i),M}function Zi(t,n,e,r,i,a,o){if(!n)return;const f=J4(n);o=j4(f?r:n,a,o);const{line:u}=o;(e===ig||e===ag)&&u&&!jr(u)&&t.push(R4(t9(o))),t.push(e(o)),f&&t.push(e({...o,anchor:i,label:null}))}function Ki(t,n,e,r){!n||jr(n)||t.push(e(n9(n,r)))}function J4(t){return/^\s*both\s*$/i.test(t)}function j4(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:l,ariaLabel:c,ariaDescription:d,label:s=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:u,fontVariant:l,ariaLabel:c,ariaDescription:d,label:s,labelAnchor:h,labelArrow:p,labelOffset:g}}function t9(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function n9(t,{stroke:n=So(t)?t:void 0,ticks:e=e9(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function e9(t){switch(typeof t){case"number":return!0;case"string":return!So(t)}return ke(t)||typeof(t==null?void 0:t.range)=="function"}function Qi(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function Is(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function r9(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function i9({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:u}=bc(e),l=t&&Rs(t),c=n&&Rs(n);return{marginTop:n?c[0]:r,marginRight:t?f-l[1]:i,marginBottom:n?u-c[1]:a,marginLeft:t?l[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:u}}function Rs(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const a9={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function o9(t){return t.sort===void 0&&t.reverse===void 0?N5({channel:"-r"},t):t}class f9 extends $n{constructor(n,e={}){const{x:r,y:i,r:a,rotate:o,symbol:f=Qr,frameAnchor:u}=e,[l,c]=Et(o,0),[d,s]=E5(f),[h,p]=Et(a,d==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:_o,optional:!0},rotate:{value:l,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},o9(e),a9),this.r=p,this.rotate=c,this.symbol=s,this.frameAnchor=Ao(u);const{channels:g}=this,{symbol:m}=g;if(m){const{fill:b,stroke:y}=g;m.hint={fill:b?b.value===m.value?"color":"currentColor":this.fill??"currentColor",stroke:y?y.value===m.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,a){const{x:o,y:f}=e,{x:u,y:l,r:c,rotate:d,symbol:s}=r,{r:h,rotate:p,symbol:g}=this,[m,b]=Ei(this,i),y=g===Qr,_=c?void 0:h*h*Math.PI;return nc(h)&&(n=[]),Nt("svg:g",a).call(Le,this,i,a).call(Re,this,{x:u&&o,y:l&&f}).call(v=>v.selectAll().data(n).enter().append(y?"circle":"path").call(Ie,this).call(y?M=>{M.attr("cx",u?w=>u[w]:m).attr("cy",l?w=>l[w]:b).attr("r",c?w=>c[w]:h)}:M=>{M.attr("transform",$c`translate(${u?w=>u[w]:m},${l?w=>l[w]:b})${d?w=>` rotate(${d[w]})`:p?` rotate(${p})`:""}`).attr("d",c&&s?w=>{const x=ce();return s[w].draw(x,c[w]*c[w]*Math.PI),x}:c?w=>{const x=ce();return g.draw(x,c[w]*c[w]*Math.PI),x}:s?w=>{const x=ce();return s[w].draw(x,_),x}:(()=>{const w=ce();return g.draw(w,_),w})())}).call(pr,this,r)).node()}}function Fs(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=fc(n,e)),new f9(t,{...r,x:n,y:e})}$n.prototype.plot=function({marks:t=[],...n}={}){return wg({...n,marks:[...t,this]})};var u9=Cu('<button class="svelte-usrioq"> </button>'),c9=(t,n)=>{Zs(n,-1)},l9=Cu('<div><h2> </h2> <p> </p></div> <div id="answers" class="svelte-usrioq"></div> <div><button aria-label="Go back">Go back</button></div>',1),s9=(t,n,e)=>{Ot(n,0),e.fill(0)},d9=Cu('<p> </p> <p> </p> <div></div> <button aria-label="Reset">Reset</button>',1);function h9(t,n){Hs(n,!0);let e=jt(!1);Pm(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)");Ot(e,g.matches,!0),g.addEventListener("change",m=>{Ot(e,m.matches,!0)})});let r=jt(0);const i=[{party:"Conservative",leftRight:4.44,authLib:7.34,vote:23.7,color:"#0087dc"},{party:"Labour",leftRight:2.3,authLib:5.4,vote:33.7,color:"#e4003b"},{party:"Lib Dem",leftRight:2.78,authLib:5.34,vote:12.1,color:"#faa619"},{party:"SNP",leftRight:1.8,authLib:4.95,vote:2.5,color:"#fdf38e"},{party:"Green",leftRight:1.79,authLib:4.38,vote:6.4,color:"#06a95b"},{party:"Reform",leftRight:3.22,authLib:7.63,vote:14.3,color:"#12b6cf"}];function a(){return i.map(g=>({party:g.party,dist:Math.pow(g.leftRight-at(l)[0],2)+Math.pow(g.authLib-at(l)[1],2)})).sort((g,m)=>g.dist-m.dist)[0]}const o=["Government should redistribute income from the better off to those who are less well off","Big business takes advantage of ordinary people","Ordinary working people do not get their fair share of the nation's wealth","There is one law for the rich and one for the poor","Management will always try to get the better of employees if it gets the chance","Young people today don't have enough respect for traditional British values","For some crimes, the death penalty is the most appropriate sentence","Schools should teach children to obey authority","Censorship of films and magazines is necessary to uphold moral standards","People who break the law should be given stiffer sentences"];let f=oe(Array(o.length).fill(0));const u=g=>{f[at(r)]=g,at(r)<o.length&&Zs(r)};let l=Vg(()=>{let g=0,m=0;for(let b=0;b<5;b++)g+=f[b];for(let b=5;b<10;b++)m+=f[b];return[10-g/2,m/2]}),c=jt(null);td(()=>{if(at(r)<o.length||!at(c))return;at(c).replaceChildren();const g={party:"You",leftRight:at(l)[0],authLib:at(l)[1],isUser:!0},m=wg({marginLeft:40,marginBottom:40,width:500,height:500,x:{label:"Left (0)  Right (10)",domain:[0,10],ticks:11},y:{label:"Liberal (0)  Authoritarian (10)",domain:[0,10],ticks:11},r:{domain:[0,Math.max(...i.map(b=>b.vote))],range:[4,20]},marks:[Fs(i,{x:"leftRight",y:"authLib",stroke:"color",fill:"color",title:b=>b.party,r:"vote",tip:!0}),Fs([g],{x:"leftRight",y:"authLib",fill:at(e)?"white":"black",stroke:"black",title:"You",r:6}),Sc([g],{x:"leftRight",y:"authLib",text:"party",dy:-12,fontSize:12}),Bp([5],{stroke:at(e)?"white":"black",strokeOpacity:.5}),Yp([5],{stroke:at(e)?"white":"black",strokeOpacity:.5})]});at(c).append(m)});var d=_m(),s=Io(d);{var h=g=>{var m=l9(),b=Io(m),y=ie(b),_=ie(y),v=Pe(y,2),M=ie(v),w=Pe(b,2);Em(w,20,()=>["Strongly disagree","disagree","Neither agree nor disagree","Agree","Strongly agree"],Sm,(S,C,$)=>{var k=u9();k.__click=()=>u($);var I=ie(k);Ro(()=>{Lm(k,"aria-label",C),yr(I,C)}),Ni(S,k)});var x=Pe(w,2),T=ie(x);T.__click=[c9,r],Ro(()=>{yr(_,`Question ${at(r)+1}`),yr(M,o[at(r)]),T.disabled=at(r)===0}),Ni(g,m)},p=g=>{var m=d9(),b=Io(m),y=ie(b),_=Pe(b,2),v=ie(_),M=Pe(_,2);Fm(M,x=>Ot(c,x),()=>at(c));var w=Pe(M,2);w.__click=[s9,r,f],Ro((x,T,S)=>{yr(y,`Your position: LeftRight = ${x??""}, AuthLib = ${T??""}`),yr(v,`Your closest party: ${S??""}`)},[()=>at(l)[0].toFixed(2),()=>at(l)[1].toFixed(2),()=>a().party]),Ni(g,m)};Tm(s,g=>{at(r)<o.length?g(h):g(p,!1)})}Ni(t,d),zs()}vm(["click"]);xm(h9,{target:document.getElementById("app")});
